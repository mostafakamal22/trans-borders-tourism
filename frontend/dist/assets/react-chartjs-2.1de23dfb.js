import{r as a}from"./react.93c2303f.js";import{C as E}from"./chart.js.d8be91bf.js";import{a as R}from"./@reduxjs.9858be38.js";const h="label";function m(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function j(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function b(t,e){t.labels=e}function C(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h;const f=[];t.datasets=e.map(r=>{const o=t.datasets.find(i=>i[n]===r[n]);return!o||!r.data||f.includes(o)?{...r}:(f.push(o),Object.assign(o,r),o)})}function v(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h;const n={labels:[],datasets:[]};return b(n,t.labels),C(n,t.datasets,e),n}function I(t,e){const{height:n=150,width:f=300,redraw:r=!1,datasetIdKey:o,type:i,data:u,options:c,plugins:x=[],fallbackContent:y,updateMode:g,...w}=t,d=a.exports.useRef(null),s=a.exports.useRef(),l=()=>{!d.current||(s.current=new E(d.current,{type:i,data:v(u,o),options:c&&{...c},plugins:x}),m(e,s.current))},p=()=>{m(e,null),s.current&&(s.current.destroy(),s.current=null)};return a.exports.useEffect(()=>{!r&&s.current&&c&&j(s.current,c)},[r,c]),a.exports.useEffect(()=>{!r&&s.current&&b(s.current.config.data,u.labels)},[r,u.labels]),a.exports.useEffect(()=>{!r&&s.current&&u.datasets&&C(s.current.config.data,u.datasets,o)},[r,u.datasets]),a.exports.useEffect(()=>{!s.current||(r?(p(),setTimeout(l)):s.current.update(g))},[r,c,u.labels,u.datasets,g]),a.exports.useEffect(()=>{!s.current||(p(),setTimeout(l))},[i]),a.exports.useEffect(()=>(l(),()=>p()),[]),R("canvas",{...Object.assign({ref:d,role:"img",height:n,width:f},w),children:y})}const T=a.exports.forwardRef(I);export{T as C};
