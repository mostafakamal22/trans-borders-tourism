import{b as w}from"./index.esm.a6b2d145.js";import{F as g}from"./index.145ede7a.js";import{a as m,j as t,a7 as y,L as u,r as l}from"./vendor.c17f1326.js";import{d as N}from"./dayjs.min.c3329109.js";import{t as i,b as f}from"./constants.2551fae6.js";const P=m("tr",{className:"border-y border-y-black",children:[i.map(r=>t("th",{scope:"col",className:"border-x border-x-black py-3 px-3 text-center",children:r},r)),t("th",{scope:"col",className:"border-x border-x-black p-2 text-center",children:"\u0645"})]}),S=({basicOptions:r,extraOptions:s})=>{var b;const{item:e,index:c,tableBodyData:o}=r,{isDeleting:n,handleRemoving:a,setId:x,setIsOpen:p}=s;return m("tr",{className:`${c%2===0?"bg-white":"bg-gray-100"} border-b border-b-black`,children:[t("th",{scope:"row",className:"whitespace-nowrap border-x   border-x-black p-2 text-center  text-gray-900",children:t("form",{className:"m-auto max-w-[150px]",onSubmit:h=>a(h,e==null?void 0:e.id),children:t(g,{bgColor:["bg-red-600","bg-red-700","bg-red-800"],icon:t(w,{className:"mb-[-2px]",size:25}),isLoading:n})})}),t("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:t("button",{className:"flex w-full items-center justify-center rounded border border-transparent bg-blue-800 px-3 py-2.5 text-xs font-bold text-white transition-all duration-300 ease-in-out\r hover:border-blue-800 hover:bg-white hover:text-blue-800",onClick:()=>{x==null||x(e==null?void 0:e.id),p==null||p(!0)},children:t(y,{size:20})})}),t("th",{scope:"row",className:"whitespace-nowrap border-x  border-x-black p-2 text-center  text-gray-900",children:t(u,{to:`/bills/${e==null?void 0:e.id}`,state:{bill:e},className:"m-auto max-w-[150px] rounded bg-blue-800 px-3 py-2 text-white shadow-sm",children:"\u0639\u0631\u0636 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"})}),t("th",{scope:"row",className:"whitespace-nowrap border-x  border-x-black p-2 text-center  text-gray-900 ",children:e!=null&&e.date?N(e==null?void 0:e.date).format("DD/MM/YYYY"):"-"}),t("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:(b=e==null?void 0:e.details)==null?void 0:b.map((h,d)=>t("span",{className:"my-1 flex flex-row-reverse items-center justify-center gap-1 rounded bg-amber-400 p-1",children:t("span",{children:h==null?void 0:h.type})},d))}),t("th",{scope:"row",className:"whitespace-nowrap border-x  border-x-black p-2 text-center  text-gray-900",children:e.total}),t("th",{scope:"row",className:"whitespace-nowrap border-x  border-x-black p-2 text-center  text-gray-900",children:e.ID}),t("th",{scope:"row",className:"whitespace-nowrap border-x  border-x-black p-2 text-center  text-gray-900",children:e.customer.name}),t("th",{scope:"row",className:"text-gray-90  border-x border-x-black p-2 text-center",children:(o==null?void 0:o.findIndex(h=>h.id===(e==null?void 0:e.id)))+1})]},e==null?void 0:e.id)},R=(r,s)=>{const e=r==null?void 0:r.price,c=r==null?void 0:r.quantity,o=(r==null?void 0:r.price)*c,n="0.00",a="0.00",x=m("tr",{className:"border-b bg-white",children:[t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:s+1}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:r!=null&&r.desc?r==null?void 0:r.desc:"-"}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:e.toFixed(2)}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:c}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:n}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:a}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:o.toFixed(2)})]});return t(l.exports.Fragment,{children:x},s)},V=t("tr",{className:"border-b",children:f.map(r=>t("th",{scope:"col",className:"border-x p-2 text-center text-sm",children:r},r))}),j=(r,s)=>{var b;const e=r==null?void 0:r.price,c=(b=r==null?void 0:r.data)==null?void 0:b.servicePrice,o=(e-c)*100/105,n=e-c-o,a=n+o,x=m("tr",{className:"border-b bg-white",children:[m("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:[s+1," -A"]}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:r!=null&&r.desc?r==null?void 0:r.desc:"-"}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:c.toFixed(2)}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:r==null?void 0:r.quantity}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:"0.00"}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:"0.00"}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:c.toFixed(2)})]}),p=m("tr",{className:"border-b bg-white",children:[m("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:[s+1," -B"]}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:"Service Charge"}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:o==null?void 0:o.toFixed(2)}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:"1"}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:"0.00"}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:n.toFixed(2)}),t("th",{scope:"row",className:"border-x p-2 text-center text-sm font-normal text-gray-900",children:a.toFixed(2)})]});return m(l.exports.Fragment,{children:[x,p]},`${r==null?void 0:r.passport_ref}+${s}`)},q=r=>{let s={totalServices:0,totalAmount:0,TotalVAT:0};return r.map(e=>{var c;if(e.type==="Passport"){const o=e==null?void 0:e.price,n=(c=e==null?void 0:e.data)==null?void 0:c.servicePrice,a=(o-n)*100/105,x=o-n-a,p=n+a;s.TotalVAT+=x,s.totalServices+=p,s.totalAmount+=o}else{const o=e==null?void 0:e.price,n=0,a=o*(e==null?void 0:e.quantity);s.TotalVAT+=n,s.totalServices+=o*(e==null?void 0:e.quantity),s.totalAmount+=a}}),s};export{j as a,V as b,q as c,R as d,P as e,S as t};
