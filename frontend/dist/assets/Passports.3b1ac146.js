import{r as c,j as e,a as n,Z as Y,a6 as ie,a7 as oe,Y as $,w as O,_ as de,$ as me}from"./vendor.c17f1326.js";import{l as xe,u as he,F as be,P as fe,N as ge,a as pe}from"./index.755d76fd.js";import{S as ve,c as ye,a as we}from"./CreatePassport.991263f6.js";import{a as Ne,b as ke,c as h,d as M,p as R,e as Ce,f as Ae}from"./constants.9d4288a3.js";import{D as z,F as U,u as Fe}from"./index.99e40694.js";import{F as A}from"./FormInput.53f96b8d.js";import{l as w,i as x}from"./constants.ffd6e56c.js";import{d as j}from"./dayjs.min.c3329109.js";import{m as B,c as De,a as Re,A as _e}from"./animationOptions.7780460c.js";import{D as G}from"./DataFetchingErrorMessage.f8995f8e.js";import{b as Ee}from"./index.esm.a6b2d145.js";import{c as je}from"./invoiceApiSlice.80cf1dec.js";import{s as T,u as Se}from"./useScroll.40b3b3cf.js";const He=({id:s,setIsOpen:d})=>{const t={name:"",nationality:"",state:"",service:"",passportId:"",paymentDate:"",servicePrice:0,taxable:0,taxRate:0,total:0,sales:0,profit:0},{data:l,isLoading:b,error:y}=Ne({id:s}),[r,o]=c.exports.useState(t),[i,{isLoading:v}]=ke(),m=async u=>{u.preventDefault();const g={id:s,name:r.name.trim(),nationality:r.nationality.trim(),state:r.state,service:r.service,passportId:r.passportId,paymentDate:r.paymentDate,servicePrice:r.servicePrice,taxable:r.taxable,taxRate:r.taxRate,total:r.total,sales:r.sales,profit:r.profit};await i(g)};return c.exports.useEffect(()=>{l&&o({name:l==null?void 0:l.customer_name,nationality:l==null?void 0:l.customer_nationality,state:l==null?void 0:l.state,service:l==null?void 0:l.service,passportId:l==null?void 0:l.passport_id,paymentDate:l!=null&&l.payment_date?j(l==null?void 0:l.payment_date).format("YYYY-MM-DD"):"",servicePrice:l==null?void 0:l.service_price,taxable:l==null?void 0:l.taxable,taxRate:l==null?void 0:l.tax_rate,total:l==null?void 0:l.total,sales:l==null?void 0:l.sales,profit:l==null?void 0:l.profit})},[l]),c.exports.useEffect(()=>{const u=window.scrollY;window.scrollBy(0,-u)},[]),y?e(G,{}):!l||b?e(z,{}):n("div",{className:"fixed inset-0 z-50  h-screen w-full overflow-y-auto overflow-x-hidden bg-black/75 scrollbar-thin scrollbar-track-transparent  scrollbar-thumb-gray-400 scrollbar-track-rounded-full md:inset-0",children:[n(B.button,{...De,className:"fixed top-5 right-[5%] inline-flex items-center rounded border border-transparent bg-red-800 px-2  py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-red-800\r hover:bg-white hover:text-red-800 sm:px-3 sm:text-sm",onClick:()=>d(!1),type:"button",children:[e(Y,{className:"mr-1",size:20}),"\u0625\u063A\u0644\u0627\u0642"]}),c.exports.createElement(B.div,{...Re,key:"modal",className:"mx-auto my-5 w-full max-w-5xl rounded bg-slate-50 p-6 shadow-lg shadow-black/30"},n("h3",{className:"mb-10 flex items-center justify-center rounded bg-red-800 px-2 py-4 text-center text-xl font-bold text-white shadow ",children:[e(ve,{className:"mr-1 h-16 w-16 drop-shadow"}),e("span",{children:" \u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062C\u0648\u0627\u0632"})]}),n("form",{onSubmit:m,children:[e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062C\u0648\u0627\u0632 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 ]"}),n("div",{className:"mb-10 flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:h[0],name:"customerName",labeClassNames:w.default,className:x.default,type:"text",value:r.name,onChange:u=>o({...r,name:u.target.value}),required:!0}),e(A,{label:h[1],name:"customerNationality",labeClassNames:w.default,className:x.default,type:"text",value:r.nationality,onChange:u=>o({...r,nationality:u.target.value})}),e(A,{label:h[2],name:"passportId",labeClassNames:w.default,className:x.default,type:"text",value:r.passportId,onChange:u=>o({...r,passportId:u.target.value}),required:!0}),e(A,{label:h[5],name:"servicePrice",labeClassNames:w.default,className:x.default,type:"number",value:r.servicePrice,onChange:u=>o({...r,servicePrice:+u.target.value,sales:r.service==="change_situation"?+u.target.value+r.taxRate+r.taxable:0,total:r.service==="change_situation"?+u.target.value+r.taxRate+r.taxable:0,profit:0}),min:0,step:.01}),e(A,{label:h[7],name:"taxable",labeClassNames:w.default,className:`${x.default} bg-slate-200`,type:"number",value:r.taxable,disabled:!0,min:0,step:.01}),e(A,{label:h[6],name:"taxRate",labeClassNames:w.default,className:`${x.default} bg-slate-200`,type:"number",value:r.taxRate,disabled:!0,min:0,step:.01}),e(A,{label:h[8],name:"totalPayment",labeClassNames:w.default,className:`${x.default} bg-slate-200`,type:"number",value:r.total,disabled:!0,min:0,step:.01}),e(A,{label:h[10],name:"sales",labeClassNames:w.default,className:x.default,type:"number",value:r.sales,onChange:u=>o({...r,total:ye({sales:+u.target.value,servicePrice:r.servicePrice}),sales:+u.target.value,profit:+we({sales:+u.target.value,servicePrice:r.servicePrice})}),min:0,step:.01}),e(A,{label:h[11],name:"profit",labeClassNames:w.default,className:`${x.default} bg-slate-200`,type:"number",value:r.profit,disabled:!0,min:0,step:.01}),e(A,{label:h[12],name:"paymentDate",labeClassNames:w.default,className:x.default,type:"date",value:r.paymentDate,onChange:u=>o({...r,paymentDate:u.target.value}),required:!0}),e("select",{name:"state",id:"state",className:x.default,value:r.state,onChange:u=>o({...r,state:u.target.value}),children:Object.keys(M).map(u=>e("option",{value:u,children:M[u][0]},u))}),e("label",{htmlFor:"state",className:w.default,children:h[3]}),e("select",{name:"service",id:"service",className:x.default,value:r.service,onChange:u=>o({...r,service:u.target.value}),children:Object.keys(R).map(u=>e("option",{value:u,children:R[u]},u))}),e("label",{htmlFor:"service",className:w.default,children:h[4]})]}),e(U,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:v,icon:e(ie,{className:"ml-1",size:25})})]}))]})},Le=n("tr",{className:"border-y border-y-black",children:[[...h].reverse().slice(0,1).map(s=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:s},s)),[...h].reverse().slice(2,9).map(s=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:s},s)),[...h].reverse().slice(10,11).map(s=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:s},s)),[...h].reverse().slice(12).map(s=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:s},s)),e("th",{scope:"col",className:"border-x border-x-black p-1 text-center",children:"\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"}),e("th",{scope:"col",className:"border-x border-x-black p-1 text-center",children:"\u0645"})]}),Me=({basicOptions:s,extraOptions:d})=>{const{item:t,index:l,tableBodyData:b}=s,{handleRemoving:y,isDeleting:r,setId:o,setIsOpen:i}=d,v=W(t),m=j("2023-05-01"),u=j(t==null?void 0:t.payment_date).isBefore(m);return n("tr",{className:`${l%2===0?"bg-white":"bg-gray-100"} border-b border-b-black`,children:[e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("form",{className:"m-auto max-w-[50px]",onSubmit:g=>y(g,t==null?void 0:t.id),children:e(U,{bgColor:["bg-red-600","bg-red-700","bg-red-800"],icon:e(Ee,{size:20}),isLoading:r})})}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("button",{className:"flex w-full items-center justify-center rounded border border-transparent bg-blue-800 px-3 py-2.5 text-xs font-bold text-white transition-all duration-300 ease-in-out\r hover:border-blue-800 hover:bg-white hover:text-blue-800",onClick:()=>{o==null||o(t==null?void 0:t.id),i==null||i(!0)},children:e(oe,{size:20})})}),e("th",{scope:"row",className:"border-x  border-x-black p-1 text-center text-gray-900",children:t!=null&&t.payment_date?j(t==null?void 0:t.payment_date).format("DD/MM/YYYY"):"-"}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.profit}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.sales}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:u?"-":v}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.total}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.taxable}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.service_price}),e("th",{scope:"row",className:"max-w-[90px] border-x border-x-black  p-1 text-center text-gray-900",children:R[t.service]}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.passport_id}),e("th",{scope:"row",className:"border-x  border-x-black p-1 text-center text-gray-900",children:t!=null&&t.customer_nationality?t.customer_nationality:"-"}),e("th",{scope:"row",className:"border-x  border-x-black bg-red-200 p-1 text-center text-gray-900",children:t==null?void 0:t.customer_name}),e("th",{scope:"row",className:"border-x  border-x-black bg-green-200 p-1 text-center text-gray-900",children:(t==null?void 0:t.bill_id)||"-"}),e("th",{scope:"row",className:"text-gray-90  border-x border-x-black p-1 text-center",children:b.findIndex(g=>g.id===(t==null?void 0:t.id))+1})]},t==null?void 0:t.id)},W=s=>((s==null?void 0:s.sales)-(s==null?void 0:s.total)).toFixed(2),Pe=s=>{let d={totals:0,taxRates:0,taxables:0,servicePrices:0,sales:0,profits:0,taxes:0};return s.map(t=>{const l=j("2023-05-01"),b=j(t==null?void 0:t.payment_date).isBefore(l);d.totals+=(t==null?void 0:t.total)||0,d.taxRates+=(t==null?void 0:t.tax_rate)||0,d.taxables+=(t==null?void 0:t.taxable)||0,d.servicePrices+=(t==null?void 0:t.service_price)||0,d.sales+=(t==null?void 0:t.sales)||0,d.profits+=(t==null?void 0:t.profit)||0,d.taxes+=b?0:+W(t)}),d},Ze=["\u0627\u0644\u0642\u064A\u0645\u0629","\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u0649"],Ie=({passports:s})=>{const{totals:d,servicePrices:t,taxables:l,taxes:b,profits:y,sales:r}=Pe(s),o=[["\u0627\u0644\u0631\u0633\u0648\u0645 \u0627\u0644\u063A\u064A\u0631 \u062E\u0627\u0636\u0639\u0629 \u0644\u0644\u0636\u0631\u064A\u0628\u0629",t.toFixed(2)],["\u0631\u0633\u0648\u0645 \u0627\u0644\u062E\u062F\u0645\u0629",l.toFixed(2)],["\u0627\u0644\u0627\u062C\u0645\u0627\u0644\u0649 \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629",d.toFixed(2)],["\u0636\u0631\u064A\u0628\u0629 \u0627\u0644\u0642\u064A\u0645\u0629 \u0627\u0644\u0645\u0636\u0627\u0641\u0629",b.toFixed(2)],["\u0633\u0639\u0631 \u0627\u0644\u0628\u064A\u0639 \u0634\u0627\u0645\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629",r.toFixed(2)],["\u0635\u0627\u0641\u0649 \u0627\u0644\u0631\u0628\u062D",y.toFixed(2)]],i=e("tr",{className:"border-b border-b-teal-500",children:Ze.map(m=>e("th",{scope:"col",className:"border-x border-x-teal-500 py-3 px-3 text-center",children:m},m))}),v=(m,u)=>n("tr",{className:`${u%2===0?"bg-white":"bg-red-100"} border-b border-b-teal-500`,children:[e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:m[1]}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:m[0]})]},m[0]);return n("div",{className:"my-5 rounded-md bg-red-700 p-4 ",children:[e("h4",{className:"mb-5 p-3 text-center text-2xl font-bold text-white underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0625\u062C\u0645\u0627\u0644\u064A\u0627\u062A \u0627\u0644\u0635\u0641\u062D\u0629"}),e("div",{className:"my-5  rounded",children:n("table",{className:"w-full text-sm font-bold text-gray-500 ",children:[e("thead",{className:"bg-red-100 uppercase text-gray-900",children:i}),e("tbody",{children:o.map((m,u)=>v(m,u))})]})})]})},Ve=({setSearchQuery:s,searchQuery:d,isFilterOpen:t,setIsFilterOpen:l,tableRows:b,setTableRows:y})=>{const[r,o]=$(),i=r.get("page"),{year:v,month:m,day:u,nationality:g,state:_,service:F}=d;let S=[];for(let a=2010;a<=2060;a++)S.push(a);let N=[];for(let a=1;a<=30;a++)N.push(a);let k=[];for(let a=1;a<=31;a++)k.push(a);let L=[];for(let a=10;a<=300;a+=10)L.push(a);return n("div",{id:"filters",className:`${t?"translate-x-0":"-translate-x-60"} duration-350 absolute left-0 top-0 flex h-screen w-60 flex-wrap items-start justify-center gap-4  overflow-x-hidden overflow-y-scroll bg-slate-50 px-4 py-8 text-xs shadow-md transition-all ease-in-out scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400 scrollbar-corner-slate-700 scrollbar-track-rounded-full scrollbar-w-0`,children:[e("button",{className:"absolute top-2 right-2 inline-flex items-center text-xs font-bold text-white sm:text-sm",onClick:()=>l(!t),type:"button",children:e(Y,{className:"text-red-700",size:30})}),n("form",{className:"mx-auto my-4  flex basis-full flex-col  items-center justify-center gap-4 font-semibold",children:[n("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"year",children:"\u0627\u0644\u0633\u0646\u0629"}),n("select",{name:"year",id:"year",className:x.default,value:v,onChange:a=>{i&&+i>1&&o({page:"1"}),s({...d,year:a.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0633\u0646\u0648\u0627\u062A"}),S.map(a=>e("option",{value:a,children:a},a))]})]}),n("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"month",children:"\u0627\u0644\u0634\u0647\u0631"}),n("select",{name:"month",id:"month",className:x.default,value:m,onChange:a=>{i&&+i>1&&o({page:"1"}),s({...d,month:a.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0634\u0647\u0648\u0631"}),N.map(a=>e("option",{value:a,children:a},a))]})]}),n("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"day",children:"\u0627\u0644\u064A\u0648\u0645"}),n("select",{name:"day",id:"day",className:x.default,value:u,onChange:a=>{i&&+i>1&&o({page:"1"}),s({...d,day:a.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0627\u064A\u0627\u0645"}),k.map(a=>e("option",{value:a,children:a},a))]})]}),n("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"tableRows",children:"\u0639\u062F\u062F \u0635\u0641\u0648\u0641 \u0627\u0644\u062C\u062F\u0648\u0644"}),e("select",{name:"tableRows",id:"tableRows",className:x.default,value:b,onChange:a=>{i&&+i>1&&o({page:"1"}),y(+a.target.value)},children:L.map(a=>e("option",{value:a,children:a},a))})]}),n("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"nationality",children:"\u0627\u0644\u062C\u0646\u0633\u064A\u0629"}),e("input",{type:"text",name:"nationality",id:"nationality",className:x.default,value:g,placeholder:"\u0627\u0644\u062C\u0646\u0633\u064A\u0629",onChange:a=>{i&&+i>1&&o({page:"1"}),s({...d,nationality:a.target.value})}})]}),n("div",{className:"flex basis-full flex-col items-center justify-center gap-2",children:[e("p",{className:"w-full rounded bg-red-700 p-2 text-white",children:"\u0627\u0644\u0648\u0636\u0639\u064A\u0629"}),e("div",{className:"flex flex-row-reverse flex-wrap items-center justify-center gap-2",children:_==null?void 0:_.map((a,D)=>n(c.exports.Fragment,{children:[e("label",{htmlFor:a.value,children:M[a.value][0]}),e("input",{type:"checkbox",id:a.value,name:a.value,value:a.value,checked:a.checked,onChange:()=>{i&&+i>1&&o({page:"1"}),s({...d,state:_.map((f,E)=>({value:f.value,checked:D===E?!f.checked:f.checked}))})}})]},a.value))})]}),n("div",{className:"flex basis-full flex-col items-center justify-center gap-2",children:[e("p",{className:"w-full rounded bg-red-700 p-2 text-white",children:"\u0627\u0644\u062E\u062F\u0645\u0629"}),e("div",{className:"flex flex-row-reverse flex-wrap items-center justify-center gap-2",children:F==null?void 0:F.map((a,D)=>n(c.exports.Fragment,{children:[e("label",{htmlFor:a.value,children:R[a.value]}),e("input",{type:"checkbox",id:a.value,name:a.value,value:a.value,checked:a.checked,onChange:()=>{i&&+i>1&&o({page:"1"}),s({...d,service:F.map((f,E)=>({value:f.value,checked:D===E?!f.checked:f.checked}))})}})]},a.value))})]})]})]})},qe=({searchQuery:s,stateArr:d,serviceArr:t,count:l,setIsFilterOpen:b,isFilterOpen:y})=>{const{year:r,month:o,day:i,nationality:v,state:m,service:u}=s;return e(O,{children:n("h3",{id:"filterHeader",className:"relative flex basis-full flex-row-reverse flex-wrap items-center justify-center rounded  bg-red-700 p-3 text-center font-bold text-white shadow",children:[n("button",{id:"openFilters",className:"absolute top-2 right-2 flex items-center justify-center rounded bg-slate-50 p-2 text-xs font-semibold text-gray-600 shadow sm:text-sm",onClick:()=>b(!y),type:"button",children:[e(de,{className:"mr-1",size:25}),y?"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0641\u0644\u062A\u0631\u0629":"\u0641\u062A\u062D \u0627\u0644\u0641\u0644\u062A\u0631\u0629"]}),e("p",{className:"mb-5 basis-full text-2xl underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0641\u0644\u062A\u0640\u0640\u0631\u0629 \u0627\u0644\u062C\u0640\u0640\u0640\u0648\u0627\u0632\u0627\u062A"}),e("span",{children:" \u0627\u0644\u062C\u0648\u0627\u0632\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"}),!o&&!i&&!r&&e("span",{className:"mx-1 rounded-md bg-blue-500 p-1 text-white",children:" \u0627\u0644\u0643\u0644\u064A\u0629 "}),o&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u0639\u0646 \u0634\u0647\u0631 "+o}),i&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u064A\u0648\u0645 "+i}),r&&e("span",{className:"mx-1 rounded-md bg-amber-500 p-1 text-white",children:" \u0633\u0646\u0629 "+r}),m&&e("span",{className:"mx-1 rounded-md bg-emerald-500 p-1 text-white",children:" \u0648\u0627\u0644\u0648\u0636\u0639\u064A\u0629 :- "+(d.join()===""?" [\u0643\u0640\u0640\u0644 \u0627\u0644\u0648\u0636\u0639\u064A\u0627\u062A] ":d.map(g=>` ${M[g][0]} `))}),u&&e("span",{className:"mx-1 rounded-md bg-purple-500 p-1 text-white",children:" \u0648\u0627\u0644\u062E\u062F\u0645\u0629 :- "+(t.join()===""?" [\u0643\u0640\u0640\u0644 \u0627\u0644\u062E\u062F\u0645\u0640\u0627\u062A] ":t.map(g=>` ${R[g]} `))}),v&&e("span",{className:"mx-1 rounded-md bg-pink-500 p-1 text-white",children:" \u0648 \u0627\u0644\u062C\u0646\u0633\u064A\u0629 "+v}),n("span",{children:["(",l,")"]})]})})},Be=s=>c.exports.createElement("svg",{width:"800px",height:"800px",viewBox:"-10.68 0 92.72059 92.72059",xmlns:"http://www.w3.org/2000/svg",fill:"#000000",role:"img",...s},c.exports.createElement("g",{id:"SVGRepo_bgCarrier",strokeWidth:0}),c.exports.createElement("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),c.exports.createElement("g",{id:"SVGRepo_iconCarrier"},c.exports.createElement("title",null,"Asset 10"),c.exports.createElement("g",{id:"Layer_2","data-name":"Layer 2"},c.exports.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},c.exports.createElement("g",{id:"Passport"},c.exports.createElement("path",{id:"Base",d:"M0,8.50006A8.50005,8.50005,0,0,1,8.50006,0H62.85448a8.5,8.5,0,0,1,8.50006,8.50006V83.83413a8.5,8.5,0,0,1-8.50006,8.50006H8.50006A8.5,8.5,0,0,1,0,83.83413Z",style:{fill:"#2267b3"}}),c.exports.createElement("g",{id:"Flag"},c.exports.createElement("path",{id:"Flag-2","data-name":"Flag",d:"M30.09687,84.47856a1.24666,1.24666,0,0,1-1.24666-1.24666V76.71071a1.24665,1.24665,0,0,1,1.24666-1.24665H41.12743a1.24666,1.24666,0,0,1,1.24667,1.24665V83.2319a1.24667,1.24667,0,0,1-1.24667,1.24666Z",style:{fill:"#fdf6cb"}}),c.exports.createElement("path",{id:"Rectangle",d:"M42.37532,79.40711v1.01414H28.85144V79.40711Z",style:{fill:"#98c6e8"}}),c.exports.createElement("path",{id:"Ellipse",d:"M37.68011,79.91545a2.06777,2.06777,0,1,1-2.06769-2.0846A2.07619,2.07619,0,0,1,37.68011,79.91545Z",style:{fill:"#98c6e8"}})),c.exports.createElement("path",{id:"Circle",d:"M46.56186,46.25951A10.98538,10.98538,0,1,1,35.57649,35.27414,10.98537,10.98537,0,0,1,46.56186,46.25951Z",style:{fill:"#fff8c9"}}),c.exports.createElement("path",{id:"Passport-2","data-name":"Passport",d:"M15.40479,19.13993h.53577q.89017,0,.89019-.77478t-.89019-.77481h-.53577Zm0,3.36293H13.78927V16.288h2.57165a2.18508,2.18508,0,0,1,1.599.544,2.03777,2.03777,0,0,1,.56047,1.53312A2.03774,2.03774,0,0,1,17.96,19.89824a2.18509,2.18509,0,0,1-1.599.544h-.95613Zm7.004-2.30789-.72533-2.06886L20.95811,20.195Zm.42861,1.22812H20.5295l-.37092,1.07977H18.43591L20.80149,16.288h1.76389L24.931,22.50286H23.2083Zm6.21283-3.54426a1.905,1.905,0,0,0-.52752-.31322,1.35427,1.35427,0,0,0-.511-.10715.8292.8292,0,0,0-.511.14837.46223.46223,0,0,0-.19782.38739.38532.38532,0,0,0,.09891.272.93777.93777,0,0,0,.2555.18957,2.78853,2.78853,0,0,0,.36268.13189q.20606.05767.40388.12362a2.4446,2.4446,0,0,1,1.15395.70887,1.7096,1.7096,0,0,1,.3709,1.1457,2.18945,2.18945,0,0,1-.16484.86544,1.78,1.78,0,0,1-.46983.66765,2.10667,2.10667,0,0,1-.75829.42037,3.045,3.045,0,0,1-1.01384.1566,3.74372,3.74372,0,0,1-2.18426-.70061L26.05,20.673a2.809,2.809,0,0,0,.71709.47806,1.72344,1.72344,0,0,0,.70061.15659.8204.8204,0,0,0,.58521-.18132.54716.54716,0,0,0,.19784-.41213.52981.52981,0,0,0-.04947-.239.48547.48547,0,0,0-.16484-.18957,1.20549,1.20549,0,0,0-.305-.16484q-.18135-.07419-.4451-.16486-.31323-.09889-.61818-.21431a2.1041,2.1041,0,0,1-.53577-.32143,1.56109,1.56109,0,0,1-.37914-.49457,1.83721,1.83721,0,0,1-.14013-.76654,2.2245,2.2245,0,0,1,.14835-.83249,1.88454,1.88454,0,0,1,.42861-.64291,1.929,1.929,0,0,1,.67589-.42037,2.58951,2.58951,0,0,1,.89843-.14837,3.79926,3.79926,0,0,1,.96437.13188,4.11634,4.11634,0,0,1,.96437.37091Zm5.32857,0a1.90205,1.90205,0,0,0-.5275-.31322,1.35351,1.35351,0,0,0-.511-.10715.82924.82924,0,0,0-.511.14837.46223.46223,0,0,0-.19782.38739.38536.38536,0,0,0,.09891.272.93777.93777,0,0,0,.2555.18957,2.787,2.787,0,0,0,.36272.13189q.20591.05767.40374.12362a2.44325,2.44325,0,0,1,1.154.70887,1.70937,1.70937,0,0,1,.37108,1.1457,2.19,2.19,0,0,1-.16488.86544,1.78,1.78,0,0,1-.46985.66765,2.10777,2.10777,0,0,1-.75829.42037,3.04512,3.04512,0,0,1-1.01388.1566,3.74372,3.74372,0,0,1-2.18426-.70061l.69238-1.3023a2.80881,2.80881,0,0,0,.7171.47806,1.72336,1.72336,0,0,0,.7006.15659.82013.82013,0,0,0,.58515-.18132.54677.54677,0,0,0,.19794-.41213.52873.52873,0,0,0-.04959-.239.485.485,0,0,0-.16468-.18957,1.20753,1.20753,0,0,0-.30505-.16484q-.18135-.07419-.4451-.16486-.3132-.09889-.61818-.21431a2.1041,2.1041,0,0,1-.53577-.32143,1.56124,1.56124,0,0,1-.37914-.49457,1.83721,1.83721,0,0,1-.14013-.76654,2.2245,2.2245,0,0,1,.14835-.83249,1.88454,1.88454,0,0,1,.42861-.64291,1.9291,1.9291,0,0,1,.6759-.42037,2.58945,2.58945,0,0,1,.89842-.14837,3.79988,3.79988,0,0,1,.96447.13188,4.11988,4.11988,0,0,1,.9643.37091Zm3.53185,1.2611h.53576q.89012,0,.89012-.77478t-.89012-.77481h-.53576Zm0,3.36293H36.29508V16.288h2.57159a2.18463,2.18463,0,0,1,1.599.544,2.03765,2.03765,0,0,1,.56055,1.53312,2.03763,2.03763,0,0,1-.56055,1.53309,2.18464,2.18464,0,0,1-1.599.544h-.956Zm5.38021-3.10741a1.65418,1.65418,0,0,0,.14009.68412,1.72694,1.72694,0,0,0,.37915.544,1.78308,1.78308,0,0,0,.55229.36268,1.86561,1.86561,0,0,0,.67585.12362,1.80176,1.80176,0,0,0,.66759-.12362,1.76115,1.76115,0,0,0,.56056-.36268,1.68172,1.68172,0,0,0,0-2.45625,1.65119,1.65119,0,0,0-.56056-.35444,1.70269,1.70269,0,0,0-.66759-.13188,1.76261,1.76261,0,0,0-.67585.13188,1.66772,1.66772,0,0,0-.55229.35444,1.72685,1.72685,0,0,0-.37915.544A1.65423,1.65423,0,0,0,43.29085,19.39545Zm-1.68973,0a3.19271,3.19271,0,0,1,2.04409-3.025,3.90241,3.90241,0,0,1,2.77778,0,3.178,3.178,0,0,1,1.08786.69236,3.14507,3.14507,0,0,1,.71717,1.0468,3.2169,3.2169,0,0,1,.25559,1.28583,3.27624,3.27624,0,0,1-.25559,1.29406,3.16748,3.16748,0,0,1-.71717,1.03855,3.28051,3.28051,0,0,1-1.08786.70063,4.02438,4.02438,0,0,1-2.77778,0,3.30064,3.30064,0,0,1-1.0798-.70063,3.23213,3.23213,0,0,1-.70891-1.03855A3.27629,3.27629,0,0,1,41.60112,19.39545Zm9.51837-.3297h.305a1.17866,1.17866,0,0,0,.73371-.19782.761.761,0,0,0,0-1.13746,1.17872,1.17872,0,0,0-.73371-.19781h-.305Zm3.55261,3.43711H52.66087l-1.54138-2.39031v2.39031H49.50394V16.288h2.51394a2.40843,2.40843,0,0,1,.90664.1566A1.69442,1.69442,0,0,1,53.9384,17.4667a2.06712,2.06712,0,0,1,.13183.74183,1.82555,1.82555,0,0,1-.34609,1.154,1.71272,1.71272,0,0,1-1.00562.59345Zm3.041-4.84658v4.84658H56.09758V17.65628H54.77067V16.288h4.26958v1.36824Z",style:{fill:"#fdf6cb"}}),c.exports.createElement("path",{id:"Stitching",d:"M7.72805,0H8.88724V92.72059H7.72805Z",style:{fill:"#fff8c9"}}))))));function t0(){const[s,d]=c.exports.useState({year:"",month:"",day:"",nationality:"",state:[{value:"accepted",checked:!1},{value:"rejected",checked:!1},{value:"refunded",checked:!1},{value:"delivered",checked:!1}],service:[{value:"30days",checked:!1},{value:"60days",checked:!1},{value:"90days",checked:!1},{value:"extend_permission",checked:!1},{value:"cancel_permission",checked:!1},{value:"report_request",checked:!1},{value:"renew_resedency",checked:!1},{value:"cancel_resedency",checked:!1},{value:"temp_shutdown_with_escape",checked:!1},{value:"change_situation",checked:!1}]}),{year:t,month:l,day:b,state:y,service:r,nationality:o}=s,i=c.exports.useDeferredValue(o),v=c.exports.useRef(!1),m=c.exports.useRef(null),{onDownload:u}=xe.useDownloadExcel({currentTableRef:m.current,filename:"Passports table",sheet:"Passports"}),[g,_]=c.exports.useState(50),[F]=$(),S=F.get("page")?+F.get("page"):1,N=y.filter(C=>C.checked).map(C=>C.value),k=r.filter(C=>C.checked).map(C=>C.value);let L={query:{day:+b,month:+l,year:+t,nationality:i,state:N,service:k},option:{limit:g,page:S}};const{data:a,isLoading:D,isFetching:f,isSuccess:E,error:J}=Ce(L),p=a!=null&&a.docs?a.docs:[],[K,{isLoading:X}]=Ae(),[Q,{isLoading:ee}]=je(),[te,V]=c.exports.useState(!1),[P,Z]=c.exports.useState(!1),[ae,le]=c.exports.useState(""),re=c.exports.useCallback(async(C,I)=>{C.preventDefault(),await K(I)},[]),ue=c.exports.useCallback(async(C,I,H,se,q,ce)=>{C.preventDefault();const ne={customer:{name:I},details:[{name:H==="90days"||H==="60days"||H==="30days"?" \u0641\u064A\u0632\u0627 "+R[H]:R[H],quantity:1,price:q}],ID:ce,total:q,subtotal:0,date:se,taxDue:0,taxRate:0,taxable:0};await Q(ne)},[]);return c.exports.useEffect(()=>{v.current&&E&&!f&&!D?T():v.current=!0},[S,E,f,D,T]),Se("filterHeader"),Fe("\u0627\u0644\u062C\u0640\u0640\u0640\u0648\u0627\u0632\u0627\u062A"),he({setIsFilterOpen:Z,isFilterOpen:P}),J?e(G,{}):!a||D?e(z,{}):n("main",{className:"w-full",children:[n("h2",{className:"my-4 mb-10 flex items-center justify-center rounded bg-red-700 px-2 py-4 text-3xl font-bold text-white shadow",children:[e("span",{className:"mr-2 flex items-center justify-center",children:e(Be,{className:"h-20 w-20 drop-shadow"})}),"\u0627\u0644\u062C\u0640\u0640\u0640\u0648\u0627\u0632\u0627\u062A"]}),e(qe,{setIsFilterOpen:Z,isFilterOpen:P,searchQuery:s,stateArr:N,serviceArr:k,count:a!=null&&a.totalDocs?a.totalDocs:0}),e(Ve,{searchQuery:s,setSearchQuery:d,setIsFilterOpen:Z,isFilterOpen:P,tableRows:g,setTableRows:_}),!f&&(p==null?void 0:p.length)!==0&&e(Ie,{passports:p}),f&&e(be,{isFetching:f}),(p==null?void 0:p.length)>0&&n(O,{children:[n("button",{className:"mx-auto my-5 flex items-center justify-center gap-1 rounded border bg-green-200 px-2 py-2 text-xs font-bold text-green-800 shadow transition-all duration-300 ease-in-out hover:border-green-800 hover:bg-white\r hover:text-green-800 sm:px-3 sm:text-sm",onClick:u,children:[e(me,{size:20}),e("span",{children:"Export excel"})]}),e(fe,{tableRow:Me,tableHeader:Le,tableBodyData:p,options:a,handleRemoving:re,handleAddInvoice:ue,setIsOpen:V,setId:le,isDeleting:X,isCreatingInvoice:ee,ref:m})]}),!t&&!l&&!b&&!i&&(N==null?void 0:N.length)===0&&(k==null?void 0:k.length)===0&&(p==null?void 0:p.length)===0&&!f&&e(ge,{customMsg:["\u062C\u0648\u0627\u0632\u0627\u062A","\u0627\u0644\u062C\u0648\u0627\u0632\u0627\u062A"]}),(t||l||b||i||(N==null?void 0:N.length)>0||(k==null?void 0:k.length)>0)&&(p==null?void 0:p.length)===0&&!f&&e(pe,{}),e(_e,{initial:!1,children:te&&e(He,{setIsOpen:V,id:ae})})]})}export{t0 as default};
