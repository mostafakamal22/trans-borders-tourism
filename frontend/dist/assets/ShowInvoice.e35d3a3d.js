import{d as l}from"./dayjs.min.c3329109.js";import{u as b,l as N}from"./index.145ede7a.js";import{s as y}from"./trans-border-stamp.4d23ae75.js";import{R as g}from"./index.c73de762.js";import{d as w,r as A,j as a,N as I,a as t,w as j,a1 as T}from"./vendor.c17f1326.js";import{c as s}from"./constants.ffd6e56c.js";import{i as Y,b as C,c as D,d as M}from"./Table.b0b59167.js";import{u as R}from"./useScroll.40b3b3cf.js";import"./index.esm.a6b2d145.js";function S(){var c,u,p;const d=w(),e=(c=d==null?void 0:d.state)==null?void 0:c.invoice,n=A.exports.useRef(null);if(R("showInvoice"),b("\u0639\u0631\u0636 \u0641\u0627\u062A\u0648\u0631\u0629"),!e)return a(I,{to:"/not-found",replace:!0});const h=e==null?void 0:e.date,x=l("2023-05-01"),o=l(h).isBefore(x),m=(e==null?void 0:e.ID)&&e.ID.startsWith("After-30-4"),f=e!=null&&e.no?e==null?void 0:e.no:e!=null&&e.date?l(e==null?void 0:e.date).format(`YYYYMMDD-${l(e==null?void 0:e.createdAt).hour()}`):l(e==null?void 0:e.createdAt).format(`YYYYMMDD-${l(e==null?void 0:e.createdAt).hour()}`);return t(j,{children:[a(g,{trigger:()=>t("button",{className:"fixed top-[15vh] left-4 z-10 my-5 inline-flex items-center rounded border bg-red-200 px-2 py-2 text-xs font-bold text-red-800 shadow transition-all duration-300 ease-in-out hover:border-red-800 hover:bg-white\r hover:text-red-800 print:hidden sm:px-3 sm:text-sm",children:[a(T,{className:"mr-1",size:20}),"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"]}),content:()=>n.current}),t("div",{id:"showInvoice",ref:n,className:"mx-auto my-10 min-h-[75vh] w-full max-w-5xl overflow-x-auto rounded border border-black bg-slate-50 p-10 print:my-0 print:flex print:min-h-screen print:flex-col print:justify-between print:border-none print:shadow-none",children:[t("div",{className:"flex items-center",children:[t("div",{className:"max-w-[300px] text-left text-sm",children:[a("p",{className:"text-xl font-bold text-blue-700",children:s.name[0]}),o?null:t("p",{children:["TRN:- ",s.TRN]}),a("p",{children:s.address}),s.tel.map(r=>t("p",{children:["TEL:- ",r]},r)),s.mob.map(r=>t("p",{children:["MOB:- ",r]},r)),t("p",{children:["EMAIL:-"," ",a("span",{className:"text-blue-700 underline",children:s.email})]}),t("p",{children:["WEBSITE:-"," ",a("a",{className:"text-blue-700 underline",href:s.website,target:"_blank",children:s.website})]})]}),a("img",{className:"mx-auto max-h-[100%]  w-[300px]",src:N,alt:"logo"}),t("div",{className:"w-[300px] self-start text-right",children:[o?a("p",{className:"text-3xl font-bold text-blue-400",children:"INVOICE"}):a("p",{className:"text-3xl font-bold text-blue-400",children:"TAX INVOICE"}),t("p",{className:"text-sm",children:["DATE"," ",a("span",{style:{printColorAdjust:"exact"},className:"rounded-sm bg-red-100 p-1",children:e!=null&&e.date?l(e.date).format("DD/MM/YYYY"):"-"})]}),t("p",{className:"text-sm",children:["INVOICE #"," ",t("span",{style:{printColorAdjust:"exact"},className:"rounded-sm bg-red-100 p-1",children:["[",f,"]"]})]})]})]}),t("div",{className:" mt-5",children:[a("h2",{style:{printColorAdjust:"exact"},className:"mb-4 bg-red-100 p-1 text-xl font-bold",children:"Bill To"}),t("p",{className:"text-left",children:["Name:- ",(u=e==null?void 0:e.customer)!=null&&u.name?e.customer.name:"-"]}),t("p",{className:"text-left",children:["Mobile:- ",(p=e==null?void 0:e.customer)!=null&&p.number?e.customer.number:"-"]})]}),a("div",{children:a("div",{className:"relative my-10 overflow-x-auto rounded border-y-4 border-red-800 shadow-md sm:rounded-lg",children:t("table",{className:"w-full text-sm font-bold text-gray-500 ",children:[a("thead",{style:{printColorAdjust:"exact"},className:"bg-red-100 uppercase text-gray-900",children:m?Y:C}),a("tbody",{children:e.details.map((r,i)=>m?D(r,e==null?void 0:e.ID,i):M(r,i))})]})})}),t("div",{className:"my-10 flex items-center justify-center gap-3 text-left font-semibold",children:[t("p",{className:"mx-1",children:["Paid Amount",a("span",{style:{printColorAdjust:"exact"},className:"ml-4 rounded bg-red-100 py-2 px-4",children:(e==null?void 0:e.paid_amount)||(e==null?void 0:e.paid_amount)===0?e.paid_amount:e==null?void 0:e.total})]}),t("p",{className:"mx-1",children:["Remaining Amount",a("span",{style:{printColorAdjust:"exact"},className:"ml-4 rounded bg-red-100 py-2 px-4",children:e!=null&&e.remaining_amount?e.remaining_amount:0})]}),t("p",{className:"mx-1",children:["Payment Method",a("span",{style:{printColorAdjust:"exact"},className:"ml-4 rounded bg-red-100 py-2 px-4",children:e!=null&&e.payment_method?e.payment_method:"-"})]})]}),t("div",{className:" mt-5",children:[a("h3",{style:{printColorAdjust:"exact"},className:"mb-4 bg-red-100 p-1 text-xl font-bold",children:"Other Comments"}),a("p",{className:"text-left",children:e!=null&&e.other?e.other:"No Comment."})]}),t("div",{className:"relative my-10 flex min-h-[200px] items-center justify-center",children:[a("img",{className:"absolute left-10 top-5 z-10 mx-auto max-h-[100%] w-[200px]  print:w-[130px]",src:y,alt:"stamp"}),t("div",{children:[a("p",{children:"If you have any questions about this invoice, please contact us."}),a("p",{className:"text-lg font-bold",children:"Thank You For Your Business!"})]})]})]})]})}export{S as default};
