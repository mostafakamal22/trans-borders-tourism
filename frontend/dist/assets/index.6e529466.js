import{j as e,B as F0,a as c,c as E0,f as D0,b as T0,r as o,u as Re,d as re,F as S0,R as P0,L as Me,A as j0,e as R0,g as M0,o as s0,h as I0,i as k0,k as N,C as Ie,l as ke,p as ze,m as Le,n as _e,q as $e,s as Oe,t as qe,P as Be,v as U,w as O,x as n0,y as o0,H as c0,z as d0,D as i0,T as z0,E as L0,G as ee,I as oe,J as Ye,K as m0,M as Ue,N as _0,O as $0,Q as O0,S as ce,U as we,V as q0,W as B0,X as Y0,Y as U0,Z as H0,_ as ye,$ as p0,a0 as h0,a1 as b0,a2 as x0,a3 as f0,a4 as Ne,a5 as ae,a6 as V0,a7 as G0,a8 as W0,a9 as K0,aa as X0,ab as J0,ac as De,ad as Z0,ae as Q0,af as g0,ag as P,ah as et,ai as tt,aj as I,ak as at,al as ut,am as lt,an as rt,ao as st,ap as nt,aq as ot}from"./vendor.686b3673.js";(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const r of d.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function t(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(n){if(n.ep)return;n.ep=!0;const d=t(n);fetch(n.href,d)}})();const ct={margin:"0 0 -6px 4px"};function He({isLoading:a}){return e(F0,{color:"#ffffff",loading:a,cssOverride:ct,size:8})}function _({icon:a,text:u,isLoading:t=!1,bgColor:l=["bg-blue-600","bg-blue-700","bg-blue-800"]}){return c("button",{type:"submit",disabled:t,className:`${l[0]} hover:${l[1]} focus:${l[1]}  active:${l[2]} text-md flex min-h-[2.5rem] w-full items-center justify-center rounded px-3 py-2.5 font-bold leading-tight text-white shadow-md transition duration-150 ease-in-out focus:shadow-lg  focus:outline-none focus:ring-0 disabled:cursor-not-allowed hover:shadow-lg active:shadow-lg`,children:[!t&&a,e(He,{isLoading:t}),e("span",{className:"inline-block ",children:t?u==null?void 0:u.loading:u==null?void 0:u.default})]})}const de="/assets/trans-Logo.61a4a99a.png",dt={token:null},y0=E0({name:"auth",initialState:dt,reducers:{setCredentials:(a,u)=>{const{accessToken:t}=u.payload;a.token=t},logOut:a=>{a.token=null}}}),{setCredentials:je,logOut:it}=y0.actions,mt=y0.reducer,ve=a=>a.auth.token,pt="https://cute-gold-bison-tie.cyclic.app",Te=D0({baseUrl:pt,credentials:"include",prepareHeaders:(a,{getState:u})=>{const t=u().auth.token;return t&&a.set("authorization",`Bearer ${t}`),a}}),ht=async(a,u,t)=>{var n,d;let l=await Te(a,u,t);if((l==null?void 0:l.error)&&"originalStatus"in(l==null?void 0:l.error)&&(((n=l==null?void 0:l.error)==null?void 0:n.originalStatus)===403||((d=l==null?void 0:l.error)==null?void 0:d.originalStatus)===401)){const r=await Te("/api/admins/refresh",u,t);if(r!=null&&r.data)u.dispatch(je({...r.data})),l=await Te(a,u,t);else return r}return l},W=T0({baseQuery:ht,tagTypes:["Passport","Invoice","Ticket"],endpoints:a=>({})}),bt=W.injectEndpoints({endpoints:a=>({getAdmin:a.query({query:u=>({url:`/api/admins/${u}`})}),login:a.mutation({query:u=>({url:"/api/admins/login",method:"POST",body:{...u}}),async onQueryStarted(u,{dispatch:t,queryFulfilled:l}){try{const{data:n}=await l;t(je({...n}))}catch{}}}),updateAdmin:a.mutation({query:u=>({url:`/api/admins/${u.id}`,method:"PUT",body:{...u}})}),refresh:a.mutation({query:()=>({url:"/api/admins/refresh",method:"GET"}),async onQueryStarted(u,{dispatch:t,queryFulfilled:l}){try{const{data:n}=await l,{accessToken:d}=n;t(je({accessToken:d}))}catch{}}}),sendLogout:a.mutation({query:()=>({url:"/api/admins/logout",method:"GET"}),async onQueryStarted(u,{dispatch:t,queryFulfilled:l}){try{await l,t(it()),setTimeout(()=>{t(W.util.resetApiState())},1e3)}catch{}}})})}),{useGetAdminQuery:w0,useLoginMutation:xt,useUpdateAdminMutation:ft,useRefreshMutation:gt,useSendLogoutMutation:yt}=bt;function $(a){o.exports.useEffect(()=>{window.document.title=a},[a])}function wt(){var p;const[a,{isLoading:u,isSuccess:t}]=xt(),l=Re(),n=re(),d=(p=n==null?void 0:n.state)==null?void 0:p.isSessionEnded,[r,i]=o.exports.useState({email:"",password:""}),{email:s,password:b}=r,m=async g=>{g.preventDefault(),await a({email:s,password:b})};return o.exports.useEffect(()=>{var g,y;t&&((g=n==null?void 0:n.state)!=null&&g.from?l(`${(y=n==null?void 0:n.state)==null?void 0:y.from}`,{replace:!0}):l("/home",{replace:!0}))},[t]),$("\u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644 \u0627\u0644\u0623\u062F\u0645\u0646"),c("div",{className:"m-auto block w-full max-w-md rounded bg-slate-50 p-6 shadow-lg shadow-black/20",children:[e("img",{className:"mx-auto",src:de,alt:"logo"}),c("h3",{className:"my-4 flex select-none items-center justify-center rounded border-x-4 border-red-800 bg-red-200 p-2 text-center text-2xl font-bold text-red-800 shadow",children:[e(S0,{size:45}),e("span",{children:"\u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644 \u0627\u0644\u0623\u062F\u0645\u0646"})]}),d&&e("div",{className:"flex flex-col items-center justify-center gap-2 rounded  border-x-4 border-red-800 bg-green-200 p-4 text-center font-semibold text-slate-700",children:e("h2",{children:"!\u0639\u0641\u0648\u0627\u064B, \u0628\u0631\u062C\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"})}),c("form",{className:"mt-10 ",onSubmit:m,children:[c("div",{className:"mb-6",children:[e("label",{htmlFor:"email",className:"mb-4 inline-block w-full rounded bg-red-800 p-2 font-semibold text-white shadow",children:"\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u0649"}),e("input",{type:"email",name:"email",id:"email",className:"m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out placeholder:text-right focus:border-red-800 focus:bg-white focus:text-gray-700 focus:outline-none",value:s,onChange:g=>i({...r,email:g.target.value}),placeholder:"\u0623\u062F\u062E\u0644 \u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u0649 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643",required:!0})]}),c("div",{className:"mb-6",children:[e("label",{htmlFor:"password",className:"mb-4 inline-block w-full rounded bg-red-800 p-2 font-semibold text-white shadow",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631"}),e("input",{type:"password",name:"password",id:"password",className:"m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out placeholder:text-right focus:border-red-800 focus:bg-white focus:text-gray-700 focus:outline-none",value:b,onChange:g=>i({...r,password:g.target.value}),placeholder:"\u0623\u062F\u062E\u0644 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643",required:!0})]}),e(_,{text:{loading:"\u062C\u0627\u0631\u0649 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644",default:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"},isLoading:u,icon:e(P0,{className:"mb-[-2px] ml-1",size:27})})]})]})}const Nt=a=>o.exports.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1920 1080",style:{enableBackground:"new 0 0 1920 1080"},xmlSpace:"preserve",role:"img",...a},o.exports.createElement("style",{type:"text/css"},`
	.st0{fill:#274D76;}
	.st1{fill:#93B4F6;}
	.st2{fill:#FFFFFF;}
	.st3{fill:#FFF3A1;}
	.st4{fill:#74BAAB;}
	.st5{fill:#F2BDBA;}
	.st6{fill:#EC8C92;}
`),o.exports.createElement("g",{id:"BG"},o.exports.createElement("g",null,o.exports.createElement("path",{className:"st0",d:"M1487.69,519.31c0,326.98-213.97,411.3-518.6,411.3c-300.18,0-515.4-104.27-515.4-411.3 c0-262.93,231.47-439.28,517-439.28S1487.69,256.38,1487.69,519.31z"})),o.exports.createElement("g",null,o.exports.createElement("path",{className:"st1",d:"M1307.49,779.27L997.23,121.17c-11.97-23.06-41.36-23.06-53.33,0L648.1,779.27 c-38.95,75.07,194.79,129.98,322.1,129.98C1091.49,909.25,1348.14,857.63,1307.49,779.27z"})),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st0",d:"M768.35,779.37c1.51-6.56,18.71,0.41,36.6-3.18c13.74-2.75,11.45-16.84,61.98-14.68 c49.04,2.09,46.54-14.36,80.09-14.49c22.99-0.09,24.45,6.09,48.71,3.11c16.59-2.03,23.86-10.97,39.23-10.97 c21.78,0,32.11,10.51,45.59,11.05c15.32,0.61,19.61-8.05,34.64-7.29c18.03,0.91,20.84,12.16,50.81,9.45 c6.95-0.63,9.04,6.55,5.92,12.93c-1.52,3.09-9.96,17.91-37.67,18.95c-17.96,0.67-22.05-1.39-41.86,4.94 c-19.82,6.34-25.6,19.22-52.5,19.46c-46.9,0.43-50.31-8.01-75.16-2.35c-17.04,3.89-32.68,15.54-53.35,15.07 c-20.67-0.47-44.1-12.55-64.27-12.04C797.13,810.62,764.63,795.52,768.35,779.37z"}))),o.exports.createElement("path",{className:"st2",d:"M725.49,721.83c-4.01,0-8.03-0.78-11.83-2.37l-11.79-4.93l0.77-1.85l11.79,4.93 c8.61,3.6,18.46,2.78,26.35-2.19l4-2.52c9.63-6.06,21.74-6.31,31.61-0.65l11.53,6.61l-0.99,1.73l-11.53-6.61 c-9.23-5.29-20.55-5.06-29.55,0.61l-4,2.52C736.89,720.24,731.2,721.83,725.49,721.83z"}),o.exports.createElement("path",{className:"st2",d:"M1164.19,728.38c-4.47,0-8.96-0.99-13.03-2.98l-15.09-7.38c-7.54-3.69-16.9-3.67-24.42,0.06l-0.89-1.79 c8.19-4.06,17.97-4.08,26.19-0.07l15.09,7.38c8.11,3.97,17.98,3.67,25.76-0.78l9.74-5.56c8.06-4.6,18.36-5.06,26.9-1.18l15.19,6.9 l-0.83,1.82l-15.19-6.9c-7.96-3.61-17.57-3.19-25.08,1.1l-9.74,5.56C1174.35,727.1,1169.27,728.38,1164.19,728.38z"}),o.exports.createElement("path",{className:"st2",d:"M1070.37,726.78l-23.23-10.06c-6.92-2.99-14.87-3.03-21.83-0.11l-22.75,9.58l-0.78-1.84l22.75-9.58 c7.45-3.14,15.98-3.1,23.4,0.11l23.23,10.06L1070.37,726.78z"}),o.exports.createElement("path",{className:"st2",d:"M912.1,737.3c-4.67,0-9.34-1.09-13.59-3.26l-6.69-3.41c-7.2-3.67-15.63-4.05-23.12-1.02l-15.89,6.41 l-0.75-1.86l15.89-6.41c8.03-3.24,17.06-2.84,24.78,1.1l6.69,3.41c7.94,4.05,17.42,4.05,25.37,0l7.47-3.81l0.91,1.78l-7.47,3.81 C921.44,736.22,916.77,737.3,912.1,737.3z"}),o.exports.createElement("path",{className:"st2",d:"M960.6,817.5c-4.67,0-9.34-1.09-13.59-3.26l-6.69-3.41c-7.2-3.67-15.63-4.05-23.12-1.02l-15.89,6.41 l-0.75-1.86l15.89-6.41c8.03-3.24,17.06-2.84,24.78,1.1l6.69,3.41c7.94,4.05,17.43,4.05,25.37,0l7.47-3.81l0.91,1.78l-7.47,3.81 C969.94,816.42,965.27,817.5,960.6,817.5z"}),o.exports.createElement("path",{className:"st2",d:"M741.57,755.66c-4.83,0-9.65-0.93-14.19-2.8l-11.18-4.61l0.76-1.85l11.18,4.61c8.98,3.71,19.2,3.52,28.04-0.51 l8.43-3.84c9.13-4.17,19.73-4.45,29.06-0.77l18.81,7.41l-0.73,1.86l-18.81-7.41c-8.84-3.48-18.86-3.21-27.5,0.73l-8.43,3.84 C752.13,754.54,746.85,755.66,741.57,755.66z"}),o.exports.createElement("path",{className:"st2",d:"M1003.16,787.72l-1.08-1.69l20.41-13.02c8.38-5.35,18.66-5.92,27.49-1.54l16.15,8.02 c8,3.97,17.02,3.62,24.75-0.96l12.75-7.55c7.02-4.16,15.09-5.09,22.73-2.63l19.72,6.36l-0.61,1.9l-19.72-6.36 c-7.09-2.29-14.58-1.42-21.1,2.45l-12.75,7.55c-8.2,4.86-18.17,5.24-26.66,1.03l-16.15-8.02c-8.19-4.07-17.74-3.53-25.52,1.44 L1003.16,787.72z"}),o.exports.createElement("path",{className:"st2",d:"M924.9,774.07l-1-1.73l18.23-10.54c5.71-3.3,12.63-3.47,18.5-0.46l7.44,3.83c4.07,2.09,8.71,2.49,13.07,1.13 l11.82-3.68l0.6,1.91l-11.82,3.68c-4.87,1.52-10.04,1.07-14.58-1.26l-7.45-3.83c-5.26-2.71-11.46-2.55-16.58,0.41L924.9,774.07z"}),o.exports.createElement("path",{className:"st2",d:"M814.66,794.35l-0.9-1.79l16.22-8.17c4.37-2.2,9.47-2.41,14.01-0.57l13.7,5.55c4.56,1.85,9.75,1.34,13.86-1.37 l9.62-6.34c4.36-2.88,9.92-3.58,14.85-1.88l19.35,6.65l-0.65,1.89l-19.35-6.65c-4.36-1.5-9.25-0.88-13.1,1.66l-9.62,6.34 c-4.66,3.07-10.54,3.65-15.71,1.56l-13.7-5.55c-4-1.62-8.5-1.44-12.36,0.5L814.66,794.35z"}),o.exports.createElement("path",{className:"st2",d:"M696.83,807.81c-4.66,0-9.31-1.09-13.62-3.27l-20.15-10.18l0.9-1.79l20.15,10.18 c7.79,3.94,16.79,4.07,24.7,0.37l11.27-5.28c7.41-3.47,16.03-3.78,23.67-0.84l18.36,7.06l-0.72,1.87l-18.36-7.06 c-7.13-2.74-15.18-2.46-22.1,0.79l-11.27,5.28C705.56,806.85,701.19,807.81,696.83,807.81z"}),o.exports.createElement("path",{className:"st2",d:"M1203.91,760.84c-4.83,0-9.65-0.93-14.18-2.8l-11.18-4.61l0.76-1.85l11.18,4.61 c8.98,3.71,19.2,3.52,28.04-0.51l8.43-3.84c9.13-4.17,19.73-4.45,29.06-0.77l18.81,7.41l-0.73,1.86l-18.81-7.41 c-8.84-3.48-18.86-3.22-27.5,0.73l-8.43,3.84C1214.48,759.73,1209.2,760.84,1203.91,760.84z"}),o.exports.createElement("path",{className:"st2",d:"M1223.24,807.81c-4.66,0-9.31-1.09-13.62-3.27l-20.15-10.18l0.9-1.79l20.15,10.18 c7.79,3.94,16.79,4.07,24.7,0.37l11.27-5.28c7.41-3.47,16.04-3.78,23.67-0.84l18.36,7.06l-0.72,1.87l-18.36-7.06 c-7.13-2.74-15.18-2.46-22.1,0.79l-11.27,5.28C1231.97,806.85,1227.6,807.81,1223.24,807.81z"}),o.exports.createElement("path",{className:"st2",d:"M845.75,840.89c-5.07,0-10.15-1.06-14.89-3.19l-13.5-6.09c-8.85-3.99-19.01-4.03-27.89-0.12l-12.64,5.57 l-0.81-1.83l12.64-5.57c9.4-4.14,20.16-4.1,29.52,0.12l13.5,6.09c9.99,4.51,21.64,3.94,31.14-1.53l1,1.73 C858.26,839.27,852.02,840.89,845.75,840.89z"}),o.exports.createElement("path",{className:"st2",d:"M1154.46,840.05c-4.33,0-8.67-0.94-12.75-2.83l-13.52-6.28c-8.92-4.14-19.52-3.3-27.67,2.19l-2.27,1.53 c-8.73,5.88-20.09,6.78-29.64,2.34l-15.16-7.04c-7.88-3.66-16.85-3.52-24.61,0.39l-16,8.06l-0.9-1.79l16-8.06 c8.31-4.18,17.91-4.33,26.35-0.41l15.16,7.04c8.92,4.14,19.52,3.31,27.68-2.18l2.27-1.53c8.73-5.88,20.08-6.78,29.63-2.35 l13.52,6.28c8.78,4.08,18.9,3.41,27.07-1.8l3.76-2.39l1.07,1.69l-3.76,2.39C1165.74,838.45,1160.11,840.05,1154.46,840.05z"}),o.exports.createElement("path",{className:"st2",d:"M952.38,874.16c-4.66,0-9.33-0.82-13.77-2.48l-29.16-10.89c-8.58-3.21-18.02-3.15-26.56,0.15l-18.19,7.03 l-0.72-1.87l18.19-7.03c9-3.48,18.94-3.53,27.98-0.16l29.16,10.89c9.77,3.65,20.71,3.04,30.01-1.68l12.64-6.42 c10.1-5.12,21.92-5.65,32.43-1.46l19.37,7.73l-0.74,1.86l-19.37-7.73c-9.98-3.98-21.2-3.48-30.78,1.38l-12.64,6.42 C964.65,872.73,958.52,874.16,952.38,874.16z"})),o.exports.createElement("g",{id:"fisherman"},o.exports.createElement("path",{className:"st2",d:"M614.38,506.83h-2V211.58c0-1.29,0.74-2.41,1.93-2.92c1.19-0.51,2.51-0.26,3.44,0.63l182.23,210.98l-1.51,1.31 L616.3,210.67c-0.46-0.43-1.04-0.24-1.21-0.17c-0.17,0.07-0.71,0.36-0.71,1.08V506.83z"}),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("polygon",{className:"st1",points:"1206.66,411.04 1220.39,380.87 1068.69,453.67 1004.86,533.93 1036.69,571.52 1103.05,542.46  "}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st2",d:"M967.08,306.75L836.9,490.42l49.97,72.36l138.42-41.91l110.66-14.74L980.14,306.5 C976.81,302.17,970.24,302.29,967.08,306.75z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st1",d:"M971.83,310.45l-16.05,113.45l47.14-9.09l-26.13-104.51C976.13,307.64,972.33,307.76,971.83,310.45z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st1",d:"M744.66,400.11l-32.37-41.5c-8.07-3.46-16.63,4.65-11.42,15.89c6.99,15.08,25.92,61.23,25.92,61.23 l77.02,184.45l19.88-43.64L744.66,400.11z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st1",d:"M624.69,201.58c21.44,23.43,180.05,195.43,224.86,244.74c-1.16,6.47-10.4,7.28-10.4,7.28L622.81,203.81 C621.78,202.62,623.3,200.06,624.69,201.58z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st2",d:"M1062.31,547.42c-5,3.86-11.04,6.06-31.16-4.76c-86.01-46.23-274.07-155.37-318.87-184.06 c-2.63-1.68-5.89,0.9-4.86,3.85l102,272.75c6.12,13.43,20.2,20.27,34.89,18.78l139.62-12.94c1.94-0.2,3.88-0.45,5.81-0.77 l119.66-19.48c4.17-0.68,7.73-3.36,9.52-7.18c16.51-35.11,98.82-210.25,103.08-220.9c3.87-9.69-0.13-14.78-4.64-10.03 C1211.78,388.58,1121.3,489.92,1062.31,547.42z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st1",d:"M1112.66,615.66c1.75-0.75,2.31-2.95,1.1-4.42c-12.22-14.72-34.4-41.2-53.43-54.56 c-3.22-2.26-7.24-3.13-11.14-2.38c-38.94,7.49-162.16,66.59-206.15,88.02c-2.8,1.36-1.66,7.45,1.45,7.16 c0.04,0,0.08-1.81,0.12-1.81l139.56-12.05c1.94-0.18,3.88-0.42,5.81-0.72l119.59-18.36 C1110.64,616.37,1111.68,616.07,1112.66,615.66z"}))),o.exports.createElement("rect",{x:741.33,y:340.51,transform:"matrix(0.7273 -0.6863 0.6863 0.7273 -30.6104 605.9868)",className:"st2",width:11.94,height:2}),o.exports.createElement("path",{className:"st2",d:"M736.14,354.91c-1.08,0-1.96-0.36-2.56-1.06c-1.52-1.78-0.45-5.1,2.42-7.56c2.88-2.46,6.32-2.99,7.84-1.22 c0.8,0.93,0.92,2.28,0.35,3.8c-0.5,1.32-1.48,2.65-2.78,3.76c-1.29,1.11-2.77,1.87-4.14,2.16 C736.88,354.87,736.5,354.91,736.14,354.91z M741.28,346.01c-1.03,0-2.55,0.59-3.97,1.8c-2.07,1.77-2.87,3.96-2.2,4.74 c0.3,0.35,0.94,0.45,1.77,0.28c1.04-0.21,2.22-0.84,3.25-1.72c1.03-0.88,1.83-1.95,2.2-2.94c0.3-0.79,0.3-1.45,0-1.8l0,0 C742.12,346.13,741.75,346.01,741.28,346.01z"}),o.exports.createElement("rect",{x:676.08,y:265.61,transform:"matrix(0.7423 -0.6701 0.6701 0.7423 -3.1207 525.0994)",className:"st2",width:10.12,height:2}),o.exports.createElement("path",{className:"st2",d:"M670.51,279.08c-1.1,0-2.05-0.36-2.66-1.11c-1.48-1.81-0.34-5.11,2.59-7.5c1.32-1.08,2.81-1.81,4.19-2.06 c1.6-0.29,2.9,0.07,3.68,1.02l0,0c0.78,0.95,0.87,2.3,0.27,3.81c-0.52,1.3-1.54,2.62-2.86,3.69 C674,278.34,672.09,279.08,670.51,279.08z M675.67,270.31c-0.2,0-0.43,0.02-0.67,0.07c-1.04,0.19-2.24,0.79-3.29,1.64 c-2.11,1.72-2.96,3.89-2.31,4.69c0.65,0.79,2.95,0.39,5.05-1.33c1.05-0.85,1.87-1.91,2.27-2.89c0.32-0.79,0.33-1.44,0.04-1.79l0,0 C676.56,270.44,676.17,270.31,675.67,270.31z"}),o.exports.createElement("rect",{x:620.66,y:202.81,transform:"matrix(0.6963 -0.7178 0.7178 0.6963 43.443 510.2955)",className:"st2",width:8.06,height:2}),o.exports.createElement("path",{className:"st2",d:"M615.48,216.21c-0.97,0-1.81-0.3-2.4-0.94c-1.6-1.71-0.68-5.07,2.09-7.66c2.77-2.58,6.18-3.27,7.78-1.56h0 c1.59,1.71,0.68,5.07-2.09,7.66C619.12,215.34,617.12,216.21,615.48,216.21z M620.53,207.1c-1.03,0-2.59,0.66-4,1.98 c-1.99,1.86-2.69,4.08-1.99,4.83c0.7,0.75,2.97,0.2,4.95-1.66c1.99-1.86,2.69-4.08,1.99-4.83 C621.28,207.21,620.95,207.1,620.53,207.1z"}),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st3",d:"M619.67,542.76c2.49-0.47,4.64-0.98,6.42-1.48c-3.72-18.69-9.38-33.05-12.85-32.39 c-3.47,0.66-3.48,16.1-0.09,34.85C614.99,543.54,617.17,543.23,619.67,542.76z"})))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st4",d:"M620.23,545.71c-2.12,0.4-4.37,0.77-6.52,1.01c3.72,18.92,9.45,33.53,12.95,32.87 c3.5-0.66,3.48-16.36,0-35.33C624.58,544.82,622.35,545.3,620.23,545.71z"}))),o.exports.createElement("rect",{x:624.89,y:651.48,className:"st2",width:2,height:43.91}),o.exports.createElement("rect",{x:624.89,y:582.51,className:"st2",width:2,height:49.56}),o.exports.createElement("g",null,o.exports.createElement("path",{className:"st4",d:"M625.89,647.77L625.89,647.77c-3.66,0-4.7-6.55-4.95-8.08c-0.45-2.7,2.22-4.95,4.95-4.95h0 c2.74,0,5.41,2.26,4.95,4.95C630.59,641.21,629.65,647.77,625.89,647.77z"})),o.exports.createElement("path",{className:"st2",d:"M625.91,731.21c-6.74,0-12.23-5.49-12.23-12.23c0-5.18,2.65-8.01,5.2-10.74c2.96-3.17,6.03-6.44,6.03-13.83h2 c0,8.18-3.49,11.91-6.56,15.2c-2.5,2.68-4.66,4.99-4.66,9.38c0,5.64,4.59,10.23,10.23,10.23c5.64,0,10.23-4.59,10.23-10.23 c0-2.05-0.6-4.02-1.74-5.71l1.66-1.12c1.36,2.02,2.08,4.38,2.08,6.83C638.14,725.72,632.65,731.21,625.91,731.21z"}),o.exports.createElement("path",{className:"st2",d:"M629.33,719.03l-0.53-1.93c5.03-1.37,5.12-5.27,5.12-5.3l2,0.02C635.91,713.69,634.51,717.62,629.33,719.03z"}),o.exports.createElement("rect",{x:608.85,y:472.89,transform:"matrix(0.981 -0.194 0.194 0.981 -83.462 127.5918)",className:"st2",width:2,height:34.25}),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st3",d:"M1044.21,506.56c5.5-11.32,17.18-20.12,32.98-19.5c3.3-9.06,18.49-36.25,15.6-56.43 c-2.64-18.45-17.47-24.96-30.08-29.11c-1.55-0.51-3.02-0.99-4.45-1.45c15.89,15.4,6.73,46.41,0.65,65.62 C1054.39,479.98,1047.59,497.86,1044.21,506.56z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st5",d:"M1098.63,497.69c8.41-6.39,17.81-5.47,24.98-3.46c-14.67-6.58-38.28-6.45-46.42-7.17 c-18.18-0.72-30.9,11.04-35.04,24.75c-5.74,19.01-7.56,23.6-7.56,23.6c15-0.6,25.27-1.42,45.54-6.79 C1091.6,517.99,1085.19,507.9,1098.63,497.69z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st3",d:"M1058.91,465.7c6.07-19.21,15.23-50.22-0.65-65.62c-15.62-5.01-25.23-7.2-42.46-8.24 c0,0-39.87,0.27-49.79,6.52c-22.47,14.18-41.38,46.34-61.31,72.91c0,0,96.85,56.87,127.35,72c1.09-2.24,0.86-4.53,2.53-7.85 c0,0,1.83-4.59,7.56-23.6c0.54-1.79,1.23-3.55,2.06-5.25C1047.59,497.86,1054.39,479.98,1058.91,465.7z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st5",d:"M1136.7,522.65c0.52-8.04-4.12-20.57-15.1-30.22c-1.94-1.71-4.34-3.14-7.03-4.35 c-7.17-2.01-16.56-2.93-24.98,3.46c-13.44,10.21-9.06,18.47-18.51,30.94c-1.75,2.31-3.68,5.46-3.66,7.13 c0.07,5,6.43,5.61,8.36,4.32c4.84-3.23,9.27-13.34,16.04-13.04c14.74,0.65,10.79,22.22,11.06,24.73 c0.32,3.07,6.56,5.21,10.07,1.26c1.81,3.39,9.89,0.87,10.92-8.37c3.85,0.45,6.63-2.4,6.97-9.62 C1132.61,529.89,1136.3,528.79,1136.7,522.65z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{className:"st3",d:"M904.71,471.27c0,0,21.45,12.58,47.29,27.44c12.52-16.37,28.54-37.1,35.01-44.65 c12.6-14.71,14.14-34.13,5.1-46.42c-4.42-6-10.03-11.1-20.89-11.42c-2.13,0.62-3.92,1.33-5.2,2.14 C943.54,412.54,924.63,444.69,904.71,471.27z"}))),o.exports.createElement("g",null,o.exports.createElement("path",{className:"st5",d:"M993.13,502.45c-1.19-1.54-2.36-3.1-3.5-4.68c-8.5-11.87-18.33-20.59-34.55-25.42 c-25.82-7.68-50.37-1.08-50.37-1.08c13.24,7.64,50.96,30.88,48.99,47.63c-2.18,18.52-1.22,21.13,5.2,22.46 c-1.52,10.01,4.02,12.7,8.51,11.85c-1.63,9.35,8.69,10.57,12.04,4.27c4.48,2.02,8.67,0.73,10.46-1.33 c5.26-6.06,9.89-20.23,10.32-29.95c-1.43-13.16-7.08-23.71-7.08-23.71L993.13,502.45z"})),o.exports.createElement("g",null,o.exports.createElement("path",{className:"st6",d:"M1009.07,519.32c-5.95-4.99-11.19-10.73-15.94-16.87l0.02,0.04c0,0,5.66,10.56,7.08,23.71 c5.59,3.05,10.85,5.94,16.76,9.09C1018.18,529.31,1014.21,523.63,1009.07,519.32z"})),o.exports.createElement("path",{d:"M999.28,525.13c-0.11-3.76-1.2-8.25-1.22-8.3l1.94-0.48c0.05,0.19,1.15,4.75,1.27,8.72L999.28,525.13z"}),o.exports.createElement("g",null,o.exports.createElement("path",{className:"st5",d:"M1077.92,358.74c-9.82-14.6-27.22-10.13-39.76,5.47c-4.88-3.16-13.24,4.71-9.56,12.1 c0.51,1.02,0.33,2.26-0.45,3.1h0h0c0,0-4.18,13.52,2.24,24.13c6.42,10.6,19.71,5.82,19.71,5.82l0,0 c6.73-2.88,12.55-6.93,12.55-6.93C1077.62,391.25,1086.96,372.17,1077.92,358.74z"})),o.exports.createElement("path",{d:"M983.65,554.3l-1.85-0.75c4.44-10.95,4.1-21.85,4.09-21.96l2-0.07C987.91,531.98,988.26,542.96,983.65,554.3z"}),o.exports.createElement("path",{d:"M968.97,550.34l-1.87-0.72c2.99-7.79,4.3-13.88,4.54-21.02l2,0.07C973.39,536.04,972.04,542.32,968.97,550.34z"}),o.exports.createElement("path",{d:"M959.49,539.13l-1.84-0.79c2.58-6.01,2.9-12.23,2.86-15.41l2-0.03C962.55,526.24,962.22,532.78,959.49,539.13z"}),o.exports.createElement("path",{d:"M1114.7,543.02l-1.98-0.29c0.32-2.16,0.5-4.54,0.51-7.08c0.04-6.23-1.71-11.62-3.19-15.04l1.84-0.79 c1.55,3.6,3.4,9.27,3.35,15.85C1115.22,538.29,1115.04,540.76,1114.7,543.02z"}),o.exports.createElement("path",{d:"M1123.32,534.36c-0.2-10.29-3.45-18.3-3.48-18.38l1.85-0.76c0.14,0.34,3.42,8.44,3.63,19.1L1123.32,534.36z"}),o.exports.createElement("path",{d:"M1130.13,525.87c-0.42-7.6-3-13.72-3.03-13.78l1.84-0.79c0.11,0.26,2.75,6.51,3.19,14.46L1130.13,525.87z"}),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{d:"M1077.92,358.74c-9.82-14.6-27.22-10.13-39.76,5.47l2.88,6.9c0.53,1.27,2.19,1.58,3.15,0.59l7.52-7.85 c1.55-1.62,4.29-0.86,4.75,1.33c0.9,4.26,3.12,10.05,8.59,14.14c5.91,4.42,12.09,2.68,15.72-2.69 C1082.2,370.33,1081.52,364.09,1077.92,358.74z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{d:"M1061.29,393.08L1061.29,393.08c-0.82-0.81-0.82-2.14-0.01-2.96l1.54-1.55c0.81-0.82,2.14-0.82,2.96-0.01l0,0 c0.82,0.81,0.82,2.14,0.01,2.96l-1.54,1.55C1063.44,393.89,1062.11,393.9,1061.29,393.08z"}))),o.exports.createElement("g",null,o.exports.createElement("g",null,o.exports.createElement("path",{d:"M1048.73,387.53L1048.73,387.53c-0.82-0.81-0.82-2.14-0.01-2.96l1.54-1.55c0.81-0.82,2.14-0.82,2.96-0.01l0,0 c0.82,0.81,0.82,2.14,0.01,2.96l-1.54,1.55C1050.88,388.34,1049.55,388.34,1048.73,387.53z"}))),o.exports.createElement("path",{d:"M1066.42,529.61c-0.01-1.07,0.55-2.58,1.68-4.5c0.78-1.32,1.62-2.49,2.19-3.25c3.87-5.1,5.34-9.44,6.78-13.64 c1.28-3.76,2.49-7.31,5.27-10.99l1.6,1.21c-2.59,3.43-3.75,6.83-4.97,10.43c-1.41,4.15-3.01,8.84-7.08,14.21 c-0.54,0.71-1.33,1.82-2.06,3.05c-1.28,2.17-1.4,3.14-1.4,3.46L1066.42,529.61z"}),o.exports.createElement("path",{d:"M1101.85,533.1c-0.65-4.69-2.31-7.95-4.92-9.68c-1.41-0.93-3.14-1.45-5.15-1.54c-3.23-0.14-6.01,2.58-8.54,5.53l-1.52-1.3 c2.86-3.34,6.08-6.42,10.14-6.23c2.38,0.11,4.45,0.73,6.17,1.87c3.11,2.06,5.06,5.79,5.8,11.07L1101.85,533.1z"}),o.exports.createElement("path",{d:"M973.42,472.58l-1.58-1.23c6.75-8.64,11.6-14.68,14.4-17.95c11.94-13.93,14.06-32.93,5.06-45.17l1.61-1.19 c9.55,12.99,7.39,33.03-5.15,47.66C984.98,457.95,980.16,463.97,973.42,472.58z"}),o.exports.createElement("path",{d:"M1050.31,493.35l-1.88-0.7c3.99-10.7,7.19-19.87,9.52-27.25c1.32-4.17,2.71-8.69,3.99-13.47l1.93,0.52 c-1.28,4.82-2.69,9.36-4.01,13.55C1057.52,473.41,1054.3,482.61,1050.31,493.35z"}),o.exports.createElement("path",{d:"M1048.7,403.31c-2.01-1.79-5.93-3.4-5.97-3.41l0.75-1.85c0.17,0.07,4.27,1.75,6.55,3.77L1048.7,403.31z"}),o.exports.createElement("g",null,o.exports.createElement("path",{className:"st6",d:"M1030.39,403.53c-6.42-10.61-2.24-24.13-2.24-24.13c-5.44,5.88-12.35,12.43-12.35,12.43 c-8.92,15.93-0.88,44.41,21.39,45.83c19.63,1.25,17.99-20.01,12.91-28.32C1050.1,409.35,1036.81,414.13,1030.39,403.53z"})),o.exports.createElement("path",{d:"M1035.52,409.93c-8.74-4.74-9.42-15.65-9.45-16.11l2-0.11c0.01,0.1,0.66,10.26,8.41,14.46L1035.52,409.93z"}))),vt=()=>($("\u0627\u0644\u0635\u0641\u062D\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629"),e("div",{className:"flex min-h-screen w-full items-center justify-center  p-10 ",children:c("div",{className:"flex  w-full max-w-5xl flex-col items-center justify-center  rounded border-y-4 border-red-800 bg-amber-50 p-6 shadow-lg shadow-black/30",children:[e("h2",{className:"mb-3 text-center text-2xl font-bold text-blue-900 md:text-3xl",children:"!\u0639\u0641\u0648\u0627\u064B , \u0647\u0630\u0629 \u0627\u0644\u0635\u0641\u062D\u0629 \u063A\u064A\u0631 \u0645\u0648\u062C\u0648\u062F\u0629"}),e(Nt,{}),c(Me,{to:"/home",className:"my-5 flex items-center rounded border bg-blue-800 px-2 py-4 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-blue-800\r hover:bg-white hover:text-blue-800 sm:px-4 sm:text-sm",children:[e(j0,{className:"mr-1",size:20}),"\u0625\u0630\u0647\u0628 \u0644\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"]})]})})),Ae=R0,V=({isLoading:a,spinnerHeight:u="80vh",spinnerSize:t=70})=>e("div",{style:{minHeight:u},className:"flex justify-center items-center",children:e(M0,{className:"m-auto",color:"#ff1717",loading:a,size:t})});function At(){const a=Ae(ve),{AdminInfo:u}=s0(a),{id:t,role:l}=u,{data:n,isLoading:d}=w0(t);return $("\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628"),d?e("div",{className:"mx-auto flex h-full w-full max-w-5xl items-center justify-center",children:e("div",{className:"w-full",children:e(V,{isLoading:d})})}):c("section",{className:"w-full",children:[c("h3",{className:"mb-5 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-center text-2xl font-bold italic shadow",children:[e(I0,{className:"ml-1",size:50}),e("span",{children:"\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628"})]}),e("img",{className:"mx-auto max-h-40",src:de,alt:"logo"}),c("ul",{className:"mt-3 ml-auto w-full max-w-[550px] rounded py-2 px-3",children:[c("li",{className:"mb-2 flex items-center rounded  border-r-4 border-red-800 bg-red-200 p-3 shadow",children:[e("span",{className:"mr-auto",children:e("span",{className:"rounded bg-pink-500 py-1 px-2 text-sm text-white",children:n==null?void 0:n.name})}),e("span",{className:"font-semibold",children:"\u0627\u0644\u0627\u0633\u0645"})]}),c("li",{className:"mb-2 flex items-center rounded  border-r-4 border-red-800 bg-red-200 p-3 shadow",children:[e("span",{className:"mr-auto",children:e("span",{className:"rounded bg-green-500 py-1 px-2 text-sm text-white",children:l})}),e("span",{className:"font-semibold",children:"\u0627\u0644\u0645\u0646\u0635\u0628"})]}),c("li",{className:"mb-2 flex items-center rounded  border-r-4 border-red-800 bg-red-200 p-3 shadow",children:[e("span",{className:"mr-auto hover:text-yellow-800 hover:underline",children:n==null?void 0:n.email}),e("span",{className:"font-semibold",children:"\u0627\u0644\u0627\u064A\u0645\u064A\u0644 \u0627\u0644\u062E\u0627\u0635"})]})]}),e("div",{className:"mt-6 flex items-center",children:c(Me,{to:"/profile/update",className:"flex items-center rounded border bg-blue-700 px-2 py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-blue-800\r hover:bg-white hover:text-blue-600 sm:px-3 sm:text-sm",children:[e(k0,{className:"mb-[-4px] mr-1",size:15}),"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062D\u0633\u0627\u0628"]})})]})}const Ct=a=>{let u={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},t={[N().year()]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},[N().year()-1]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},[N().year()-2]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}};return a.forEach(l=>{var i,s,b,m,p;const n=(i=N(l==null?void 0:l.date))==null?void 0:i.month(),d=(s=N(l==null?void 0:l.date))==null?void 0:s.year(),r=l!=null&&l.total?l.total:(m=(b=l==null?void 0:l.details)==null?void 0:b[0])==null?void 0:m.price;n>=0&&d&&(u[n]+=r,((p=t==null?void 0:t[d])==null?void 0:p[n])>=0&&(t[d][n]+=r))}),{totalMonthValues:Object.values(u),totalLastThreeValues:{...t}}},Ft=W.injectEndpoints({endpoints:a=>({getInvoices:a.query({query:u=>({method:"POST",url:"/api/invoices/query",body:{...u}}),providesTags:(u,t,l)=>u?[...u.docs.map(({id:n})=>({type:"Invoice",id:n})),{type:"Invoice",id:"PARTIAL-LIST"}]:[{type:"Invoice",id:"PARTIAL-LIST"}]}),createInvoice:a.mutation({query:u=>({url:"/api/invoices",method:"POST",body:{...u}}),invalidatesTags:[{type:"Invoice",id:"PARTIAL-LIST"}]}),deleteInvoice:a.mutation({query:u=>({url:`/api/invoices/${u}`,method:"DELETE"}),invalidatesTags:(u,t,l)=>[{type:"Invoice",id:l},{type:"Invoice",id:"PARTIAL-LIST"}]})})}),{useGetInvoicesQuery:N0,useCreateInvoiceMutation:Ve,useDeleteInvoiceMutation:Et,usePrefetch:Dt}=Ft;Ie.register(ke,ze,Le,_e,$e,Oe,qe,Be);const q={scales:{y:{ticks:{callback:function(a){return"Dhs "+a},color:"#c92a2a",font:{weight:"bold"}},position:"right"},x:{ticks:{color:"rgb(0, 0, 0)",font:{family:"'Tajawal', 'sans-serif'",weight:"bold"}},reverse:!0}},plugins:{tooltip:{rtl:!0,titleAlign:"right",textDirection:"rtl"},title:{display:!0,text:"\u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631 \u0643\u0644 \u0634\u0647\u0631 \u0641\u0649 \u0627\u0644\u0633\u0646\u0629",font:{size:20,family:"'Tajawal', 'sans-serif'"},color:"rgb(2, 132, 253)"}}},Z={scales:{y:{ticks:{callback:function(a){return"Dhs "+a},color:"#c92a2a",font:{weight:"bold"}},position:"right"},x:{ticks:{color:"rgb(0, 0, 0)",font:{family:"'Tajawal', 'sans-serif'",weight:"bold"}},reverse:!0}},plugins:{tooltip:{rtl:!0,titleAlign:"right",textDirection:"rtl"},title:{display:!0,text:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0645\u062C\u0645\u0648\u0639 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u062E\u0631 3 \u0633\u0646\u0648\u0627\u062A",font:{size:20,family:"'Tajawal', 'sans-serif'"},color:"rgb(2, 132, 253)"}}},ue=["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0627\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0627\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0627\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"];function Tt(){const{data:a,isLoading:u,isFetching:t}=N0({}),{totalMonthValues:l,totalLastThreeValues:n}=o.exports.useMemo(()=>Ct((a==null?void 0:a.docs)||[]),[a]),d={labels:ue,datasets:[{type:"bar",label:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",backgroundColor:"rgb(75, 192, 192)",data:l.map(i=>parseInt(i.toString()))}]},r={labels:ue,datasets:[{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()}`,backgroundColor:"#c92a2a",borderColor:"#c92a2a",data:Object.values(n[N().year()]).map(i=>parseInt(i.toString()))},{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()-1}`,backgroundColor:"rgb(72, 73, 185)",borderColor:"rgb(72, 73, 185)",data:Object.values(n[N().year()-1]).map(i=>parseInt(i.toString()))},{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()-2}`,backgroundColor:"rgb(45, 185, 63)",borderColor:"rgb(45, 185, 63)",data:Object.values(n[N().year()-2]).map(i=>parseInt(i.toString()))}]};return u||t?e(V,{spinnerHeight:"20vh",isLoading:u||t}):c(U,{children:[e(O,{type:"bar",options:q,data:d,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"line",options:Z,data:r,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"})]})}const G=a=>{o.exports.useEffect(()=>{const u=document.getElementById(a);u&&u.scrollIntoView({behavior:"smooth"})},[])},le=()=>{const a=document.getElementById("table");a&&a.scrollIntoView({behavior:"smooth"})},St=W.injectEndpoints({endpoints:a=>({getPassports:a.query({query:u=>({method:"POST",url:"/api/passports/query",body:{...u}}),providesTags:(u,t,l)=>u?[...u.docs.map(({id:n})=>({type:"Passport",id:n})),{type:"Passport",id:"PARTIAL-LIST"}]:[{type:"Passport",id:"PARTIAL-LIST"}]}),createPassport:a.mutation({query:u=>({url:"/api/passports",method:"POST",body:{...u}}),invalidatesTags:[{type:"Passport",id:"PARTIAL-LIST"}]}),updatePassport:a.mutation({query:u=>({url:`/api/passports/${u.id}`,method:"PUT",body:{...u}}),invalidatesTags:(u,t,l)=>[{type:"Passport",id:l.id},{type:"Passport",id:"PARTIAL-LIST"}]}),deletePassport:a.mutation({query:u=>({url:`/api/passports/${u}`,method:"DELETE"}),invalidatesTags:(u,t,l)=>[{type:"Passport",id:l},{type:"Passport",id:"PARTIAL-LIST"}]})})}),{useGetPassportsQuery:Ge,useCreatePassportMutation:Pt,useUpdatePassportMutation:jt,useDeletePassportMutation:Rt,usePrefetch:Mt}=St,It=a=>{let u={totals:0,taxRates:0,taxables:0,servicePrices:0,sales:0,profits:0};return a.map(t=>{u.totals+=(t==null?void 0:t.total)||0,u.taxRates+=(t==null?void 0:t.tax_rate)||0,u.taxables+=(t==null?void 0:t.taxable)||0,u.servicePrices+=(t==null?void 0:t.service_price)||0,u.sales+=(t==null?void 0:t.sales)||0,u.profits+=(t==null?void 0:t.profit)||0}),u},kt=a=>{let u={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},t={[N().year()]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},[N().year()-1]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},[N().year()-2]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}},l={"30days":0,"60days":0,"90days":0,extend_permission:0,cancel_permission:0,report_request:0,renew_resedency:0,cancel_resedency:0,temp_shutdown_with_escape:0,change_situation:0};const n={};return a.forEach(d=>{var m,p,g;const r=(m=N(d==null?void 0:d.payment_date))==null?void 0:m.month(),i=(p=N(d==null?void 0:d.payment_date))==null?void 0:p.year(),s=isNaN(d==null?void 0:d.profit)?0:+(d==null?void 0:d.profit),b=d==null?void 0:d.service;r>=0&&i&&(u[r]+=s,((g=t==null?void 0:t[i])==null?void 0:g[r])>=0&&(t[i][r]+=s)),b&&(l[b]+=1),(d==null?void 0:d.customer_nationality)&&n.hasOwnProperty(d.customer_nationality)?n[d.customer_nationality]+=1:d!=null&&d.customer_nationality&&(n[d.customer_nationality]=1)}),{totalMonthValues:Object.values(u),totalLastThreeValues:{...t},totalForEveryService:Object.values(l),topNationalities:Object.keys(n).map(d=>[d,n[d]]).sort((d,r)=>+r[1]-+d[1]).slice(0,5)}},T=["\u0625\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644","\u0627\u0644\u062C\u0646\u0633\u064A\u0629","\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0632","\u0627\u0644\u0648\u0636\u0639\u064A\u0629","\u0627\u0644\u062E\u062F\u0645\u0629","\u0627\u0644\u0631\u0633\u0648\u0645 \u0627\u0644\u063A\u064A\u0631 \u062E\u0627\u0636\u0639\u0647 \u0644\u0644\u0636\u0631\u064A\u0628\u0647","\u0631\u0633\u0648\u0645 \u0627\u0644\u062E\u062F\u0645\u0629","\u0636\u0631\u064A\u0628\u0629 \u0631\u0633\u0648\u0645 \u0627\u0644\u062E\u062F\u0645\u0629","\u0625\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u062A\u0643\u0644\u0641\u0629","\u0633\u0639\u0631 \u0627\u0644\u0628\u064A\u0639","\u0635\u0627\u0641\u0649 \u0627\u0644\u0631\u0628\u062D","\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u062F\u0641\u0639","\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062C\u0648\u0627\u0632","\u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629","\u0645\u0633\u062D \u0627\u0644\u062C\u0648\u0627\u0632"],K={accepted:["\u062A\u0645\u062A \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629","bg-green-200"],rejected:["\u0645\u0631\u0641\u0648\u0636","bg-red-200"],refunded:["\u062A\u0645 \u0625\u0633\u062A\u0631\u062F\u0627\u062F \u0627\u0644\u0631\u0633\u0648\u0645","bg-blue-200"],delivered:["\u062A\u0645 \u0627\u0644\u062A\u0633\u0644\u064A\u0645 \u0644\u0644\u0639\u0645\u064A\u0644","bg-yellow-200"]},Y={"30days":"\u0663\u0660\u064A\u0648\u0645","60days":"\u0666\u0660\u064A\u0648\u0645","90days":"\u0669\u0660\u064A\u0648\u0645",extend_permission:"\u062A\u0645\u062F\u064A\u062F \u0625\u0630\u0646 \u062F\u062E\u0648\u0644",cancel_permission:"\u0625\u0644\u063A\u0627\u0621 \u0625\u0630\u0646 \u062F\u062E\u0648\u0644",report_request:"\u0637\u0644\u0628 \u0643\u0634\u0641 \u0643\u0641\u064A\u0644 \u0648\u0645\u0643\u0641\u0648\u0644\u064A\u0646",renew_resedency:"\u062A\u062C\u062F\u064A\u062F \u0625\u0642\u0627\u0645\u0629",cancel_resedency:"\u0625\u0644\u063A\u0627\u0621 \u0625\u0642\u0627\u0645\u0629",temp_shutdown_with_escape:"\u0625\u063A\u0644\u0627\u0642 \u0645\u0624\u0642\u062A \u0645\u0639 \u0628\u0644\u0627\u063A \u0647\u0631\u0648\u0628",change_situation:"\u062A\u0639\u062F\u064A\u0644 \u0648\u0636\u0639"};Ie.register(n0,o0,ke,ze,Le,_e,$e,Oe,qe,Be);var Qe;const zt={...q,plugins:{...q.plugins,title:{...(Qe=q==null?void 0:q.plugins)==null?void 0:Qe.title,text:"\u0645\u062C\u0645\u0648\u0639 \u0635\u0627\u0641\u0649 \u0627\u0644\u0631\u0628\u062D \u0643\u0644 \u0634\u0647\u0631 \u0641\u0649 \u0627\u0644\u0633\u0646\u0629"}}};var e0;const Lt={...Z,plugins:{...Z.plugins,title:{...(e0=Z.plugins)==null?void 0:e0.title,text:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0635\u0627\u0641\u0649 \u0627\u0644\u0631\u0628\u062D \u0627\u062E\u0631 3 \u0633\u0646\u0648\u0627\u062A"}}},ge={plugins:{tooltip:{rtl:!0,titleAlign:"right",textDirection:"rtl"},title:{display:!0,text:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0628\u064A\u0646 \u0645\u0628\u064A\u0639\u0627\u062A \u062E\u062F\u0645\u0627\u062A \u0627\u0644\u062C\u0648\u0627\u0632\u0627\u062A \u0627\u0644\u0645\u062E\u062A\u0644\u0641\u0629",font:{size:20,family:"'Tajawal', 'sans-serif'"},color:"rgb(2, 132, 253)"}}},Q={plugins:{tooltip:{rtl:!0,titleAlign:"right",textDirection:"rtl"},title:{display:!0,text:"\u0627\u0644\u062C\u0646\u0633\u064A\u0627\u062A \u0627\u0644\u062E\u0645\u0633\u0629 \u0627\u0644\u0627\u0643\u062B\u0631 \u0645\u0628\u064A\u0639\u0627\u064C",font:{size:20,family:"'Tajawal', 'sans-serif'"},color:"rgb(2, 132, 253)"}}};function _t(){const{data:a,isLoading:u,isFetching:t}=Ge({}),{totalMonthValues:l,totalLastThreeValues:n,totalForEveryService:d,topNationalities:r}=o.exports.useMemo(()=>kt((a==null?void 0:a.docs)||[]),[a]),i={labels:ue,datasets:[{type:"bar",label:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",backgroundColor:"rgb(75, 192, 192)",data:l.map(g=>parseInt(g.toString()))}]},s={labels:ue,datasets:[{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()}`,backgroundColor:"#c92a2a",borderColor:"#c92a2a",data:Object.values(n[N().year()]).map(g=>parseInt(g.toString()))},{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()-1}`,backgroundColor:"rgb(72, 73, 185)",borderColor:"rgb(72, 73, 185)",data:Object.values(n[N().year()-1]).map(g=>parseInt(g.toString()))},{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()-2}`,backgroundColor:"rgb(45, 185, 63)",borderColor:"rgb(45, 185, 63)",data:Object.values(n[N().year()-2]).map(g=>parseInt(g.toString()))}]},b={labels:[...Object.values(Y)],datasets:[{label:"\u0639\u062F\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",data:[...d],backgroundColor:["#d9480f","#343a40","#c92a2a","#cc5de8","#a61e4d","#1864ab","#087f5b","#fcc2d7","#ffc078","#fff3bf"],borderWidth:0}]},m={labels:[...r.map(g=>g[0])],datasets:[{label:"\u0639\u062F\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",data:[...r.map(g=>+g[1])],backgroundColor:["rgb(255, 0, 55)","rgb(0, 144, 240)","rgb(253, 181, 0)","rgb(0, 253, 253)","rgb(83, 0, 250)"],borderWidth:0}]},p=parseInt(n[N().year()][N().month()].toString())-parseInt(n[N().year()][N().month()-1].toString());return u||t?e(V,{spinnerHeight:"20vh",isLoading:u||t}):c(U,{children:[c("div",{className:"flex basis-full  flex-col items-center justify-center rounded bg-gradient-to-r from-cyan-600 to-cyan-400 py-4 px-16 text-white shadow-md",children:[c("p",{className:"my-2 flex items-center justify-center text-2xl",children:[new Intl.NumberFormat("ar",{style:"currency",currency:"AED"}).format(p),p>=0?e(c0,{className:"text-green-400 drop-shadow-md",size:25}):e(d0,{className:"text-red-400 drop-shadow-md",size:25})]}),e(i0,{size:60}),e("p",{className:"text-3xl",children:"\u0627\u0644\u0623\u0631\u0628\u0627\u062D \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),e("hr",{className:"my-2 w-full border-b border-white/70"}),e("p",{children:N().format("h:mm a [\u0623\u062E\u0631 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u064A\u0648\u0645]")})]}),e(O,{type:"bar",options:zt,data:i,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"line",options:Lt,data:s,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"pie",options:ge,data:b,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"polarArea",options:Q,data:m,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"})]})}const $t=W.injectEndpoints({endpoints:a=>({getTickets:a.query({query:u=>({method:"POST",url:"/api/tickets/query",body:{...u}}),providesTags:(u,t,l)=>u?[...u.docs.map(({id:n})=>({type:"Ticket",id:n})),{type:"Ticket",id:"PARTIAL-LIST"}]:[{type:"Ticket",id:"PARTIAL-LIST"}]}),createTicket:a.mutation({query:u=>({url:"/api/tickets",method:"POST",body:{...u}}),invalidatesTags:[{type:"Ticket",id:"PARTIAL-LIST"}]}),updateTicket:a.mutation({query:u=>({url:`/api/tickets/${u.id}`,method:"PUT",body:{...u}}),invalidatesTags:(u,t,l)=>[{type:"Ticket",id:l.id},{type:"Ticket",id:"PARTIAL-LIST"}]}),deleteTicket:a.mutation({query:u=>({url:`/api/tickets/${u}`,method:"DELETE"}),invalidatesTags:(u,t,l)=>[{type:"Ticket",id:l},{type:"Ticket",id:"PARTIAL-LIST"}]})})}),{useGetTicketsQuery:We,useCreateTicketMutation:Ot,useUpdateTicketMutation:qt,useDeleteTicketMutation:Bt,usePrefetch:Yt}=$t,Ut=a=>{let u={costs:0,sales:0,profits:0};return a.map(t=>{u.sales+=(t==null?void 0:t.sales)||0,u.costs+=(t==null?void 0:t.cost)||0,u.profits+=(t==null?void 0:t.profit)||0}),u},Ht=a=>{let u={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},t={[N().year()]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},[N().year()-1]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0},[N().year()-2]:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0}},l={bank:0,cash:0,credit:0,later:0};const n={},d={};return a.forEach(r=>{var y,v,C;const i=(y=N(r==null?void 0:r.payment_date))==null?void 0:y.month(),s=(v=N(r==null?void 0:r.payment_date))==null?void 0:v.year(),b=isNaN(r==null?void 0:r.profit)?0:+(r==null?void 0:r.profit),m=r==null?void 0:r.employee,p=r==null?void 0:r.supplier,g=r==null?void 0:r.payment_method;i>=0&&s&&(u[i]+=b,((C=t==null?void 0:t[s])==null?void 0:C[i])>=0&&(t[s][i]+=b)),g&&(l[g]+=1),m&&n.hasOwnProperty(m)?n[m]+=1:m&&(n[m]=1),p&&d.hasOwnProperty(p)?d[p]+=1:p&&(d[p]=1)}),{totalMonthValues:Object.values(u),totalLastThreeValues:{...t},totalForEveryPaymentMethod:Object.values(l),topEmployees:Object.keys(n).map(r=>[r,n[r]]).sort((r,i)=>+i[1]-+r[1]).slice(0,5),topSuppliers:Object.keys(d).map(r=>[r,d[r]]).sort((r,i)=>+i[1]-+r[1]).slice(0,5)}},H={bank:"\u0628\u0646\u0643\u0649",cash:"\u0646\u0642\u062F\u0649",credit:"credit",later:"\u0627\u062C\u0644"};Ie.register(n0,o0,ke,ze,Le,_e,$e,Oe,qe,Be);var t0;const Vt={...q,plugins:{...q.plugins,title:{...(t0=q==null?void 0:q.plugins)==null?void 0:t0.title,text:"\u0645\u062C\u0645\u0648\u0639 \u0635\u0627\u0641\u0649 \u0627\u0644\u0631\u0628\u062D \u0643\u0644 \u0634\u0647\u0631 \u0641\u0649 \u0627\u0644\u0633\u0646\u0629"}}};var a0;const Gt={...Z,plugins:{...Z.plugins,title:{...(a0=Z.plugins)==null?void 0:a0.title,text:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0635\u0627\u0641\u0649 \u0627\u0644\u0631\u0628\u062D \u0627\u062E\u0631 3 \u0633\u0646\u0648\u0627\u062A"}}};var u0;const Wt={...Q,plugins:{...Q.plugins,title:{...(u0=Q.plugins)==null?void 0:u0.title,text:"\u0627\u0644\u0645\u0648\u0638\u0641\u0648\u0646 \u0627\u0644\u0627\u0643\u062B\u0631 \u0645\u0628\u064A\u0639\u0627\u064C"}}};var l0;const Kt={...Q,plugins:{...Q.plugins,title:{...(l0=Q.plugins)==null?void 0:l0.title,text:"\u0627\u0644\u0645\u0648\u0631\u062F\u0648\u0646 \u0627\u0644\u0627\u0643\u062B\u0631 \u062A\u0639\u0627\u0645\u0644 \u0645\u0639\u0647\u0645"}}};var r0;const Xt={...ge,plugins:{...ge.plugins,title:{...(r0=ge.plugins)==null?void 0:r0.title,text:"\u0645\u0642\u0627\u0631\u0646\u0629 \u0628\u064A\u0646 \u0637\u0631\u0642 \u062F\u0641\u0639 \u062E\u062F\u0645\u0627\u062A \u0627\u0644\u062A\u0630\u0627\u0643\u0631 \u0627\u0644\u0645\u062E\u062A\u0644\u0641\u0629"}}};function Jt(){const{data:a,isLoading:u,isFetching:t}=We({}),{totalMonthValues:l,totalLastThreeValues:n,topEmployees:d,topSuppliers:r,totalForEveryPaymentMethod:i}=o.exports.useMemo(()=>Ht((a==null?void 0:a.docs)||[]),[a]),s={labels:ue,datasets:[{type:"bar",label:"\u0627\u0644\u0645\u062C\u0645\u0648\u0639",backgroundColor:"rgb(75, 192, 192)",data:l.map(v=>parseInt(v.toString()))}]},b={labels:ue,datasets:[{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()}`,backgroundColor:"#c92a2a",borderColor:"#c92a2a",data:Object.values(n[N().year()]).map(v=>parseInt(v.toString()))},{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()-1}`,backgroundColor:"rgb(72, 73, 185)",borderColor:"rgb(72, 73, 185)",data:Object.values(n[N().year()-1]).map(v=>parseInt(v.toString()))},{type:"line",label:`\u0645\u062C\u0645\u0648\u0639 \u0639\u0627\u0645 ${N().year()-2}`,backgroundColor:"rgb(45, 185, 63)",borderColor:"rgb(45, 185, 63)",data:Object.values(n[N().year()-2]).map(v=>parseInt(v.toString()))}]},m={labels:[...Object.values(H)],datasets:[{label:"\u0639\u062F\u062F \u0645\u0631\u0627\u062A \u0627\u0644\u062F\u0641\u0639",data:[...i],backgroundColor:["#ff4800","#2b79c7","#c92a2a","#cc5de8"],borderWidth:0}]},p={labels:[...d.map(v=>v[0])],datasets:[{label:"\u0639\u062F\u062F \u0627\u0644\u0645\u0628\u064A\u0639\u0627\u062A",data:[...d.map(v=>+v[1])],backgroundColor:["rgb(255, 0, 55)","rgb(0, 144, 240)","rgb(253, 181, 0)","rgb(0, 253, 253)","rgb(83, 0, 250)"],borderWidth:0}]},g={labels:[...r.map(v=>v[0])],datasets:[{label:"\u0639\u062F\u062F \u0627\u0644\u0634\u0631\u0627\u0621",data:[...r.map(v=>+v[1])],backgroundColor:["rgb(255, 0, 55)","rgb(0, 144, 240)","rgb(253, 181, 0)","rgb(0, 253, 253)","rgb(83, 0, 250)"],borderWidth:0}]},y=parseInt(n[N().year()][N().month()].toString())-parseInt(n[N().year()][N().month()-1].toString());return u||t?e(V,{spinnerHeight:"20vh",isLoading:u||t}):c(U,{children:[c("div",{className:"flex basis-full  flex-col items-center justify-center rounded bg-gradient-to-r from-cyan-600 to-cyan-400 py-4 px-16 text-white shadow-md",children:[c("p",{className:"my-2 flex items-center justify-center text-2xl",children:[new Intl.NumberFormat("ar",{style:"currency",currency:"AED"}).format(y),y>=0?e(c0,{className:"text-green-400 drop-shadow-md",size:25}):e(d0,{className:"text-red-400 drop-shadow-md",size:25})]}),e(i0,{size:60}),e("p",{className:"text-3xl",children:"\u0627\u0644\u0623\u0631\u0628\u0627\u062D \u0647\u0630\u0627 \u0627\u0644\u0634\u0647\u0631"}),e("hr",{className:"my-2 w-full border-b border-white/70"}),e("p",{children:N().format("h:mm a [\u0623\u062E\u0631 \u062A\u062D\u062F\u064A\u062B \u0627\u0644\u064A\u0648\u0645]")})]}),e(O,{type:"bar",options:Vt,data:s,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"line",options:Gt,data:b,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"pie",options:Xt,data:m,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"polarArea",options:Wt,data:p,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"}),e(O,{type:"polarArea",options:Kt,data:g,className:"w-full  rounded border border-emerald-300 p-2 font-Tajawal shadow md:max-h-96 md:max-w-lg"})]})}const Se=["\u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631","\u0627\u0644\u062C\u0648\u0627\u0632\u0627\u062A","\u0627\u0644\u062A\u0630\u0627\u0643\u0640\u0631","\u0627\u0644\u062A\u0623\u0634\u064A\u0631\u0627\u062A","\u0627\u0644\u0645\u0635\u0631\u0648\u0641\u0627\u062A","\u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A","\u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0627\u062A \u0627\u0644\u0628\u0646\u0643\u064A\u0629"],Zt=()=>($("\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629"),G("main"),c("main",{id:"main",className:"w-full",children:[e("header",{className:"my-4 flex items-center justify-center rounded bg-gradient-to-r from-cyan-400 to-blue-500 bg-fixed p-3 shadow md:max-h-[12rem]",children:e("img",{className:"max-h-full w-[70%] max-w-full",src:de,alt:"logo"})}),c("section",{id:"invoices",className:"my-10 flex flex-col items-center justify-center gap-10 font-semibold md:flex-row md:flex-wrap",children:[e("h2",{className:"mb-2 w-full basis-full rounded bg-red-800 p-2 text-2xl text-white",children:Se[0]}),e(Tt,{})]}),c("section",{id:"passports",className:"my-10 flex flex-col items-center justify-center gap-10 font-semibold md:flex-row md:flex-wrap",children:[e("h2",{className:"mb-2 w-full basis-full rounded bg-red-800 p-2 text-2xl text-white",children:Se[1]}),e(_t,{})]}),c("section",{id:"Tickets",className:"my-10 flex flex-col items-center justify-center gap-10 font-semibold md:flex-row md:flex-wrap",children:[e("h2",{className:"mb-2 w-full basis-full rounded bg-red-800 p-2 text-2xl text-white",children:Se[2]}),e(Jt,{})]})]})),Qt=({options:a,setPage:u})=>{const{page:t,totalPages:l,hasNextPage:n,hasPrevPage:d,nextPage:r,prevPage:i}=a;let s=[];for(let p=1;p<=l;p++)s.push(p);const[b,m]=o.exports.useState(t);return c("div",{className:"my-10 mx-auto flex w-full flex-wrap items-center justify-center gap-4",children:[e("div",{className:"text-sm font-semibold",children:e("span",{children:`\u0639\u0631\u0636 \u0627\u0644\u0635\u0641\u062D\u0629  (${t}) \u0645\u0646 (${l})`})}),e("nav",{className:"text-center",children:c("ul",{className:"mx-2 flex flex-wrap items-center gap-1",children:[e("li",{children:e("button",{title:`${t!==1?"Previous Page":""}`,onClick:()=>u({page:i||1}),disabled:!d,className:"flex min-w-[40px] items-center justify-center rounded border border-red-300 p-2 leading-tight text-red-900 disabled:cursor-not-allowed disabled:border-gray-500 disabled:bg-gray-200 disabled:text-black hover:bg-red-100 hover:text-black",children:e(z0,{size:20})})}),l>5&&t>3&&c(U,{children:[e("li",{onClick:()=>u({page:s[0]}),children:e("button",{title:"Go First Page",className:"rounded border border-red-300 p-2 text-sm font-semibold leading-tight text-red-900 hover:bg-red-100 hover:text-black",children:"\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0623\u0648\u0644\u0649"})}),e("li",{className:"mr-1 flex min-w-[40px] items-center justify-center rounded border border-red-300 p-2 font-bold leading-tight text-red-900 hover:bg-red-100 hover:text-black",children:"...."})]}),l<=5&&s.map(p=>e("li",{onClick:()=>u({page:p}),children:e("button",{title:`Go Page ${p}`,className:`${p===t&&"bg-red-100"} min-w-[40px] rounded border border-red-300 p-2 leading-tight text-red-900 hover:bg-red-100 hover:text-black`,children:p})},p)),l>5&&s.slice(t>2?t-3:0,t<l-2?t+2:t+1).map(p=>e("li",{onClick:()=>u({page:p}),children:e("button",{title:`Go Page ${p}`,className:`${p===t&&"bg-red-100"} min-w-[40px] rounded border border-red-300 p-2 leading-tight text-red-900 hover:bg-red-100 hover:text-black`,children:p})},p)),l>5&&t<l-1&&c(U,{children:[e("li",{className:"ml-1 flex min-w-[40px] items-center justify-center rounded border border-red-300 p-2 font-bold leading-tight text-red-900 hover:bg-red-100 hover:text-black",children:"...."}),e("li",{onClick:()=>u({page:l}),children:e("button",{title:"Go Last Page",className:"rounded border border-red-300 p-2 text-sm font-semibold leading-tight text-red-900 hover:bg-red-100 hover:text-black",children:"\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0623\u062E\u064A\u0631\u0629"})})]}),e("li",{children:e("button",{title:`${t!==l?"Next Page":""}`,onClick:()=>u({page:r||1}),disabled:!n,className:"flex min-w-[40px] items-center justify-center rounded border border-red-300 p-2 leading-tight text-red-900 disabled:cursor-not-allowed disabled:border-gray-500 disabled:bg-gray-200 disabled:text-black hover:bg-red-100 hover:text-black",children:e(L0,{size:20})})})]})}),c("div",{className:"flex max-w-[200px] flex-row-reverse flex-wrap items-center justify-center gap-2 text-sm font-semibold",children:[e("label",{htmlFor:"goPage",children:"\u0627\u062E\u062A\u0631 \u0627\u0644\u0635\u0641\u062D\u0629"}),e("input",{className:"max-w-[80px] rounded border border-red-500 bg-red-100 p-2 text-center focus:border-blue-700 focus:outline-none",type:"number",name:"goPage",min:1,max:l,value:b,onChange:p=>{m(+p.target.value)}}),e("div",{className:"basis-full",children:e("button",{className:"rounded border bg-blue-800 px-4 py-2 font-semibold text-white hover:border-blue-700 hover:bg-white hover:text-blue-700",type:"button",onClick:()=>{s.includes(b)&&t!==b&&u({page:b})},children:"\u0630\u0647\u0627\u0628 \u0644\u0644\u0635\u0641\u062D\u0629"})})]})]})},Ke=({tableHeader:a,tableBodyData:u,tableRow:t,options:l,handleRemoving:n,handleAddInvoice:d,setIsOpen:r,setId:i,isDeleting:s,isCreatingInvoice:b})=>{const[m,p]=ee({page:"1"});return c("div",{id:"table",className:"my-5 overflow-x-auto rounded border-y-4 border-red-800 py-5 shadow-md scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400 scrollbar-corner-slate-700 scrollbar-track-rounded-full sm:rounded-lg",children:[c("table",{className:"w-full text-xs text-gray-500",children:[e("thead",{className:"bg-blue-300 uppercase text-gray-900",children:a}),e("tbody",{children:u.map((g,y)=>t({basicOptions:{item:g,index:y,tableBodyData:u},extraOptions:{handleRemoving:n,isDeleting:s,handleAddInvoice:d,setIsOpen:r,setId:i,isCreatingInvoice:b}}))})]}),e(Qt,{options:l,slice:u,setPage:p})]})},w={default:"basis-full sm:basis-1/2 w-full text-md  my-2 sm:my-0 mx-2 p-2  rounded shadow bg-red-200 border-red-800",threeCol:"basis-full sm:basis-1/6 text-md  my-2 sm:my-0 mx-2 p-2  rounded shadow bg-red-200 border-red-800"},f={default:"basis-full  sm:basis-1/3  px-3 py-1.5 mx-4 text-base font-normal text-gray-700 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out  focus:text-gray-700 focus:bg-white focus:border-red-800 focus:outline-none",threeCol:"basis-full sm:basis-1/6 px-2 py-1.5 mx-2 text-base font-normal text-gray-700 bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out  focus:text-gray-700 focus:bg-white focus:border-red-800 focus:outline-none"},ea=["\u062D\u0630\u0641 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629","\u0639\u0631\u0636 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629","\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629","\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u0649","\u0631\u0642\u0645 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629","\u0625\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"],J={name:["TRANS BORDERS TOURISM L.L.C"],address:"DUBAI-DEIRA-ABU HAIL",website:"https://tbtourism.com",email:"Info@tbtourism.com",tel:["045782747"],mob:["+971556620879","+971507597677"]},ta=["NO.","Description","Quantity","Price","Total"],aa=({setSearchQuery:a,searchQuery:u,tableRows:t,setTableRows:l,isFilterOpen:n,setIsFilterOpen:d})=>{let r=[];for(let m=10;m<=200;m+=10)r.push(m);const[i,s]=ee(),b=i.get("page");return c("div",{className:`${n?"translate-x-0":"-translate-x-60"} duration-350 absolute left-0 top-0 flex h-screen w-60 flex-wrap items-start justify-center gap-4  overflow-x-hidden overflow-y-scroll bg-slate-50 px-4 py-8 text-xs shadow-md transition-all ease-in-out scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400 scrollbar-corner-slate-700 scrollbar-track-rounded-full scrollbar-w-0`,children:[e("button",{className:"absolute top-2 right-2 inline-flex items-center text-xs font-bold text-white sm:text-sm",onClick:()=>d(!n),type:"button",children:e(oe,{className:"text-red-700",size:30})}),c("form",{className:"mx-auto my-4 flex flex-col justify-start  gap-4 font-semibold",children:[c("div",{className:"flex basis-full flex-col items-center justify-center gap-2",children:[e("label",{htmlFor:"searchQuery",className:"w-full rounded bg-red-700 p-2 text-white",children:"\u0625\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"}),e("input",{type:"text",id:"searchQuery",name:"searchQuery",className:f.default,placeholder:"\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 \u0628\u0627\u0644\u0625\u0633\u0645",value:u,onChange:m=>{b&&+b>1&&s({page:"1"}),a(m.target.value)}})]}),c("div",{className:"flex w-full flex-col items-center justify-center gap-2 font-semibold",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"tableRows",children:"\u0639\u062F\u062F \u0635\u0641\u0648\u0641 \u0627\u0644\u062C\u062F\u0648\u0644"}),e("select",{name:"tableRows",id:"tableRows",className:f.default,value:t,onChange:m=>{b&&+b>1&&s({page:"1"}),l(+m.target.value)},children:r.map(m=>e("option",{value:m,children:m},m))})]})]})]})},ua=({searchQuery:a,isFilterOpen:u,setIsFilterOpen:t})=>c("h3",{id:"filterHeader",className:"relative flex basis-full flex-row-reverse flex-wrap items-center justify-center rounded  bg-red-700 p-3 text-center font-bold text-white shadow",children:[c("button",{className:"absolute top-2 right-2 flex items-center justify-center rounded bg-slate-50 p-2 text-xs font-semibold text-gray-600 shadow sm:text-sm",onClick:()=>t(!u),type:"button",children:[e(Ye,{className:"mr-1",size:25}),u?"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0641\u0644\u062A\u0631\u0629":"\u0641\u062A\u062D \u0627\u0644\u0641\u0644\u062A\u0631\u0629"]}),e("p",{className:"mb-5 basis-full text-2xl underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0641\u0644\u062A\u0640\u0640\u0631\u0629 \u0627\u0644\u0641\u0640\u0640\u0648\u0627\u062A\u064A\u0640\u0640\u0631"}),e("span",{children:" \u0627\u0644\u0641\u0640\u0648\u0627\u062A\u064A\u0640\u0631 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"}),!a&&e("span",{className:"mx-1 rounded-md bg-blue-500 p-1 text-white",children:" \u0627\u0644\u0643\u0644\u064A\u0629 "}),a&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u0625\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644 "+a}),e("span",{className:"mr-2 flex items-center justify-center",children:e(m0,{className:"drop-shadow",size:30})})]}),la=c("tr",{className:"border-y border-y-black",children:[ea.map(a=>e("th",{scope:"col",className:"border-x border-x-black py-3 px-3 text-center",children:a},a)),e("th",{scope:"col",className:"border-x border-x-black p-1 text-center",children:"\u0645"})]}),ra=({basicOptions:a,extraOptions:u})=>{var i,s,b;const{item:t,index:l,tableBodyData:n}=a,{isDeleting:d,handleRemoving:r}=u;return c("tr",{className:`${l%2===0?"bg-white":"bg-gray-100"} border-b border-b-black`,children:[e("th",{scope:"row",className:"whitespace-nowrap border-x border-x-black  p-2 text-center text-gray-900",children:e("form",{className:"m-auto max-w-[150px]",onSubmit:m=>r(m,t==null?void 0:t.id),children:e(_,{bgColor:["bg-red-600","bg-red-700","bg-red-800"],icon:e(Ue,{className:"mb-[-2px]",size:25}),isLoading:d})})}),e("th",{scope:"row",className:"whitespace-nowrap border-x border-x-black  p-2 text-center text-gray-900",children:e(Me,{to:`/invoices/${t==null?void 0:t.id}`,state:{invoice:t},className:"m-auto max-w-[150px] rounded bg-blue-800 px-3 py-2 text-white shadow-sm",children:"\u0639\u0631\u0636 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"})}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2 text-center text-gray-900",children:t!=null&&t.date?N(t==null?void 0:t.date).format("DD/MM/YYYY"):"-"}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2 text-center text-gray-900",children:t!=null&&t.total?t.total:(s=(i=t==null?void 0:t.details)==null?void 0:i[0])==null?void 0:s.price}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2 text-center text-gray-900",children:t!=null&&t.date?N(t==null?void 0:t.date).format(`YYYYMMDD-${N(t==null?void 0:t.createdAt).hour()}`):N(t==null?void 0:t.createdAt).format(`YYYYMMDD-${N(t==null?void 0:t.createdAt).hour()}`)}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2 text-center text-gray-900",children:(b=t==null?void 0:t.customer)!=null&&b.name?t.customer.name:"-"}),e("th",{scope:"row",className:"text-gray-90  border-x border-x-black p-1 text-center",children:(n==null?void 0:n.findIndex(m=>m.id===(t==null?void 0:t.id)))+1})]},t==null?void 0:t.id)},sa=e("tr",{className:"border-b border-b-black",children:ta.map(a=>e("th",{scope:"col",className:"border-x border-x-black py-3 px-3 text-center",children:a},a))}),na=(a,u)=>c("tr",{style:{printColorAdjust:"exact"},className:`${u%2===0?"bg-white":"bg-red-100"} border-b border-b-black`,children:[e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2  text-center text-gray-900",children:u+1}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2  text-center text-gray-900",children:a.name?a.name:"-"}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2  text-center text-gray-900",children:a.quantity}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2  text-center text-gray-900",children:a.price}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-black  p-2  text-center text-gray-900",children:a.price*a.quantity})]},u),Xe=({isFetching:a})=>c("div",{className:"my-4 flex items-center justify-center gap-2 rounded border-l-4 border-yellow-600 bg-green-200 p-2 text-center font-bold text-gray-800",children:[e(He,{isLoading:a})," \u062C\u0627\u0631\u0649 \u0627\u0644\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u0649 \u0644\u0644\u0628\u064A\u0627\u0646\u0627\u062A"]}),Je=({customMsg:a})=>c("div",{className:"my-4 rounded border-l-4 border-yellow-600 bg-yellow-200 py-4 px-2 text-center font-bold text-gray-800",children:[".",`\u0644\u0627 \u064A\u0648\u062C\u062F ${a[0]} \u0645\u062D\u0641\u0648\u0638\u0629 \u0627\u0644\u0627\u0646, \u064A\u0631\u062C\u0649 \u0625\u0636\u0627\u0641\u0629 ${a[1]} \u0644\u0639\u0631\u0636\u0647\u0627`]}),Ze=()=>e("div",{className:"my-4 rounded border-l-4 border-red-600 bg-red-200 py-4 px-2 text-center font-bold text-gray-800",children:"\u0644\u0627 \u064A\u0648\u062C\u062F \u0646\u062A\u0627\u0626\u062C \u062A\u0637\u0627\u0628\u0642 \u0647\u0630\u0627 \u0627\u0644\u0628\u062D\u062B, \u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0649 \u0627\u062F\u062E\u0644\u062A\u0647\u0627 \u0648 \u062D\u0627\u0648\u0644 \u0645\u062C\u062F\u062F\u0627\u064B"}),oa=()=>{const[a,u]=o.exports.useState(""),t=o.exports.useDeferredValue(a),l=o.exports.useRef(!1),[n,d]=o.exports.useState(50),[r,i]=o.exports.useState(!1),[s]=ee(),b=s.get("page")?+s.get("page"):1,{data:m,isLoading:p,isFetching:g,isSuccess:y,isError:v}=N0({query:{name:t.trim()},option:{limit:n,page:b}}),C=m!=null&&m.docs?m.docs:[],[S,{isLoading:D}]=Et(),j=async(h,k)=>{h.preventDefault(),await S(k)};return o.exports.useEffect(()=>{l.current&&y&&!g&&!p?le():l.current=!0},[b,y,g,p,le]),G("filterHeader"),$("\u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631"),c("section",{className:"w-full",children:[c("h2",{className:"my-4 mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-3xl font-bold text-gray-800 shadow",children:[e("span",{className:"mr-2 flex items-center justify-center",children:e(m0,{size:50})}),"(",m==null?void 0:m.totalDocs,") \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"]}),e(ua,{searchQuery:a,setIsFilterOpen:i,isFilterOpen:r}),e(aa,{searchQuery:a,setSearchQuery:u,tableRows:n,setTableRows:d,setIsFilterOpen:i,isFilterOpen:r}),g&&e(Xe,{isFetching:g}),!p&&(C==null?void 0:C.length)>0&&e(Ke,{tableRow:ra,tableHeader:la,tableBodyData:C,options:m,handleRemoving:j,isDeleting:D}),!t&&!p&&!g&&!v&&(C==null?void 0:C.length)===0&&e(Je,{customMsg:["\u0641\u0648\u0627\u062A\u064A\u0631","\u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631"]}),t&&(C==null?void 0:C.length)===0&&!p&&!g&&!v&&e(Ze,{}),p&&e(V,{isLoading:p})]})},A=({name:a,label:u,labeClassNames:t,...l})=>c(U,{children:[e("input",{name:a,id:a,...l}),e("label",{className:t,htmlFor:a,children:u})]}),ca=()=>{const[a,u]=o.exports.useState({name:"",number:""}),[t,l]=o.exports.useState({ID:"",date:"",subtotal:0,total:0,taxRate:0,taxDue:0,taxable:0,other:""}),[n,d]=o.exports.useState([{name:"",price:0,quantity:1}]),[r,i]=o.exports.useState(1),[s,{isLoading:b,isSuccess:m}]=Ve(),p=async y=>{if(y<0&&r===1)return;i(r+y);const v=y>0?[...n,{name:"",price:0,quantity:1}]:n.splice(0,n.length-1);d(v)},g=async y=>{y.preventDefault();const v={ID:t.ID,customer:{...a},details:[...n],total:t.total,subtotal:t.subtotal,date:t.date,taxDue:t.taxDue,taxRate:t.taxRate,taxable:t.taxable,other:t.other};await s(v)};return o.exports.useEffect(()=>{m&&(u({name:"",number:""}),l({ID:"",date:"",subtotal:0,total:0,taxRate:0,taxDue:0,taxable:0,other:""}),d([{name:"",price:0,quantity:1}]))},[m]),G("createInvoice"),$("\u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629 \u062C\u062F\u064A\u062F\u0629"),c("section",{id:"createInvoice",className:"w-full",children:[c("h3",{className:"mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-center text-xl font-bold shadow ",children:[e(_0,{className:"mr-1",size:50}),e("span",{children:"\u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629 \u062C\u062F\u064A\u062F\u0629"})]}),c("form",{onSubmit:g,children:[e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0639\u0645\u064A\u0644 ]"}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:"\u0625\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644",name:"customerName",labeClassNames:w.default,className:f.default,type:"text",value:a.name,onChange:y=>u({...a,name:y.target.value})}),e(A,{label:"\u0631\u0642\u0645 \u0627\u0644\u0639\u0645\u064A\u0644",name:"customerMobile",labeClassNames:w.default,className:f.default,type:"text",value:a.number,onChange:y=>u({...a,number:y.target.value})})]}),e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u062A\u0641\u0627\u0635\u064A\u0644 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 ]"}),n.map((y,v)=>c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5  font-semibold",children:[e(A,{label:"\u0646\u0648\u0639 \u0627\u0644\u062E\u062F\u0645\u0629",name:`itemName${v}`,labeClassNames:w.default,className:f.default,type:"text",value:y.name,onChange:C=>{const S=[...n];S[v].name=C.target.value,d(S)}}),e(A,{label:"\u0627\u0644\u0643\u0645\u064A\u0629",name:`itemQuantity${v}`,labeClassNames:w.default,className:f.default,type:"number",value:y.quantity,onChange:C=>{const S=[...n];S[v].quantity=+C.target.value,d(S);const D=n.reduce((j,h)=>j+h.price*h.quantity,0);l({...t,subtotal:+D.toFixed(2),total:+D.toFixed(2)+ +t.taxDue.toFixed(2)+ +t.taxRate.toFixed(2)+ +t.taxable.toFixed(2)})},min:1,required:!0}),e(A,{label:"\u0633\u0639\u0631 \u0627\u0644\u062E\u062F\u0645\u0629",name:`itemPrice${v}`,labeClassNames:w.default,className:f.default,type:"number",value:y.price,onChange:C=>{const S=[...n];S[v].price=+C.target.value,d(S);const D=n.reduce((j,h)=>j+h.price*h.quantity,0);l({...t,subtotal:+D.toFixed(2),total:+D.toFixed(2)+ +t.taxDue.toFixed(2)+ +t.taxRate.toFixed(2)+ +t.taxable.toFixed(2)})},min:0,step:.01,required:!0})]},v)),c("div",{className:"flex justify-around",children:[c("button",{className:"my-5 flex items-center rounded border bg-blue-800 px-2 py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-blue-800\r hover:bg-white hover:text-blue-800 sm:px-3 sm:text-sm",onClick:()=>p(1),type:"button",children:[e($0,{className:"mr-1",size:20}),"\u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639"]}),c("button",{className:"my-5 flex items-center rounded border bg-red-800 px-2 py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-red-800\r hover:bg-white hover:text-red-800 sm:px-3 sm:text-sm",onClick:()=>p(-1),type:"button",children:[e(O0,{className:"mr-1",size:20}),"\u062D\u0630\u0641 \u0646\u0648\u0639"]})]}),e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629 ]"}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:"\u0631\u0642\u0645 \u0627\u0644\u062C\u0648\u0627\u0632",name:"PassportID",labeClassNames:w.default,className:f.default,type:"text",value:t.ID,onChange:y=>l({...t,ID:y.target.value})}),e(A,{label:"\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",name:"invoiceDate",labeClassNames:w.default,className:f.default,type:"date",value:t.date,onChange:y=>l({...t,date:y.target.value})})]}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:"SubTotal",name:"invoiceSubTotal",labeClassNames:w.default,className:f.default,type:"number",value:t.subtotal,onChange:y=>l({...t,subtotal:+y.target.value,total:+y.target.value+ +t.taxDue.toFixed(2)+ +t.taxRate.toFixed(2)+ +t.taxable.toFixed(2)}),step:"0.01",min:0,required:!0}),e(A,{label:"Taxable",name:"invoiceTaxable",labeClassNames:w.default,className:f.default,type:"number",value:t.taxable,onChange:y=>l({...t,taxable:+y.target.value,total:+y.target.value+ +t.taxDue.toFixed(2)+ +t.taxRate.toFixed(2)+ +t.subtotal.toFixed(2)}),step:"0.01",min:0,required:!0}),e(A,{label:"Tax Rate",name:"invoiceTaxRate",labeClassNames:w.default,className:f.default,type:"number",value:t.taxRate,onChange:y=>l({...t,taxRate:+y.target.value,total:+y.target.value+ +t.taxDue.toFixed(2)+ +t.subtotal.toFixed(2)+ +t.taxable.toFixed(2)}),step:"0.01",min:0,required:!0}),e(A,{label:"Tax Due",name:"invoiceTaxDue",labeClassNames:w.default,className:f.default,type:"number",value:t.taxDue,onChange:y=>l({...t,taxDue:+y.target.value,total:+y.target.value+ +t.subtotal.toFixed(2)+ +t.taxRate.toFixed(2)+ +t.taxable.toFixed(2)}),step:"0.01",min:0,required:!0}),e(A,{label:"Total",name:"invoiceTotal",labeClassNames:w.default,className:f.default,type:"number",value:t.total,onChange:y=>l({...t,total:+y.target.value}),step:"0.01",min:0,required:!0}),e("textarea",{className:f.default,name:"other",id:"other",value:t.other,onChange:y=>l({...t,other:y.target.value})}),e("label",{className:w.default,htmlFor:"other",children:"Other Comments"})]}),e(_,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:b,icon:e(ce,{className:"ml-1",size:25})})]})]})},da="/assets/trans-border-stamp.df07f243.png",ia=()=>{var l,n,d;const a=re(),u=(l=a==null?void 0:a.state)==null?void 0:l.invoice,t=o.exports.useRef(null);return G("showInvoice"),$("\u0639\u0631\u0636 \u0641\u0627\u062A\u0648\u0631\u0629"),u?c(U,{children:[e(q0,{trigger:()=>c("button",{className:"fixed top-[15vh] left-4 z-10 my-5 inline-flex items-center rounded border bg-red-200 px-2 py-2 text-xs font-bold text-red-800 shadow transition-all duration-300 ease-in-out hover:border-red-800 hover:bg-white\r hover:text-red-800 print:hidden sm:px-3 sm:text-sm",children:[e(B0,{className:"mr-1",size:20}),"\u0637\u0628\u0627\u0639\u0629 \u0627\u0644\u0641\u0627\u062A\u0648\u0631\u0629"]}),content:()=>t.current}),c("div",{id:"showInvoice",ref:t,className:"mx-auto my-10 min-h-[75vh] w-full max-w-5xl overflow-x-auto rounded border border-black bg-slate-50 p-10 print:my-0 print:flex print:min-h-screen print:flex-col print:justify-between print:border-none print:shadow-none",children:[c("div",{className:"flex items-center",children:[c("div",{className:"max-w-[300px] text-left",children:[e("p",{className:"text-xl font-bold text-blue-700",children:J.name[0]}),e("p",{children:J.address}),J.tel.map(r=>c("p",{children:["TEL:- ",r]},r)),J.mob.map(r=>c("p",{children:["MOB:- ",r]},r)),c("p",{children:["EMAIL:-"," ",e("span",{className:"text-blue-700 underline",children:J.email})]}),c("p",{children:["WEBSITE:-"," ",e("a",{className:"text-blue-700 underline",href:J.website,target:"_blank",children:J.website})]})]}),e("img",{className:"mx-auto max-h-[100%]  w-[300px]",src:de,alt:"logo"}),c("div",{className:"w-[300px] self-start text-right",children:[e("p",{className:"text-3xl font-bold text-blue-400",children:"INVOICE"}),c("p",{children:["DATE"," ",e("span",{style:{printColorAdjust:"exact"},className:"rounded-sm bg-red-100 p-1",children:u!=null&&u.date?N(u.date).format("DD/MM/YYYY"):"-"})]}),c("p",{children:["INVOICE #"," ",c("span",{style:{printColorAdjust:"exact"},className:"rounded-sm bg-red-100 p-1",children:["[",u!=null&&u.date?N(u==null?void 0:u.date).format(`YYYYMMDD-${N(u==null?void 0:u.createdAt).hour()}`):N(u==null?void 0:u.createdAt).format(`YYYYMMDD-${N(u==null?void 0:u.createdAt).hour()}`),"]"]})]})]})]}),c("div",{className:" mt-5",children:[e("h2",{style:{printColorAdjust:"exact"},className:"mb-4 bg-red-100 p-1 text-xl font-bold",children:"Bill To"}),c("p",{className:"text-left",children:["Name:- ",(n=u==null?void 0:u.customer)!=null&&n.name?u.customer.name:"-"]}),c("p",{className:"text-left",children:["Mobile:- ",(d=u==null?void 0:u.customer)!=null&&d.number?u.customer.number:"-"]})]}),e("div",{children:e("div",{className:"relative my-10 overflow-x-auto rounded border-y-4 border-red-800 shadow-md sm:rounded-lg",children:c("table",{className:"w-full text-sm font-bold text-gray-500 ",children:[e("thead",{style:{printColorAdjust:"exact"},className:"bg-red-100 uppercase text-gray-900",children:sa}),e("tbody",{children:u.details.map((r,i)=>na(r,i))})]})})}),c("div",{className:"my-10 flex items-center justify-center gap-3 text-left font-semibold",children:[c("p",{className:"mx-1",children:["Paid Amount",e("span",{style:{printColorAdjust:"exact"},className:"ml-4 rounded bg-red-100 py-2 px-4",children:(u==null?void 0:u.paid_amount)||(u==null?void 0:u.paid_amount)===0?u.paid_amount:u==null?void 0:u.total})]}),c("p",{className:"mx-1",children:["Remaining Amount",e("span",{style:{printColorAdjust:"exact"},className:"ml-4 rounded bg-red-100 py-2 px-4",children:u!=null&&u.remaining_amount?u.remaining_amount:0})]}),c("p",{className:"mx-1",children:["Payment Method",e("span",{style:{printColorAdjust:"exact"},className:"ml-4 rounded bg-red-100 py-2 px-4",children:u!=null&&u.payment_method?u.payment_method:"-"})]})]}),c("div",{className:" mt-5",children:[e("h3",{style:{printColorAdjust:"exact"},className:"mb-4 bg-red-100 p-1 text-xl font-bold",children:"Other Comments"}),e("p",{className:"text-left",children:u!=null&&u.other?u.other:"No Comment."})]}),c("div",{className:"relative my-10 flex min-h-[200px] items-center justify-center",children:[e("img",{className:"absolute left-10 top-5 z-10 mx-auto max-h-[100%] w-[200px]  print:w-[130px]",src:da,alt:"stamp"}),c("div",{children:[e("p",{children:"If you have any questions about this invoice, please contact us."}),e("p",{className:"text-lg font-bold",children:"Thank You For Your Business!"})]})]})]})]}):e(we,{to:"/not-found",replace:!0})};function ma(){const a=Ae(ve),{AdminInfo:u}=s0(a),{id:t}=u,{data:l,isLoading:n,isFetching:d}=w0(t),[r,{isLoading:i}]=ft(),[s,b]=o.exports.useState({email:"",oldPassword:"",password:"",repeatedPassword:""}),{email:m,oldPassword:p,repeatedPassword:g,password:y}=s,v=async C=>{C.preventDefault();const S={email:m.trim(),id:t,password:y,repeatedPassword:g,oldPassword:p};await r(S)};return o.exports.useEffect(()=>{l&&b({...s,email:l.email})},[l]),G("updateAdmin"),$("\u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628"),n||d?e("div",{className:"mx-auto flex h-full w-full max-w-5xl items-center justify-center",children:e("div",{className:"w-full",children:e(V,{isLoading:n})})}):c("section",{id:"updateAdmin",className:"w-full",children:[c("h3",{className:"mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-center text-2xl font-bold italic shadow",children:[e(Y0,{className:"ml-1",size:50}),e("span",{children:"\u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628"})]}),c("form",{onSubmit:v,children:[c("div",{className:"mb-6",children:[e("label",{htmlFor:"email",className:"mb-4 inline-block w-full rounded bg-red-800 p-2 font-semibold text-white shadow",children:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u0649"}),e("input",{type:"email",name:"email",id:"email",className:"m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out placeholder:text-right focus:border-red-800 focus:bg-white focus:text-gray-700 focus:outline-none",value:m,onChange:C=>b({...s,email:C.target.value}),placeholder:"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u0649",required:!0})]}),c("div",{className:"mb-6",children:[e("label",{htmlFor:"oldPassword",className:"mb-4 inline-block w-full rounded bg-red-800 p-2 font-semibold text-white shadow",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u0642\u062F\u064A\u0645\u0629"}),c("span",{className:"mb-2 flex flex-col items-center gap-2 text-sm font-medium  text-blue-700 md:flex-row-reverse md:text-base",children:[e(U0,{size:27}),e("span",{children:"\u0625\u0630\u0627 \u0644\u0645 \u062A\u0631\u063A\u0628 \u0641\u0649 \u062A\u063A\u064A\u064A\u0631 \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u0642\u062F\u064A\u0645\u0629 ,\u0641\u0639\u0644\u064A\u0643 \u0628\u062A\u0643\u0631\u0627\u0631\u0647\u0627 \u0641\u0649 \u0627\u0644\u062B\u0644\u0627\u062B \u062E\u0627\u0646\u0627\u062A \u0627\u0644\u0642\u0627\u062F\u0645\u0629"})]}),e("input",{type:"password",name:"oldPassword",id:"oldPassword",className:"m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out placeholder:text-right focus:border-red-800 focus:bg-white focus:text-gray-700 focus:outline-none",value:p,onChange:C=>b({...s,oldPassword:C.target.value}),placeholder:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u0642\u062F\u064A\u0645\u0629",required:!0})]}),c("div",{className:"mb-6",children:[e("label",{htmlFor:"password",className:"mb-4 inline-block w-full rounded bg-red-800 p-2 font-semibold text-white shadow",children:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"}),e("input",{type:"password",name:"password",id:"password",className:"m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out placeholder:text-right focus:border-red-800 focus:bg-white focus:text-gray-700 focus:outline-none",value:y,onChange:C=>b({...s,password:C.target.value}),placeholder:"\u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629",required:!0})]}),c("div",{className:"mb-6",children:[e("label",{htmlFor:"repeatedPassword",className:"mb-4 inline-block w-full rounded bg-red-800 p-2 font-semibold text-white shadow",children:"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629"}),e("input",{type:"password",name:"repeatedPassword",id:"repeatedPassword",className:"m-0 block w-full rounded border border-solid border-gray-300 bg-white bg-clip-padding px-3 py-1.5 text-base font-normal text-gray-700 transition ease-in-out placeholder:text-right focus:border-red-800 focus:bg-white focus:text-gray-700 focus:outline-none",value:g,onChange:C=>b({...s,repeatedPassword:C.target.value}),placeholder:"\u062A\u0623\u0643\u064A\u062F \u0643\u0644\u0645\u0629 \u0627\u0644\u0633\u0631 \u0627\u0644\u062C\u062F\u064A\u062F\u0629",required:!0})]}),e(_,{text:{loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062A\u0639\u062F\u064A\u0644",default:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"},isLoading:i,icon:e(H0,{className:"ml-1",size:25})})]})]})}const v0={initial:{y:-200,opacity:.8},animate:{y:0,opacity:1},exit:{y:-200,opacity:0}},A0={initial:{x:100,opacity:.8},animate:{x:0,opacity:1},exit:{x:100,opacity:0},transition:{type:"tween",duration:.2}},pa=({id:a,setIsOpen:u})=>{const{passport:t}=Ge({},{selectFromResult:({data:s})=>({passport:s==null?void 0:s.docs.find(b=>b.id===a)})});if(!t)return u(!1),null;const[l,n]=o.exports.useState({name:t==null?void 0:t.customer_name,nationality:t==null?void 0:t.customer_nationality,state:t==null?void 0:t.state,service:t==null?void 0:t.service,passportId:t==null?void 0:t.passport_id,paymentDate:t!=null&&t.payment_date?N(t==null?void 0:t.payment_date).format("YYYY-MM-DD"):"",servicePrice:t==null?void 0:t.service_price,taxable:t==null?void 0:t.taxable,taxRate:t==null?void 0:t.tax_rate,total:t==null?void 0:t.total,sales:t==null?void 0:t.sales,profit:t==null?void 0:t.profit}),[d,{isLoading:r}]=jt(),i=async s=>{s.preventDefault();const b={id:a,name:l.name.trim(),nationality:l.nationality.trim(),state:l.state,service:l.service,passportId:l.passportId,paymentDate:l.paymentDate,servicePrice:l.servicePrice,taxable:l.taxable,taxRate:l.taxRate,total:l.total,sales:l.sales,profit:l.profit};await d(b)};return o.exports.useEffect(()=>{const s=window.pageYOffset;window.scrollBy(0,-s)},[]),c("div",{className:"fixed inset-0 z-50  h-screen w-full overflow-y-auto overflow-x-hidden bg-black/75 scrollbar-thin scrollbar-track-transparent  scrollbar-thumb-gray-400 scrollbar-track-rounded-full md:inset-0",children:[c(ye.button,{...A0,className:"fixed top-5 right-[5%] inline-flex items-center rounded border border-transparent bg-red-800 px-2  py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-red-800\r hover:bg-white hover:text-red-800 sm:px-3 sm:text-sm",onClick:()=>u(!1),type:"button",children:[e(oe,{className:"mr-1",size:20}),"\u0625\u063A\u0644\u0627\u0642"]}),o.exports.createElement(ye.div,{...v0,key:"modal",className:"mx-auto my-5 w-full max-w-5xl rounded bg-slate-50 p-6 shadow-lg shadow-black/30"},c("h3",{className:"mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-center text-xl font-bold shadow ",children:[e(p0,{className:"mr-1",size:50}),e("span",{children:" \u062A\u0639\u062F\u064A\u0644 \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062C\u0648\u0627\u0632"})]}),c("form",{onSubmit:i,children:[e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062C\u0648\u0627\u0632 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 ]"}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:T[0],name:"customerName",labeClassNames:w.default,className:f.default,type:"text",value:l.name,onChange:s=>n({...l,name:s.target.value}),required:!0}),e(A,{label:T[1],name:"customerNationality",labeClassNames:w.default,className:f.default,type:"text",value:l.nationality,onChange:s=>n({...l,nationality:s.target.value})}),e(A,{label:T[2],name:"passportId",labeClassNames:w.default,className:f.default,type:"text",value:l.passportId,onChange:s=>n({...l,passportId:s.target.value}),required:!0}),e(A,{label:T[5],name:"servicePrice",labeClassNames:w.default,className:f.default,type:"number",value:l.servicePrice,onChange:s=>{n({...l,servicePrice:+s.target.value,total:+s.target.value+l.taxable+l.taxRate,sales:l.service==="change_situation"?+s.target.value+l.taxRate+l.taxable:0,profit:0})},min:0,step:.01}),e(A,{label:T[6],name:"taxable",labeClassNames:w.default,className:f.default,type:"number",value:l.taxable,onChange:s=>n({...l,taxable:+s.target.value,total:+s.target.value+l.servicePrice+l.taxRate,profit:l.sales-+s.target.value-l.servicePrice-l.taxRate}),min:0,step:.01}),e(A,{label:T[7],name:"taxRate",labeClassNames:w.default,className:f.default,type:"number",value:l.taxRate,onChange:s=>n({...l,taxRate:+s.target.value,total:+s.target.value+l.taxable+l.servicePrice,profit:l.sales-+s.target.value-l.taxable-l.servicePrice}),min:0,step:.01}),e(A,{label:T[8],name:"totalPayment",labeClassNames:w.default,className:f.default,type:"number",value:l.total,onChange:s=>n({...l,total:+s.target.value,profit:l.sales-+s.target.value}),min:0,step:.01}),e(A,{label:T[9],name:"sales",labeClassNames:w.default,className:f.default,type:"number",value:l.sales,onChange:s=>n({...l,sales:+s.target.value,profit:+(+s.target.value-l.total).toFixed(2)}),min:0,step:.01}),e(A,{label:T[10],name:"profit",labeClassNames:w.default,className:f.default,type:"number",value:l.profit,onChange:s=>n({...l,profit:+s.target.value}),min:0,step:.01}),e(A,{label:T[11],name:"paymentDate",labeClassNames:w.default,className:f.default,type:"date",value:l.paymentDate,onChange:s=>n({...l,paymentDate:s.target.value}),required:!0}),e("select",{name:"state",id:"state",className:f.default,value:l.state,onChange:s=>n({...l,state:s.target.value}),children:Object.keys(K).map(s=>e("option",{value:s,children:K[s][0]},s))}),e("label",{htmlFor:"state",className:w.default,children:T[3]}),e("select",{name:"service",id:"service",className:f.default,value:l.service,onChange:s=>n({...l,service:s.target.value}),children:Object.keys(Y).map(s=>e("option",{value:s,children:Y[s]},s))}),e("label",{htmlFor:"service",className:w.default,children:T[4]})]}),e(_,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:r,icon:e(ce,{className:"ml-1",size:25})})]}))]})},ha=c("tr",{className:"border-y border-y-black",children:[[...T].reverse().map(a=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:a},a)),e("th",{scope:"col",className:"border-x border-x-black p-1 text-center",children:"\u0645"})]}),ba=({basicOptions:a,extraOptions:u})=>{const{item:t,index:l,tableBodyData:n}=a,{handleRemoving:d,handleAddInvoice:r,isCreatingInvoice:i,isDeleting:s,setId:b,setIsOpen:m}=u;return c("tr",{className:`${l%2===0?"bg-white":"bg-gray-100"} border-b border-b-black`,children:[e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("form",{className:"m-auto max-w-[50px]",onSubmit:p=>d(p,t==null?void 0:t.id),children:e(_,{bgColor:["bg-red-600","bg-red-700","bg-red-800"],icon:e(Ue,{size:20}),isLoading:s})})}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("form",{className:"m-auto max-w-[50px]",onSubmit:p=>r==null?void 0:r(p,t==null?void 0:t.customer_name,t==null?void 0:t.service,t==null?void 0:t.payment_date,t==null?void 0:t.sales),children:e(_,{bgColor:["bg-orange-600","bg-orange-700","bg-orange-800"],icon:e(h0,{size:20}),isLoading:i})})}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("button",{className:"flex w-full items-center justify-center rounded border border-transparent bg-blue-800 px-3 py-2.5 text-xs font-bold text-white transition-all duration-300 ease-in-out\r hover:border-blue-800 hover:bg-white hover:text-blue-800",onClick:()=>{b==null||b(t==null?void 0:t.id),m==null||m(!0)},children:e(b0,{size:20})})}),e("th",{scope:"row",className:"border-x  border-x-black p-1 text-center text-gray-900",children:t!=null&&t.payment_date?N(t==null?void 0:t.payment_date).format("DD/MM/YYYY"):"-"}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.profit}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.sales}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.total}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.tax_rate}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.taxable}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.service_price}),e("th",{scope:"row",className:"max-w-[90px] border-x border-x-black  p-1 text-center text-gray-900",children:Y[t.service]}),e("th",{scope:"row",className:`${K[t.state][1]} border-x border-x-black  p-1 text-center text-gray-900`,children:K[t.state][0]}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.passport_id}),e("th",{scope:"row",className:"border-x  border-x-black p-1 text-center text-gray-900",children:t!=null&&t.customer_nationality?t.customer_nationality:"-"}),e("th",{scope:"row",className:"border-x  border-x-black bg-red-200 p-1 text-center text-gray-900",children:t==null?void 0:t.customer_name}),e("th",{scope:"row",className:"text-gray-90  border-x border-x-black p-1 text-center",children:n.findIndex(p=>p.id===(t==null?void 0:t.id))+1})]},t==null?void 0:t.id)},xa=["\u0627\u0644\u0642\u064A\u0645\u0629","\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u0649"],fa=({passports:a})=>{const{totals:u,servicePrices:t,taxRates:l,taxables:n,profits:d,sales:r}=It(a),i=[["\u0627\u0644\u0631\u0633\u0648\u0645 \u0627\u0644\u063A\u064A\u0631 \u062E\u0627\u0636\u0639\u0629 \u0644\u0644\u0636\u0631\u064A\u0628\u0629",t.toFixed(2)],["\u0631\u0633\u0648\u0645 \u0627\u0644\u062E\u062F\u0645\u0629",n.toFixed(2)],["\u0636\u0631\u064A\u0628\u0629 \u0631\u0633\u0648\u0645 \u0627\u0644\u062E\u062F\u0645\u0629",l.toFixed(2)],["\u0627\u0644\u062A\u0643\u0644\u0641\u0629",u.toFixed(2)],["\u0633\u0639\u0631 \u0627\u0644\u0628\u064A\u0639",r.toFixed(2)],["\u0625\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0631\u0628\u062D",d.toFixed(2)]],s=e("tr",{className:"border-b border-b-teal-500",children:xa.map(m=>e("th",{scope:"col",className:"border-x border-x-teal-500 py-3 px-3 text-center",children:m},m))}),b=(m,p)=>c("tr",{className:`${p%2===0?"bg-white":"bg-red-100"} border-b border-b-teal-500`,children:[e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:m[1]}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:m[0]})]},m[0]);return c("div",{className:"my-5 rounded-md bg-red-700 p-4 ",children:[e("h4",{className:"mb-5 p-3 text-center text-2xl font-bold text-white underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0625\u062C\u0645\u0627\u0644\u064A\u0627\u062A \u0627\u0644\u0635\u0641\u062D\u0629"}),e("div",{className:"my-5  rounded",children:c("table",{className:"w-full text-sm font-bold text-gray-500 ",children:[e("thead",{className:"bg-red-100 uppercase text-gray-900",children:s}),e("tbody",{children:i.map((m,p)=>b(m,p))})]})})]})},ga=({setSearchQuery:a,searchQuery:u,isFilterOpen:t,setIsFilterOpen:l,tableRows:n,setTableRows:d})=>{const[r,i]=ee(),s=r.get("page"),{year:b,month:m,day:p,nationality:g,state:y,service:v}=u;let C=[];for(let h=2010;h<=2060;h++)C.push(h);let S=[];for(let h=1;h<=30;h++)S.push(h);let D=[];for(let h=1;h<=31;h++)D.push(h);let j=[];for(let h=10;h<=200;h+=10)j.push(h);return c("div",{className:`${t?"translate-x-0":"-translate-x-60"} duration-350 absolute left-0 top-0 flex h-screen w-60 flex-wrap items-start justify-center gap-4  overflow-x-hidden overflow-y-scroll bg-slate-50 px-4 py-8 text-xs shadow-md transition-all ease-in-out scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400 scrollbar-corner-slate-700 scrollbar-track-rounded-full scrollbar-w-0`,children:[e("button",{className:"absolute top-2 right-2 inline-flex items-center text-xs font-bold text-white sm:text-sm",onClick:()=>l(!t),type:"button",children:e(oe,{className:"text-red-700",size:30})}),c("form",{className:"mx-auto my-4  flex basis-full flex-col  items-center justify-center gap-4 font-semibold",children:[c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"year",children:"\u0627\u0644\u0633\u0646\u0629"}),c("select",{name:"year",id:"year",className:f.default,value:b,onChange:h=>{s&&+s>1&&i({page:"1"}),a({...u,year:h.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0633\u0646\u0648\u0627\u062A"}),C.map(h=>e("option",{value:h,children:h},h))]})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"month",children:"\u0627\u0644\u0634\u0647\u0631"}),c("select",{name:"month",id:"month",className:f.default,value:m,onChange:h=>{s&&+s>1&&i({page:"1"}),a({...u,month:h.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0634\u0647\u0648\u0631"}),S.map(h=>e("option",{value:h,children:h},h))]})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"day",children:"\u0627\u0644\u064A\u0648\u0645"}),c("select",{name:"day",id:"day",className:f.default,value:p,onChange:h=>{s&&+s>1&&i({page:"1"}),a({...u,day:h.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0627\u064A\u0627\u0645"}),D.map(h=>e("option",{value:h,children:h},h))]})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"tableRows",children:"\u0639\u062F\u062F \u0635\u0641\u0648\u0641 \u0627\u0644\u062C\u062F\u0648\u0644"}),e("select",{name:"tableRows",id:"tableRows",className:f.default,value:n,onChange:h=>{s&&+s>1&&i({page:"1"}),d(+h.target.value)},children:j.map(h=>e("option",{value:h,children:h},h))})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"nationality",children:"\u0627\u0644\u062C\u0646\u0633\u064A\u0629"}),e("input",{type:"text",name:"nationality",id:"nationality",className:f.default,value:g,placeholder:"\u0627\u0644\u062C\u0646\u0633\u064A\u0629",onChange:h=>{s&&+s>1&&i({page:"1"}),a({...u,nationality:h.target.value})}})]}),c("div",{className:"flex basis-full flex-col items-center justify-center gap-2",children:[e("p",{className:"w-full rounded bg-red-700 p-2 text-white",children:"\u0627\u0644\u0648\u0636\u0639\u064A\u0629"}),e("div",{className:"flex flex-row-reverse flex-wrap items-center justify-center gap-2",children:y==null?void 0:y.map((h,k)=>c(o.exports.Fragment,{children:[e("label",{htmlFor:h.value,children:K[h.value][0]}),e("input",{type:"checkbox",id:h.value,name:h.value,value:h.value,checked:h.checked,onChange:()=>{s&&+s>1&&i({page:"1"}),a({...u,state:y.map((x,F)=>({value:x.value,checked:k===F?!x.checked:x.checked}))})}})]},h.value))})]}),c("div",{className:"flex basis-full flex-col items-center justify-center gap-2",children:[e("p",{className:"w-full rounded bg-red-700 p-2 text-white",children:"\u0627\u0644\u062E\u062F\u0645\u0629"}),e("div",{className:"flex flex-row-reverse flex-wrap items-center justify-center gap-2",children:v==null?void 0:v.map((h,k)=>c(o.exports.Fragment,{children:[e("label",{htmlFor:h.value,children:Y[h.value]}),e("input",{type:"checkbox",id:h.value,name:h.value,value:h.value,checked:h.checked,onChange:()=>{s&&+s>1&&i({page:"1"}),a({...u,service:v.map((x,F)=>({value:x.value,checked:k===F?!x.checked:x.checked}))})}})]},h.value))})]})]})]})},ya=({searchQuery:a,stateArr:u,serviceArr:t,count:l,setIsFilterOpen:n,isFilterOpen:d})=>{const{year:r,month:i,day:s,nationality:b,state:m,service:p}=a;return e(U,{children:c("h3",{id:"filterHeader",className:"relative flex basis-full flex-row-reverse flex-wrap items-center justify-center rounded  bg-red-700 p-3 text-center font-bold text-white shadow",children:[c("button",{className:"absolute top-2 right-2 flex items-center justify-center rounded bg-slate-50 p-2 text-xs font-semibold text-gray-600 shadow sm:text-sm",onClick:()=>n(!d),type:"button",children:[e(Ye,{className:"mr-1",size:25}),d?"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0641\u0644\u062A\u0631\u0629":"\u0641\u062A\u062D \u0627\u0644\u0641\u0644\u062A\u0631\u0629"]}),e("p",{className:"mb-5 basis-full text-2xl underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0641\u0644\u062A\u0640\u0640\u0631\u0629 \u0627\u0644\u062C\u0640\u0640\u0640\u0648\u0627\u0632\u0627\u062A"}),e("span",{children:" \u0627\u0644\u062C\u0648\u0627\u0632\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"}),!i&&!s&&!r&&e("span",{className:"mx-1 rounded-md bg-blue-500 p-1 text-white",children:" \u0627\u0644\u0643\u0644\u064A\u0629 "}),i&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u0639\u0646 \u0634\u0647\u0631 "+i}),s&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u064A\u0648\u0645 "+s}),r&&e("span",{className:"mx-1 rounded-md bg-amber-500 p-1 text-white",children:" \u0633\u0646\u0629 "+r}),m&&e("span",{className:"mx-1 rounded-md bg-emerald-500 p-1 text-white",children:" \u0648\u0627\u0644\u0648\u0636\u0639\u064A\u0629 "+(u.join()===""?"[\u0643\u0640\u0640\u0644 \u0627\u0644\u0648\u0636\u0639\u064A\u0627\u062A]":u.map(g=>` ${K[g][0]} `))}),p&&e("span",{className:"mx-1 rounded-md bg-purple-500 p-1 text-white",children:" \u0648 \u0627\u0644\u062E\u062F\u0645\u0629 "+(t.join()===""?"[\u0643\u0640\u0640\u0644 \u0627\u0644\u062E\u062F\u0645\u0640\u0627\u062A]":t.map(g=>` ${Y[g]} `))}),b&&e("span",{className:"mx-1 rounded-md bg-pink-500 p-1 text-white",children:" \u0648 \u0627\u0644\u062C\u0646\u0633\u064A\u0629 "+b}),c("span",{children:["(",l,")"]}),e("span",{className:"mr-2 flex items-center justify-center",children:e(x0,{className:"drop-shadow",size:50})})]})})},wa=()=>{const[a,u]=o.exports.useState({year:"",month:"",day:"",nationality:"",state:[{value:"accepted",checked:!1},{value:"rejected",checked:!1},{value:"refunded",checked:!1},{value:"delivered",checked:!1}],service:[{value:"30days",checked:!1},{value:"60days",checked:!1},{value:"90days",checked:!1},{value:"extend_permission",checked:!1},{value:"cancel_permission",checked:!1},{value:"report_request",checked:!1},{value:"renew_resedency",checked:!1},{value:"cancel_resedency",checked:!1},{value:"temp_shutdown_with_escape",checked:!1},{value:"change_situation",checked:!1}]}),{year:t,month:l,day:n,state:d,service:r,nationality:i}=a,s=o.exports.useDeferredValue(i),b=o.exports.useRef(!1),[m,p]=o.exports.useState(50),[g]=ee(),y=g.get("page")?+g.get("page"):1,v=d.filter(L=>L.checked).map(L=>L.value),C=r.filter(L=>L.checked).map(L=>L.value);let S={query:{day:+n,month:+l,year:+t,nationality:s,state:v,service:C},option:{limit:m,page:y}};const{data:D,isLoading:j,isFetching:h,isSuccess:k,isError:x}=Ge(S),F=D!=null&&D.docs?D.docs:[],[z,{isLoading:te}]=Rt(),[ie,{isLoading:M}]=Ve(),[Ce,me]=o.exports.useState(!1),[pe,he]=o.exports.useState(!1),[Fe,be]=o.exports.useState(""),xe=async(L,se)=>{L.preventDefault(),await z(se)},fe=async(L,se,X,Ee,B)=>{L.preventDefault();const E={customer:{name:se},details:[{name:X==="90days"||X==="60days"||X==="30days"?" \u0641\u064A\u0632\u0627 "+Y[X]:Y[X],quantity:1,price:B}],total:B,subtotal:0,date:Ee,taxDue:0,taxRate:0,taxable:0};await ie(E)};return o.exports.useEffect(()=>{b.current&&k&&!h&&!j?le():b.current=!0},[y,k,h,j,le]),G("filterHeader"),$("\u0627\u0644\u062C\u0640\u0640\u0640\u0648\u0627\u0632\u0627\u062A"),c("section",{className:"w-full",children:[c("h2",{className:"my-4 mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-3xl font-bold text-gray-800 shadow",children:[e("span",{className:"mr-2 flex items-center justify-center",children:e(x0,{size:50})}),"\u0627\u0644\u062C\u0640\u0640\u0640\u0648\u0627\u0632\u0627\u062A"]}),e(ya,{setIsFilterOpen:he,isFilterOpen:pe,searchQuery:a,stateArr:v,serviceArr:C,count:D!=null&&D.totalDocs?D.totalDocs:0}),e(ga,{searchQuery:a,setSearchQuery:u,setIsFilterOpen:he,isFilterOpen:pe,tableRows:m,setTableRows:p}),!j&&!h&&(F==null?void 0:F.length)!==0&&e(fa,{passports:F}),h&&e(Xe,{isFetching:h}),!j&&(F==null?void 0:F.length)>0&&e(Ke,{tableRow:ba,tableHeader:ha,tableBodyData:F,options:D,handleRemoving:xe,handleAddInvoice:fe,setIsOpen:me,setId:be,isDeleting:te,isCreatingInvoice:M}),!t&&!l&&!n&&!s&&(v==null?void 0:v.length)===0&&(C==null?void 0:C.length)===0&&(F==null?void 0:F.length)===0&&!j&&!h&&!x&&e(Je,{customMsg:["\u062C\u0648\u0627\u0632\u0627\u062A","\u0627\u0644\u062C\u0648\u0627\u0632\u0627\u062A"]}),(t||l||n||s||(v==null?void 0:v.length)>0||(C==null?void 0:C.length)>0)&&(F==null?void 0:F.length)===0&&!j&&!h&&!x&&e(Ze,{}),e(f0,{initial:!1,children:Ce&&e(pa,{setIsOpen:me,id:Fe})}),j&&e(V,{isLoading:j})]})},Na=()=>{const[a,u]=o.exports.useState({name:"",nationality:"",state:"accepted",service:"30days",passportId:"",paymentDate:"",servicePrice:0,taxable:53,taxRate:2.65,total:0,sales:0,profit:0}),[t,{isSuccess:l,isLoading:n}]=Pt(),d=async r=>{r.preventDefault();const i={name:a.name,nationality:a.nationality.trim(),state:a.state,service:a.service,passportId:a.passportId,paymentDate:a.paymentDate,servicePrice:a.servicePrice,taxable:a.taxable,taxRate:a.taxRate,total:a.total,sales:a.sales,profit:a.profit};await t(i)};return o.exports.useEffect(()=>{l&&u({name:"",nationality:"",state:"accepted",service:"30days",passportId:"",paymentDate:"",servicePrice:0,taxable:53,taxRate:2.65,total:0,sales:0,profit:0})},[l]),G("createPassport"),$("\u0625\u0636\u0627\u0641\u0629 \u062C\u0648\u0627\u0632 \u062C\u062F\u064A\u062F"),c("section",{id:"createPassport",className:"w-full",children:[c("h3",{className:"mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-center text-xl font-bold shadow ",children:[e(p0,{className:"mr-1",size:50}),e("span",{children:"\u0625\u0636\u0627\u0641\u0629 \u062C\u0648\u0627\u0632 \u062C\u062F\u064A\u062F"})]}),c("form",{onSubmit:d,children:[e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062C\u0648\u0627\u0632 ]"}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:T[0],name:"customerName",labeClassNames:w.default,className:f.default,type:"text",value:a.name,onChange:r=>u({...a,name:r.target.value}),required:!0}),e(A,{label:T[1],name:"customerNationality",labeClassNames:w.default,className:f.default,type:"text",value:a.nationality,onChange:r=>u({...a,nationality:r.target.value})}),e(A,{label:T[2],name:"passportId",labeClassNames:w.default,className:f.default,type:"text",value:a.passportId,onChange:r=>u({...a,passportId:r.target.value}),required:!0}),e(A,{label:T[5],name:"servicePrice",labeClassNames:w.default,className:f.default,type:"number",value:a.servicePrice,onChange:r=>u({...a,servicePrice:+r.target.value,total:+r.target.value+a.taxable+a.taxRate,sales:a.service==="change_situation"?+r.target.value+a.taxRate+a.taxable:0,profit:0}),min:0,step:.01}),e(A,{label:T[6],name:"taxable",labeClassNames:w.default,className:f.default,type:"number",value:a.taxable,onChange:r=>u({...a,taxable:+r.target.value,total:+r.target.value+a.servicePrice+a.taxRate,sales:a.service==="change_situation"?+r.target.value+a.taxRate+a.servicePrice:0,profit:0}),min:0,step:.01}),e(A,{label:T[7],name:"taxRate",labeClassNames:w.default,className:f.default,type:"number",value:a.taxRate,onChange:r=>u({...a,taxRate:+r.target.value,total:+r.target.value+a.taxable+a.servicePrice,sales:a.service==="change_situation"?+r.target.value+a.taxable+a.servicePrice:0,profit:0}),min:0,step:.01}),e(A,{label:T[8],name:"totalPayment",labeClassNames:w.default,className:f.default,type:"number",value:a.total,onChange:r=>u({...a,total:+r.target.value,profit:a.sales-+r.target.value}),min:0,step:.01}),e(A,{label:T[9],name:"sales",labeClassNames:w.default,className:f.default,type:"number",value:a.sales,onChange:r=>u({...a,sales:+r.target.value,profit:+(+r.target.value-a.total).toFixed(2)}),min:0,step:.01}),e(A,{label:T[10],name:"profit",labeClassNames:w.default,className:f.default,type:"number",value:a.profit,onChange:r=>u({...a,profit:+r.target.value}),min:0,step:.01}),e(A,{label:T[11],name:"paymentDate",labeClassNames:w.default,className:f.default,type:"date",value:a.paymentDate,onChange:r=>u({...a,paymentDate:r.target.value})}),e("select",{name:"state",id:"state",className:f.default,value:a.state,onChange:r=>u({...a,state:r.target.value}),children:Object.keys(K).map(r=>e("option",{value:r,children:K[r][0]},r))}),e("label",{htmlFor:"state",className:w.default,children:T[3]}),e("select",{name:"service",id:"service",className:f.default,value:a.service,onChange:r=>u({...a,service:r.target.value}),children:Object.keys(Y).map(r=>e("option",{value:r,children:Y[r]},r))}),e("label",{htmlFor:"service",className:w.default,children:T[4]})]}),e(_,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u062C\u0648\u0627\u0632",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:n,icon:e(ce,{className:"ml-1",size:25})})]})]})},R=["Customer Name","Type","\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641","Cost","Sales","Profit","Supplier","Date","\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062A\u0630\u0643\u0631\u0629","\u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629","\u0645\u0633\u062D \u0627\u0644\u062A\u0630\u0643\u0631\u0629"],va=["Paid Amount","Remaining Amount","Payment Method"],Aa=()=>{const[a,u]=o.exports.useState({name:"",type:"",employee:"",supplier:"",paymentDate:"",paymentMethod:"cash",cost:0,sales:0,profit:0,paidAmount:0,remainingAmount:0}),[t,{isSuccess:l,isLoading:n}]=Ot(),d=async r=>{r.preventDefault();const i={name:a.name.trim(),type:a.type.trim(),employee:a.employee.trim(),supplier:a.supplier.trim(),cost:a.cost,sales:a.sales,profit:a.profit,paymentDate:a.paymentDate,paymentMethod:a.paymentMethod,paidAmount:a.paidAmount,remainingAmount:a.remainingAmount};await t(i)};return o.exports.useEffect(()=>{l&&u({name:"",type:"",employee:"",supplier:"",paymentDate:"",paymentMethod:"cash",cost:0,sales:0,profit:0,paidAmount:0,remainingAmount:0})},[l]),G("createTicket"),$("\u0625\u0636\u0627\u0641\u0629 \u062A\u0630\u0643\u0631\u0629 \u062C\u062F\u064A\u062F\u0629"),c("section",{id:"createTicket",className:"w-full",children:[c("h3",{className:"mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-center text-xl font-bold shadow ",children:[e(Ne,{className:"mr-1",size:50}),e("span",{children:"\u0625\u0636\u0627\u0641\u0629 \u062A\u0630\u0643\u0631\u0629 \u062C\u062F\u064A\u062F\u0629"})]}),c("form",{onSubmit:d,children:[e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0630\u0643\u0631\u0629 ]"}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:R[0],name:"customerName",labeClassNames:w.default,className:f.default,type:"text",value:a.name,onChange:r=>u({...a,name:r.target.value}),required:!0}),e(A,{label:R[1],name:"type",labeClassNames:w.default,className:f.default,type:"text",value:a.type,onChange:r=>u({...a,type:r.target.value})}),e(A,{label:R[2],name:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641",labeClassNames:w.default,className:f.default,type:"text",value:a.employee,onChange:r=>u({...a,employee:r.target.value})}),e(A,{label:R[3],name:"cost",labeClassNames:w.default,className:f.default,type:"number",value:a.cost,onChange:r=>u({...a,cost:+r.target.value,profit:a.sales-+r.target.value}),min:0,step:.01}),e(A,{label:R[4],name:"sales",labeClassNames:w.default,className:f.default,type:"number",value:a.sales,onChange:r=>u({...a,sales:+r.target.value,profit:+r.target.value-a.cost}),min:0,step:.01}),e(A,{label:R[5],name:"profit",labeClassNames:w.default,className:f.default,type:"number",value:a.profit,onChange:r=>u({...a,profit:+r.target.value}),min:0,step:.01}),e(A,{label:"Paid Amount",name:"paidAmount",labeClassNames:w.default,className:f.default,type:"number",value:a.paidAmount,onChange:r=>u({...a,paidAmount:+r.target.value,remainingAmount:a.sales-+r.target.value}),min:0,step:.01}),e(A,{label:"Remaining Amount",name:"remainingAmount",labeClassNames:w.default,className:f.default,type:"number",value:a.remainingAmount,onChange:r=>u({...a,remainingAmount:+r.target.value}),min:0,step:.01}),e("select",{name:"paymentMethod",id:"paymentMethod",className:f.default,value:a.paymentMethod,onChange:r=>u({...a,paymentMethod:r.target.value}),children:Object.keys(H).map(r=>e("option",{value:r,children:H[r]},r))}),e("label",{htmlFor:"paymentMethod",className:w.default,children:"Payment Method"}),e(A,{label:R[6],name:"supplier",labeClassNames:w.default,className:f.default,type:"text",value:a.supplier,onChange:r=>u({...a,supplier:r.target.value})}),e(A,{label:R[7],name:"paymentDate",labeClassNames:w.default,className:f.default,type:"date",value:a.paymentDate,onChange:r=>u({...a,paymentDate:r.target.value})})]}),e(_,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u062A\u0630\u0643\u0631\u0629",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:n,icon:e(ce,{className:"ml-1",size:25})})]})]})},Ca=({id:a,setIsOpen:u})=>{const{ticket:t}=We({},{selectFromResult:({data:s})=>({ticket:s==null?void 0:s.docs.find(b=>b.id===a)})});if(!t)return u(!1),null;const[l,n]=o.exports.useState({name:t==null?void 0:t.customer_name,type:t==null?void 0:t.type,employee:t==null?void 0:t.employee,supplier:t==null?void 0:t.supplier,paymentDate:t!=null&&t.payment_date?N(t==null?void 0:t.payment_date).format("YYYY-MM-DD"):"",paymentMethod:t==null?void 0:t.payment_method,cost:t==null?void 0:t.cost,sales:t==null?void 0:t.sales,profit:t==null?void 0:t.profit,paidAmount:t==null?void 0:t.paid_amount,remainingAmount:t==null?void 0:t.remaining_amount}),[d,{isLoading:r}]=qt(),i=async s=>{var m,p,g;s.preventDefault();const b={id:a,name:l==null?void 0:l.name.trim(),type:(m=l==null?void 0:l.type)==null?void 0:m.trim(),employee:(p=l==null?void 0:l.employee)==null?void 0:p.trim(),supplier:(g=l==null?void 0:l.supplier)==null?void 0:g.trim(),cost:l.cost,sales:l.sales,profit:l.profit,paymentDate:l.paymentDate,paymentMethod:l.paymentMethod,paidAmount:l.paidAmount,remainingAmount:l.remainingAmount};await d(b)};return o.exports.useEffect(()=>{const s=window.pageYOffset;window.scrollBy(0,-s)},[]),c("div",{className:"fixed inset-0 z-50  h-screen w-full overflow-y-auto overflow-x-hidden bg-black/75 scrollbar-thin scrollbar-track-transparent  scrollbar-thumb-gray-400 scrollbar-track-rounded-full md:inset-0",children:[c(ye.button,{...A0,className:"fixed top-5 right-[5%] inline-flex items-center rounded border border-transparent bg-red-800 px-2  py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-red-800\r hover:bg-white hover:text-red-800 sm:px-3 sm:text-sm",onClick:()=>u(!1),type:"button",children:[e(oe,{className:"mr-1",size:20}),"\u0625\u063A\u0644\u0627\u0642"]}),o.exports.createElement(ye.div,{...v0,key:"modal",className:"mx-auto my-5 w-full max-w-5xl rounded bg-slate-50 p-6 shadow-lg shadow-black/30"},c("h3",{className:"mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-center text-xl font-bold shadow ",children:[e(Ne,{className:"mr-1",size:50}),e("span",{children:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u062A\u0630\u0643\u0631\u0629"})]}),c("form",{onSubmit:i,children:[e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062A\u0630\u0643\u0631\u0629 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 ]"}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(A,{label:R[0],name:"customerNameUpdate",labeClassNames:w.default,className:f.default,type:"text",value:l.name,onChange:s=>n({...l,name:s.target.value}),required:!0}),e(A,{label:R[1],name:"typeUpdate",labeClassNames:w.default,className:f.default,type:"text",value:l.type,onChange:s=>n({...l,type:s.target.value})}),e(A,{label:R[2],name:"Update\u0627\u0633\u0645 \u0627\u0644\u0645\u0648\u0638\u0641",labeClassNames:w.default,className:f.default,type:"text",value:l.employee,onChange:s=>n({...l,employee:s.target.value})}),e(A,{label:R[3],name:"cost",labeClassNames:w.default,className:f.default,type:"number",value:l.cost,onChange:s=>n({...l,cost:+s.target.value,profit:l.sales-+s.target.value}),min:0,step:.01}),e(A,{label:R[4],name:"sales",labeClassNames:w.default,className:f.default,type:"number",value:l.sales,onChange:s=>n({...l,sales:+s.target.value,profit:+s.target.value-l.cost}),min:0,step:.01}),e(A,{label:R[5],name:"profit",labeClassNames:w.default,className:f.default,type:"number",value:l.profit,onChange:s=>n({...l,profit:+s.target.value}),min:0,step:.01}),e(A,{label:"Paid Amount",name:"paidAmount",labeClassNames:w.default,className:f.default,type:"number",value:l.paidAmount,onChange:s=>n({...l,paidAmount:+s.target.value,remainingAmount:l.sales-+s.target.value}),min:0,step:.01}),e(A,{label:"Remaining Amount",name:"remainingAmount",labeClassNames:w.default,className:f.default,type:"number",value:l.remainingAmount,onChange:s=>n({...l,remainingAmount:+s.target.value}),min:0,step:.01}),e("select",{name:"paymentMethodUpdate",id:"paymentMethodUpdate",className:f.default,value:l.paymentMethod,onChange:s=>n({...l,paymentMethod:s.target.value}),children:Object.keys(H).map(s=>e("option",{value:s,children:H[s]},s))}),e("label",{htmlFor:"paymentMethodUpdate",className:w.default,children:"Payment Method"}),e(A,{label:R[6],name:"supplierUpdate",labeClassNames:w.default,className:f.default,type:"text",value:l.supplier,onChange:s=>n({...l,supplier:s.target.value})}),e(A,{label:R[7],name:"paymentDate",labeClassNames:w.default,className:f.default,type:"date",value:l.paymentDate,onChange:s=>n({...l,paymentDate:s.target.value})})]}),e(_,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:r,icon:e(ce,{className:"ml-1",size:25})})]}))]})},Fa=({setSearchQuery:a,searchQuery:u,setIsFilterOpen:t,isFilterOpen:l,tableRows:n,setTableRows:d})=>{const[r,i]=ee(),s=r.get("page"),{year:b,month:m,day:p,type:g,customerName:y,supplier:v,employee:C,paymentMethod:S}=u;let D=[];for(let x=2010;x<=2060;x++)D.push(x);let j=[];for(let x=1;x<=30;x++)j.push(x);let h=[];for(let x=1;x<=31;x++)h.push(x);let k=[];for(let x=10;x<=200;x+=10)k.push(x);return c("div",{className:`${l?"translate-x-0":"-translate-x-60"} duration-350 absolute left-0 top-0 flex h-screen w-60 flex-wrap items-start justify-center gap-4  overflow-x-hidden overflow-y-scroll bg-slate-50 px-4 py-8 text-xs shadow-md transition-all ease-in-out scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400 scrollbar-corner-slate-700 scrollbar-track-rounded-full scrollbar-w-0`,children:[e("button",{className:"absolute top-2 right-2 inline-flex items-center text-xs font-bold text-white sm:text-sm",onClick:()=>t(!l),type:"button",children:e(oe,{className:"text-red-700",size:30})}),c("form",{className:"mx-auto my-4  flex basis-full flex-col  items-center justify-center gap-4 font-semibold",children:[c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"year",children:"\u0627\u0644\u0633\u0646\u0629"}),c("select",{name:"year",id:"year",className:f.default,value:b,onChange:x=>{s&&+s>1&&i({page:"1"}),a({...u,year:x.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0633\u0646\u0648\u0627\u062A"}),D.map(x=>e("option",{value:x,children:x},x))]})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"month",children:"\u0627\u0644\u0634\u0647\u0631"}),c("select",{name:"month",id:"month",className:f.default,value:m,onChange:x=>{s&&+s>1&&i({page:"1"}),a({...u,month:x.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0634\u0647\u0648\u0631"}),j.map(x=>e("option",{value:x,children:x},x))]})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"day",children:"\u0627\u0644\u064A\u0648\u0645"}),c("select",{name:"day",id:"day",className:f.default,value:p,onChange:x=>{s&&+s>1&&i({page:"1"}),a({...u,day:x.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0627\u064A\u0627\u0645"}),h.map(x=>e("option",{value:x,children:x},x))]})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"tableRows",children:"\u0639\u062F\u062F \u0635\u0641\u0648\u0641 \u0627\u0644\u062C\u062F\u0648\u0644"}),e("select",{name:"tableRows",id:"tableRows",className:f.default,value:n,onChange:x=>{s&&+s>1&&i({page:"1"}),d(+x.target.value)},children:k.map(x=>e("option",{value:x,children:x},x))})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"customerName",children:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644"}),e("input",{type:"text",name:"customerName",id:"customerName",className:f.default,value:y,placeholder:"\u0627\u0633\u0645 \u0627\u0644\u0639\u0645\u064A\u0644",onChange:x=>{s&&+s>1&&i({page:"1"}),a({...u,customerName:x.target.value})}})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"employee",children:"\u0627\u0644\u0645\u0648\u0638\u0641"}),e("input",{type:"text",name:"employee",id:"employee",className:f.default,value:C,placeholder:"\u0627\u0644\u0645\u0648\u0638\u0641",onChange:x=>{s&&+s>1&&i({page:"1"}),a({...u,employee:x.target.value})}})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"supplier",children:"Supplier"}),e("input",{type:"text",name:"supplier",id:"supplier",className:f.default,value:v,placeholder:"Supplier",onChange:x=>{s&&+s>1&&i({page:"1"}),a({...u,supplier:x.target.value})}})]}),c("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"type",children:"Type"}),e("input",{type:"text",name:"type",id:"type",className:f.default,value:g,placeholder:"Type",onChange:x=>{s&&+s>1&&i({page:"1"}),a({...u,type:x.target.value})}})]}),c("div",{className:"flex basis-full flex-col items-center justify-center gap-2",children:[e("p",{className:"w-full rounded bg-red-700 p-2 text-white",children:"Payment Method"}),e("div",{className:"flex flex-row-reverse flex-wrap items-center justify-center gap-2",children:S==null?void 0:S.map((x,F)=>c(o.exports.Fragment,{children:[e("label",{htmlFor:x.value,children:H[x.value]}),e("input",{type:"checkbox",id:x.value,name:x.value,value:x.value,checked:x.checked,onChange:()=>{s&&+s>1&&i({page:"1"}),a({...u,paymentMethod:S.map((z,te)=>({value:z.value,checked:F===te?!z.checked:z.checked}))})}})]},x.value))})]})]})]})},Ea=({searchQuery:a,paymentMethodArr:u,count:t,setIsFilterOpen:l,isFilterOpen:n})=>{const{year:d,month:r,day:i,type:s,customerName:b,employee:m,supplier:p,paymentMethod:g}=a;return c("h3",{id:"filterHeader",className:"relative flex basis-full flex-row-reverse flex-wrap items-center justify-center rounded  bg-red-700 p-3 text-center font-bold text-white shadow",children:[c("button",{className:"absolute top-2 right-2 flex items-center justify-center rounded bg-slate-50 p-2 text-xs font-semibold text-gray-600 shadow sm:text-sm",onClick:()=>l(!n),type:"button",children:[e(Ye,{className:"mr-1",size:25}),n?"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0641\u0644\u062A\u0631\u0629":"\u0641\u062A\u062D \u0627\u0644\u0641\u0644\u062A\u0631\u0629"]}),e("p",{className:"mb-5 basis-full text-2xl underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0641\u0644\u062A\u0640\u0640\u0631\u0629 \u0627\u0644\u062A\u0630\u0627\u0643\u0640\u0640\u0631"}),e("span",{children:" \u0627\u0644\u062A\u0630\u0627\u0643\u0640\u0640\u0631 \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"}),!r&&!d&&e("span",{className:"mx-1 rounded-md bg-blue-500 p-1 text-white",children:" \u0627\u0644\u0643\u0644\u064A\u0629 "}),r&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u0639\u0646 \u0634\u0647\u0631 "+r}),i&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u064A\u0648\u0645 "+i}),d&&e("span",{className:"mx-1 rounded-md bg-amber-500 p-1 text-white",children:" \u0633\u0646\u0629 "+d}),b&&e("span",{className:"mx-1 rounded-md bg-purple-500 p-1 text-white",children:" Customer Name:- "+b}),m&&e("span",{className:"mx-1 rounded-md bg-emerald-500 p-1 text-white",children:"\u0627\u0644\u0645\u0648\u0638\u0641:- "+m}),p&&e("span",{className:"mx-1 rounded-md bg-pink-500 p-1 text-white",children:" Supplier:- "+p}),s&&e("span",{className:"mx-1 rounded-md bg-pink-500 p-1 text-white",children:" Type:- "+s}),g&&e("span",{className:"mx-1 rounded-md bg-emerald-500 p-1 text-white",children:" Payment Method "+(u.join()===""?"[All Methods]":u.map(y=>` ${H[y]} `))}),c("span",{children:["(",t,")"]}),e("span",{className:"mr-2 flex items-center justify-center",children:e(Ne,{size:50})})]})},Da=["\u0627\u0644\u0642\u064A\u0645\u0629","\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u0649"],Ta=({tickets:a})=>{const{costs:u,profits:t,sales:l}=Ut(a),n=[["\u0625\u062C\u0645\u0627\u0644\u0649  \u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u062A\u0630\u0627\u0643\u0631",u.toFixed(2)],["\u0633\u0639\u0631 \u0627\u0644\u0628\u064A\u0639",l.toFixed(2)],["\u0625\u062C\u0645\u0627\u0644\u0649 \u0627\u0644\u0631\u0628\u062D",t.toFixed(2)]],d=e("tr",{className:"border-b border-b-teal-500",children:Da.map(i=>e("th",{scope:"col",className:"border-x border-x-teal-500 py-3 px-3 text-center",children:i},i))}),r=(i,s)=>c("tr",{className:`${s%2===0?"bg-white":"bg-red-100"} border-b border-b-teal-500`,children:[e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:i[1]}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:i[0]})]},i[0]);return c("div",{className:"my-5 rounded-md bg-red-700 p-4 ",children:[e("h4",{className:"mb-5 p-3 text-center text-2xl font-bold text-white underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0625\u062C\u0645\u0627\u0644\u064A\u0627\u062A \u0627\u0644\u0635\u0641\u062D\u0629"}),e("div",{className:"my-5  rounded",children:c("table",{className:"w-full text-sm font-bold text-gray-500 ",children:[e("thead",{className:"bg-red-100 uppercase text-gray-900",children:d}),e("tbody",{children:n.map((i,s)=>r(i,s))})]})})]})},Sa=c("tr",{className:"border-y border-y-black",children:[[...R].slice(6).reverse().map(a=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:a},a)),[...va].map(a=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:a},a)),[...R].slice(0,6).reverse().map(a=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:a},a)),e("th",{scope:"col",className:"border-x border-x-black p-1 text-center",children:"\u0645"})]}),Pa=({basicOptions:a,extraOptions:u})=>{const{item:t,index:l,tableBodyData:n}=a,{handleRemoving:d,handleAddInvoice:r,isCreatingInvoice:i,isDeleting:s,setId:b,setIsOpen:m}=u;return c("tr",{className:`${l%2===0?"bg-white":"bg-gray-100"} border-b border-b-black`,children:[e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("form",{className:"m-auto max-w-[150px]",onSubmit:p=>d(p,t==null?void 0:t.id),children:e(_,{bgColor:["bg-red-600","bg-red-700","bg-red-800"],icon:e(Ue,{size:20}),isLoading:s})})}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("form",{className:"m-auto max-w-[150px]",onSubmit:p=>r==null?void 0:r(p,t),children:e(_,{bgColor:["bg-orange-600","bg-orange-700","bg-orange-800"],icon:e(h0,{size:20}),isLoading:i})})}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("button",{className:"flex w-full items-center justify-center rounded border border-transparent bg-blue-800 px-3 py-2.5 text-xs font-bold text-white transition-all duration-300 ease-in-out\r hover:border-blue-800 hover:bg-white hover:text-blue-800",onClick:()=>{b==null||b(t==null?void 0:t.id),m==null||m(!0)},children:e(b0,{size:20})})}),e("th",{scope:"row",className:"border-x  border-x-black p-1 text-center text-gray-900",children:t!=null&&t.payment_date?N(t==null?void 0:t.payment_date).format("DD/MM/YYYY"):"-"}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t!=null&&t.supplier?t==null?void 0:t.supplier:"-"}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.paid_amount}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.remaining_amount}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t!=null&&t.payment_method?H[t==null?void 0:t.payment_method]:"-"}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.profit}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.sales}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t==null?void 0:t.cost}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t!=null&&t.employee?t.employee:"-"}),e("th",{scope:"row",className:"border-x  border-x-black  p-1 text-center text-gray-900",children:t!=null&&t.type?t.type:"-"}),e("th",{scope:"row",className:"border-x  border-x-black bg-red-200 p-1 text-center text-gray-900",children:t!=null&&t.customer_name?t.customer_name:"-"}),e("th",{scope:"row",className:"text-gray-90  border-x border-x-black p-1 text-center",children:n.findIndex(p=>p.id===(t==null?void 0:t.id))+1})]},t==null?void 0:t.id)},ja=()=>{const[a,u]=o.exports.useState({day:"",year:"",month:"",type:"",supplier:"",employee:"",customerName:"",paymentMethod:[{value:"cash",checked:!1},{value:"bank",checked:!1},{value:"later",checked:!1},{value:"credit",checked:!1}]}),{year:t,month:l,day:n,supplier:d,employee:r,paymentMethod:i,type:s,customerName:b}=a,m=o.exports.useDeferredValue(b),p=o.exports.useDeferredValue(r),g=o.exports.useDeferredValue(s),y=o.exports.useDeferredValue(d),v=o.exports.useRef(!1),[C,S]=o.exports.useState(50),[D]=ee(),j=D.get("page")?+D.get("page"):1,h=i.filter(B=>B.checked).map(B=>B.value);let k={query:{day:+n,month:+l,year:+t,type:g,supplier:y,employee:p,customerName:m,paymentMethod:h},option:{limit:C,page:j}};const{data:x,isLoading:F,isFetching:z,isSuccess:te,isError:ie}=We(k),M=x!=null&&x.docs?x.docs:[],[Ce,{isLoading:me}]=Bt(),[pe,{isLoading:he}]=Ve(),[Fe,be]=o.exports.useState(!1),[xe,fe]=o.exports.useState(!1),[L,se]=o.exports.useState(""),X=async(B,E)=>{B.preventDefault(),await Ce(E)},Ee=async(B,E)=>{B.preventDefault();const C0={customer:{name:E==null?void 0:E.customer_name},details:[{name:E==null?void 0:E.type,quantity:1,price:E.sales}],subtotal:E==null?void 0:E.sales,taxable:0,taxRate:0,taxDue:0,total:E==null?void 0:E.sales,date:E==null?void 0:E.payment_date,paidAmount:E==null?void 0:E.paid_amount,remainingAmount:E==null?void 0:E.remaining_amount,paymentMethod:H[E==null?void 0:E.payment_method]};await pe(C0)};return o.exports.useEffect(()=>{v.current&&te&&!z&&!F?le():v.current=!0},[j,te,z,F,le]),G("filterHeader"),$("\u0627\u0644\u062A\u0630\u0627\u0643\u0640\u0640\u0631"),c("section",{className:"w-full",children:[c("h2",{className:"my-4 mb-10 flex items-center justify-center rounded border-b-4 border-red-800 bg-red-200 px-2 py-4 text-3xl font-bold text-gray-800 shadow",children:[e("span",{className:"mr-2 flex items-center justify-center",children:e(Ne,{size:50})}),"\u0627\u0644\u062A\u0630\u0627\u0643\u0640\u0640\u0631"]}),e(Ea,{searchQuery:a,count:x!=null&&x.totalDocs?x.totalDocs:0,paymentMethodArr:h,setIsFilterOpen:fe,isFilterOpen:xe}),e(Fa,{searchQuery:a,setSearchQuery:u,paymentMethodArr:h,setIsFilterOpen:fe,isFilterOpen:xe,tableRows:C,setTableRows:S}),!F&&!z&&(M==null?void 0:M.length)!==0&&e(Ta,{tickets:M}),z&&e(Xe,{isFetching:z}),!F&&(M==null?void 0:M.length)>0&&e(Ke,{tableRow:Pa,tableHeader:Sa,tableBodyData:M,options:x,handleRemoving:X,handleAddInvoice:Ee,setIsOpen:be,setId:se,isDeleting:me,isCreatingInvoice:he}),!t&&!l&&!n&&!g&&!y&&!p&&!m&&(h==null?void 0:h.length)===0&&(M==null?void 0:M.length)===0&&!F&&!z&&!ie&&e(Je,{customMsg:["\u062A\u0630\u0627\u0643\u0631","\u0627\u0644\u062A\u0630\u0627\u0643\u0631"]}),(t||l||n||r||y||m||g||p||(h==null?void 0:h.length)>0)&&(M==null?void 0:M.length)===0&&!F&&!z&&!ie&&e(Ze,{}),e(f0,{initial:!1,children:Fe&&e(Ca,{setIsOpen:be,id:L})}),F&&e(V,{isLoading:F})]})},Ra=()=>{const a=Ae(ve),u=re();return a?e(ae,{}):e(we,{to:"/login",state:{from:u.pathname},replace:!0})},Ma=()=>{const a=Ae(ve),u=o.exports.useRef(!1),t=re(),[l,n]=o.exports.useState(!1),[d,{isUninitialized:r,isLoading:i,isSuccess:s,isError:b}]=gt();o.exports.useEffect(()=>(u.current,a||(async()=>{try{await d().unwrap(),n(!0)}catch{}})(),()=>{u.current=!0}),[]);let m=null;return i?m=e("div",{className:"mx-auto flex min-h-screen w-full max-w-5xl items-center justify-center ",children:e("div",{className:"h-full w-full bg-slate-50",children:e(V,{isLoading:i})})}):b?m=e(we,{to:"/login",state:{from:t==null?void 0:t.pathname,isSessionEnded:!0}}):s&&l?m=e(ae,{}):a&&r&&(m=e(ae,{})),m},Ia=()=>{const a=Mt("getPassports",{force:!0}),u=Dt("getInvoices",{force:!0}),t=Yt("getTickets",{force:!0});return o.exports.useEffect(()=>{a({}),u({}),t({})},[]),e(ae,{})},ka=()=>e("div",{className:"min-h-screen flex mx-2",children:e(ae,{})}),Pe=[{name:"\u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629",link:"/home",icon:e(K0,{size:20})},{name:"\u0628\u064A\u0627\u0646\u0627\u062A \u0627\u0644\u062D\u0633\u0627\u0628",link:"/profile",icon:e(X0,{size:20})},{name:"\u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631",link:"/invoices",icon:e(J0,{size:20}),margin:!0},{name:"\u0625\u0636\u0627\u0641\u0629 \u0641\u0627\u062A\u0648\u0631\u0629",link:"/invoices/create",icon:e(De,{size:20})},{name:"\u0627\u0644\u062C\u0648\u0627\u0632\u0627\u062A",link:"/passports",icon:e(Z0,{size:20}),margin:!0},{name:"\u0625\u0636\u0627\u0641\u0629 \u062C\u0648\u0627\u0632",link:"/passports/create",icon:e(De,{size:20})},{name:"\u0627\u0644\u062A\u0630\u0627\u0643\u0631",link:"/tickets",icon:e(Q0,{size:20}),margin:!0},{name:"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u062A\u0630\u0627\u0643\u0631",link:"/tickets/create",icon:e(De,{size:20})}],za=()=>{const[a,{isLoading:u,isSuccess:t}]=yt(),l=Re(),n=re(),[d,r]=o.exports.useState(!0);return o.exports.useEffect(()=>{t&&l("/login",{state:{from:n.pathname}})},[t,l]),c("aside",{className:`min-h-screen overflow-y-auto overflow-x-hidden bg-slate-50 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400 scrollbar-corner-slate-700 scrollbar-track-rounded-full scrollbar-w-0 ${d?"w-52":"w-16"}  px-4 font-semibold text-black duration-500`,role:"navigation",children:[e("div",{className:"flex  justify-end py-3",children:e(V0,{size:26,className:"cursor-pointer focus:bg-gray-100 hover:bg-gray-100",onClick:()=>r(!d)})}),e("img",{className:`${d?"opacity-100":"opacity-0"} mb-2 h-8 transition-all`,src:de,alt:"logo"}),c("div",{className:"relative mt-2 flex flex-col gap-1",children:[Pe==null?void 0:Pe.map((i,s)=>c(G0,{to:i==null?void 0:i.link,className:({isActive:b})=>b?`${(i==null?void 0:i.margin)&&"mt-2"}  ${!d&&"justify-center"}  
              
            flex flex-row-reverse items-center   rounded-md  bg-red-200 p-2 text-xs  hover:bg-red-200`:`${(i==null?void 0:i.margin)&&"mt-2"}  ${!d&&"justify-center"} 
              
             flex flex-row-reverse items-center    rounded-md p-2 text-xs  hover:bg-red-200`,title:i==null?void 0:i.name,end:!0,children:[e("span",{className:`whitespace-pre duration-500 ${d?"ml-2":"ml-0"}`,children:i==null?void 0:i.icon}),e("h2",{style:{transitionDelay:`${s+3}00ms`},className:`whitespace-pre duration-500 ${!d&&"translate-x-28 overflow-hidden opacity-0"}`,children:i==null?void 0:i.name})]},s)),c("button",{className:" mt-3 flex cursor-pointer flex-row-reverse items-center justify-center rounded-md bg-red-700   p-2 text-xs text-white  disabled:cursor-not-allowed hover:opacity-80",title:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C",onClick:()=>a(),disabled:u,children:[e("span",{className:`whitespace-pre duration-500 ${d?"ml-2":"ml-0"}`,children:e(W0,{size:20})}),e("h2",{style:{transitionDelay:`${3}00ms`},className:`whitespace-pre duration-500 ${!d&&"translate-x-28 overflow-hidden opacity-0"}`,children:u?e(He,{}):"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C"})]})]})]})},La=()=>c("div",{className:"flex h-screen flex-row-reverse overflow-hidden",children:[e(za,{}),e("div",{className:"m-3 flex w-full items-start overflow-scroll rounded bg-slate-50 px-6 py-10 shadow-lg  shadow-black/30 scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400  scrollbar-track-rounded-full",children:e(ae,{})})]});const _a=()=>c(U,{children:[e(g0,{children:c(P,{path:"/",children:[c(P,{element:e(ka,{}),children:[e(P,{index:!0,element:e(we,{to:"/login"})}),e(P,{path:"login",element:e(wt,{})})]}),e(P,{element:e(Ma,{}),children:e(P,{element:e(Ra,{}),children:e(P,{element:e(Ia,{}),children:c(P,{element:e(La,{}),children:[e(P,{path:"/home",element:e(Zt,{})}),c(P,{path:"/profile",children:[e(P,{index:!0,element:e(At,{})}),e(P,{path:"update",element:e(ma,{})})]}),c(P,{path:"/passports",children:[e(P,{index:!0,element:e(wa,{})}),e(P,{path:"create",element:e(Na,{})})]}),c(P,{path:"/invoices",children:[e(P,{index:!0,element:e(oa,{})}),e(P,{path:"create",element:e(ca,{})}),e(P,{path:":id",element:e(ia,{})})]}),c(P,{path:"/tickets",children:[e(P,{index:!0,element:e(ja,{})}),e(P,{path:"create",element:e(Aa,{})})]})]})})})}),e(P,{path:"*",element:e(vt,{})})]})}),e(et,{role:"alert",rtl:!0,autoClose:4e3,theme:"colored"})]});const $a=["getAdmin","refresh","getPassports","getInvoices","getTickets"],ne={400:c("div",{className:"flex flex-col items-center justify-center gap-2 font-Tajawal",children:[e("h3",{className:"text-base font-semibold   md:text-xl",children:"\u0637\u0644\u0628 \u062E\u0627\u0637\u0626!"}),e("p",{children:"\u064A\u0631\u062C\u0649 \u0627\u0644\u062A\u0623\u0643\u062F \u0645\u0646 \u0627\u0644\u0645\u062F\u062E\u0644\u0627\u062A \u0648\u062D\u0627\u0648\u0644 \u0645\u062C\u062F\u062F\u0627\u064B"})]}),401:e("div",{className:"flex flex-col items-center justify-center gap-2 font-Tajawal",children:e("h3",{className:"text-base font-semibold   md:text-xl",children:"\u0628\u0631\u062C\u0627\u0621 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644!"})}),429:c("div",{className:"flex flex-col items-center justify-center gap-2 font-Tajawal",children:[e("h3",{className:"text-base font-semibold   md:text-xl",children:"\u0644\u0642\u062F \u062A\u062E\u0637\u064A\u062A \u0639\u062F\u062F \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0627\u062A \u0627\u0644\u0645\u0633\u0645\u0648\u062D \u0628\u0647\u0627!"}),e("p",{children:"\u062D\u0627\u0648\u0644 \u0645\u062C\u062F\u062F\u0627 \u0644\u0627\u062D\u0642\u0627"})]}),500:c("div",{className:"flex flex-col items-center justify-center gap-2 font-Tajawal",children:[e("h3",{className:"text-base font-semibold   md:text-xl",children:"\u062E\u0637\u0623 \u0645\u0646 \u0627\u0644\u0633\u064A\u0631\u0641\u0631!"}),e("p",{children:"\u062D\u0627\u0648\u0644 \u0645\u062C\u062F\u062F\u0627 \u0644\u0627\u062D\u0642\u0627"})]}),unknown:c("div",{className:"flex flex-col items-center justify-center gap-2 font-Tajawal",children:[e("h3",{className:"text-base font-semibold   md:text-xl",children:"\u062E\u0637\u0623 \u063A\u064A\u0631 \u0645\u0639\u0644\u0648\u0645!"}),e("p",{children:"\u062D\u0627\u0648\u0644 \u0645\u062C\u062F\u062F\u0627 \u0644\u0627\u062D\u0642\u0627"})]})},Oa=a=>u=>t=>{var d,r,i,s,b,m,p;const l=(r=(d=t==null?void 0:t.meta)==null?void 0:d.arg)==null?void 0:r.endpointName,n="loremIpsum";if(tt(t)){let g=null;((i=t==null?void 0:t.payload)==null?void 0:i.originalStatus)===400?I(ne[400],{type:I.TYPE.ERROR,toastId:n}):((s=t==null?void 0:t.payload)==null?void 0:s.originalStatus)===401?I(ne[401],{type:I.TYPE.ERROR,toastId:n}):((b=t==null?void 0:t.payload)==null?void 0:b.originalStatus)===500?I(ne[500],{type:I.TYPE.ERROR,toastId:n}):((m=t==null?void 0:t.payload)==null?void 0:m.originalStatus)===429?I(ne[429],{type:I.TYPE.ERROR,toastId:n}):((p=t==null?void 0:t.payload)==null?void 0:p.originalStatus)===403?(g=e(qa,{}),I(g,{type:I.TYPE.ERROR,toastId:n})):I(ne.unknown,{type:I.TYPE.ERROR,toastId:n})}if(at(t)&&!$a.includes(l)){let g=e("h3",{className:"font-Tajawal text-base font-semibold  md:text-xl",children:"\u062A\u0645\u062A \u0627\u0644\u0639\u0645\u0644\u064A\u0629 \u0628\u0646\u062C\u0627\u062D"});l==="login"&&(g=e("h3",{className:"font-Tajawal text-base font-semibold  md:text-xl",children:"\u0645\u0631\u062D\u0628\u0627 \u0628\u0643"})),l==="sendLogout"&&(g=e("h3",{className:"font-Tajawal text-base font-semibold  md:text-xl",children:"\u062A\u0645 \u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062E\u0631\u0648\u062C \u0628\u0646\u062C\u0627\u062D"})),I(g,{type:I.TYPE.SUCCESS,toastId:n})}return u(t)},qa=()=>{const a=re(),u=Re();return o.exports.useEffect(()=>{var t,l;u("/login",{state:{from:(t=a==null?void 0:a.state)!=null&&t.from?(l=a==null?void 0:a.state)==null?void 0:l.from:a==null?void 0:a.pathname,isSessionEnded:!0}})},[]),e("div",{className:"flex flex-col items-center justify-center gap-2 font-Tajawal",children:e("h3",{className:"text-base font-semibold   md:text-xl",children:"\u0644\u0642\u062F \u0625\u0646\u062A\u0647\u062A \u0645\u062F\u0629 \u062A\u0633\u062C\u064A\u0644 \u062F\u062E\u0648\u0644\u0643!"})})},Ba=ut({reducer:{[W.reducerPath]:W.reducer,auth:mt},middleware:a=>a().concat([W.middleware,Oa]),devTools:!1});lt();rt.createRoot(document.getElementById("root")).render(e(st.StrictMode,{children:e(nt,{store:Ba,children:e(ot,{children:e(g0,{children:e(P,{path:"/*",element:e(_a,{})})})})})}));
