import{a as l,j as e,a7 as X,Y as _,Z as L,_ as Z,r as c,a8 as J,a9 as K,a6 as W,w as Q,$ as ee}from"./vendor.c41dc8f7.js";import{l as te,u as ue,F as ae,P as re,N as le,a as se}from"./index.c005e3a6.js";import{u as ne,a as oe,S as ce,b as ie,c as de}from"./purchase-alt.91afbc19.js";import{s as M,u as me}from"./useScroll.83beccce.js";import{F as z,D as B,u as pe}from"./index.96e1eff6.js";import{b as xe}from"./index.esm.5209106d.js";import{d as P}from"./dayjs.min.c03dc6a9.js";import{i as g,l as y}from"./constants.ffd6e56c.js";import{F as N}from"./FormInput.57b5023d.js";import{m as Y,c as he,a as be,A as fe}from"./animationOptions.e6f57d4a.js";import{D as I}from"./DataFetchingErrorMessage.a13afcc3.js";const ge=["\u0645\u0633\u062D \u0627\u0644\u0645\u0634\u062A\u0631\u0649","\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0634\u062A\u0631\u0649","\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0644\u0649","\u0627\u0644\u0636\u0631\u064A\u0628\u0629","\u0627\u0644\u0645\u0628\u0644\u063A \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629","Supplier","\u0634\u0631\u062D \u0627\u0644\u0645\u0634\u062A\u0631\u0649","\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u0649","\u062A\u0627\u0631\u064A\u062E \u0627\u0644\u0645\u0634\u062A\u0631\u0649"],we=l("tr",{className:"border-y border-y-black",children:[ge.map(i=>e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:i},i)),e("th",{scope:"col",className:"max-w-[100px] border-x border-x-black p-1 text-center",children:"\u0645"})]}),ye=({basicOptions:i,extraOptions:h})=>{const{item:a,index:f,tableBodyData:d}=i,{handleRemoving:x,isDeleting:w,setId:n,setIsOpen:s}=h;return l("tr",{className:`${f%2===0?"bg-white":"bg-gray-100"} border-b border-b-black`,children:[e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("form",{className:"m-auto max-w-[150px]",onSubmit:u=>x(u,a==null?void 0:a.id),children:e(z,{bgColor:["bg-red-600","bg-red-700","bg-red-800"],icon:e(xe,{size:20}),isLoading:w})})}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:e("button",{className:"flex w-full items-center justify-center rounded border border-transparent bg-blue-800 px-3 py-2.5 text-xs font-bold text-white transition-all duration-300 ease-in-out\r hover:border-blue-800 hover:bg-white hover:text-blue-800",onClick:()=>{n==null||n(a==null?void 0:a.id),s==null||s(!0)},children:e(X,{size:20})})}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:a==null?void 0:a.total}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:a.purchase_types.map((u,m)=>e("span",{className:"my-1 flex flex-row-reverse items-center justify-center gap-1 rounded",children:e("span",{children:u!=null&&u.tax?u.tax:"-"})},m))}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:a.purchase_types.map((u,m)=>e("span",{className:"my-1 flex flex-row-reverse items-center justify-center gap-1 rounded",children:e("span",{children:u!=null&&u.cost?u==null?void 0:u.cost:"-"})},m))}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:a.purchase_types.map((u,m)=>e("span",{className:"my-1 flex flex-row-reverse items-center justify-center gap-1 rounded",children:e("span",{children:u!=null&&u.supplier?u.supplier:"-"})},m))}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:a.purchase_types.map((u,m)=>e("span",{className:"my-1 flex flex-row-reverse items-center justify-center gap-1 rounded bg-purple-400 p-1",children:e("span",{children:u!=null&&u.description?u.description:"-"})},m))}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:a.purchase_types.map((u,m)=>e("span",{className:"my-1 flex flex-row-reverse items-center justify-center gap-1 rounded bg-amber-400 p-1",children:u!=null&&u.name?u.name:"-"},m))}),e("th",{scope:"row",className:"border-x border-x-black p-1 text-center text-gray-900",children:P(a==null?void 0:a.date).format("DD/MM/YYYY")}),e("th",{scope:"row",className:"text-gray-90  border-x border-x-black p-1 text-center",children:d.findIndex(u=>u.id===(a==null?void 0:a.id))+1})]},a==null?void 0:a.id)},Ne=i=>{let h={totals:0};return i.map(a=>{h.totals+=(a==null?void 0:a.total)||0}),h},Ae=["\u0627\u0644\u0642\u064A\u0645\u0629","\u0627\u0644\u0625\u062C\u0645\u0627\u0644\u0649"],ve=({purchases:i})=>{const{totals:h}=Ne(i),a=[["\u062A\u0643\u0644\u0641\u0629 \u0627\u0644\u0645\u0634\u062A\u0640\u0640\u0631\u064A\u0627\u062A",h.toFixed(2)]],f=e("tr",{className:"border-b border-b-teal-500",children:Ae.map(x=>e("th",{scope:"col",className:"border-x border-x-teal-500 py-3 px-3 text-center",children:x},x))}),d=(x,w)=>l("tr",{className:`${w%2===0?"bg-white":"bg-red-100"} border-b border-b-teal-500`,children:[e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:x[1]}),e("th",{scope:"row",className:"whitespace-nowrap  border-x border-x-teal-500  p-2  text-center text-gray-900",children:x[0]})]},x[0]);return l("div",{className:"my-5 rounded-md bg-red-700 p-4 ",children:[e("h4",{className:"mb-5 p-3 text-center text-2xl font-bold text-white underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0625\u062C\u0645\u0627\u0644\u064A\u0627\u062A \u0627\u0644\u0635\u0641\u062D\u0629"}),e("div",{className:"my-5  rounded",children:l("table",{className:"w-full text-sm font-bold text-gray-500 ",children:[e("thead",{className:"bg-red-100 uppercase text-gray-900",children:f}),e("tbody",{children:a.map((x,w)=>d(x,w))})]})})]})},Ce=({setSearchQuery:i,searchQuery:h,setIsFilterOpen:a,isFilterOpen:f,tableRows:d,setTableRows:x})=>{const[w,n]=_(),s=w.get("page"),{year:u,month:m,day:D,type:F,supplier:k}=h;let A=[];for(let t=2010;t<=2060;t++)A.push(t);let v=[];for(let t=1;t<=30;t++)v.push(t);let S=[];for(let t=1;t<=31;t++)S.push(t);let r=[];for(let t=10;t<=300;t+=10)r.push(t);return l("div",{id:"filters",className:`${f?"translate-x-0":"-translate-x-60"} duration-350 absolute left-0 top-0 flex h-screen w-60 flex-wrap items-start justify-center gap-4  overflow-x-hidden overflow-y-scroll bg-slate-50 px-4 py-8 text-xs shadow-md transition-all ease-in-out scrollbar-thin scrollbar-track-transparent scrollbar-thumb-gray-400 scrollbar-corner-slate-700 scrollbar-track-rounded-full scrollbar-w-0`,children:[e("button",{className:"absolute top-2 right-2 inline-flex items-center text-xs font-bold text-white sm:text-sm",onClick:()=>a(!f),type:"button",children:e(L,{className:"text-red-700",size:30})}),l("form",{className:"mx-auto my-4  flex basis-full flex-col  items-center justify-center gap-4 font-semibold",children:[l("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"year",children:"\u0627\u0644\u0633\u0646\u0629"}),l("select",{name:"year",id:"year",className:g.default,value:u,onChange:t=>{s&&+s>1&&n({page:"1"}),i({...h,year:t.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0633\u0646\u0648\u0627\u062A"}),A.map(t=>e("option",{value:t,children:t},t))]})]}),l("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"month",children:"\u0627\u0644\u0634\u0647\u0631"}),l("select",{name:"month",id:"month",className:g.default,value:m,onChange:t=>{s&&+s>1&&n({page:"1"}),i({...h,month:t.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0634\u0647\u0648\u0631"}),v.map(t=>e("option",{value:t,children:t},t))]})]}),l("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"day",children:"\u0627\u0644\u064A\u0648\u0645"}),l("select",{name:"day",id:"day",className:g.default,value:D,onChange:t=>{s&&+s>1&&n({page:"1"}),i({...h,day:t.target.value})},children:[e("option",{value:"",children:"\u0643\u0644 \u0627\u0644\u0627\u064A\u0627\u0645"}),S.map(t=>e("option",{value:t,children:t},t))]})]}),l("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"tableRows",children:"\u0639\u062F\u062F \u0635\u0641\u0648\u0641 \u0627\u0644\u062C\u062F\u0648\u0644"}),e("select",{name:"tableRows",id:"tableRows",className:g.default,value:d,onChange:t=>{s&&+s>1&&n({page:"1"}),x(+t.target.value)},children:r.map(t=>e("option",{value:t,children:t},t))})]}),l("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"supplier",children:"Supplier"}),e("input",{type:"text",name:"supplier",id:"supplier",className:g.default,value:k,placeholder:"Supplier",onChange:t=>{s&&+s>1&&n({page:"1"}),i({...h,supplier:t.target.value})}})]}),l("div",{className:"flex flex-col items-center justify-center gap-2",children:[e("label",{className:"w-full rounded bg-red-700 p-2 text-white",htmlFor:"type",children:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u0649"}),e("input",{type:"text",name:"type",id:"type",className:g.default,value:F,placeholder:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u0649",onChange:t=>{s&&+s>1&&n({page:"1"}),i({...h,type:t.target.value})}})]})]})]})},De=({searchQuery:i,count:h,setIsFilterOpen:a,isFilterOpen:f})=>{const{year:d,month:x,day:w,type:n,supplier:s}=i;return l("h3",{id:"filterHeader",className:"relative flex basis-full flex-row-reverse flex-wrap items-center justify-center rounded  bg-red-700 p-3 text-center font-bold text-white shadow",children:[l("button",{id:"openFilters",className:"absolute top-2 right-2 flex items-center justify-center rounded bg-slate-50 p-2 text-xs font-semibold text-gray-600 shadow sm:text-sm",onClick:()=>a(!f),type:"button",children:[e(Z,{className:"mr-1",size:25}),f?"\u0625\u063A\u0644\u0627\u0642 \u0627\u0644\u0641\u0644\u062A\u0631\u0629":"\u0641\u062A\u062D \u0627\u0644\u0641\u0644\u062A\u0631\u0629"]}),e("p",{className:"mb-5 basis-full text-2xl underline decoration-sky-500 decoration-wavy decoration-2 underline-offset-8",children:"\u0641\u0644\u062A\u0640\u0640\u0631\u0629 \u0627\u0644\u0645\u0634\u062A\u0640\u0640\u0631\u064A\u0627\u062A"}),e("span",{children:" \u0627\u0644\u0645\u0634\u062A\u0640\u0640\u0631\u064A\u0627\u062A \u0627\u0644\u0645\u062D\u0641\u0648\u0638\u0629"}),!x&&!d&&e("span",{className:"mx-1 rounded-md bg-blue-500 p-1 text-white",children:" \u0627\u0644\u0643\u0644\u064A\u0629 "}),x&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u0639\u0646 \u0634\u0647\u0631 "+x}),w&&e("span",{className:"mx-1 rounded-md bg-rose-500 p-1 text-white",children:" \u064A\u0648\u0645 "+w}),d&&e("span",{className:"mx-1 rounded-md bg-amber-500 p-1 text-white",children:" \u0633\u0646\u0629 "+d}),s&&e("span",{className:"mx-1 rounded-md bg-pink-500 p-1 text-white",children:" Supplier:- "+s}),n&&e("span",{className:"mx-1 rounded-md bg-pink-500 p-1 text-white",children:" \u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u0649:- "+n}),l("span",{children:["(",h,")"]})]})},Fe=i=>c.exports.createElement("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512",xmlSpace:"preserve",role:"img",...i},c.exports.createElement("circle",{style:{fill:"#FD8469"},cx:256,cy:256,r:256}),c.exports.createElement("path",{style:{fill:"#FC6F58"},d:"M277.814,511.066c118.179-9.975,213.502-100.214,231.226-216.017l-93.579-93.579 c0,0-9.335,11.974-18.125,23.249L278.411,105.793c0,0-14.693,108.918-25.505,189.061l-78.215-78.215l-78.152,16.724l118.524,118.522 l-62.792,33.637L277.814,511.066z"}),c.exports.createElement("polygon",{style:{fill:"#E6F3FF"},points:"359.731,385.52 152.269,385.52 100.404,212.637 411.596,212.637 "}),c.exports.createElement("polygon",{style:{fill:"#CFDBE6"},points:"411.596,212.637 256,212.637 256,385.52 359.731,385.52 "}),c.exports.createElement("rect",{x:96.539,y:201.473,style:{fill:"#324A5E"},width:318.923,height:31.892}),c.exports.createElement("rect",{x:256,y:201.473,style:{fill:"#2B3B4E"},width:159.461,height:31.892}),c.exports.createElement("rect",{x:233.589,y:105.796,style:{fill:"#734B46"},width:44.822,height:159.461}),c.exports.createElement("rect",{x:256,y:105.796,style:{fill:"#593633"},width:22.411,height:159.461})),ke=({id:i,setIsOpen:h})=>{const a={date:P().format("YYYY-MM-DD"),total:0},f=[{name:"",description:"",supplier:"",reference_number:"",cost:0,tax:0,total:0}],{data:d,isLoading:x,error:w}=ne({id:i}),[n,s]=c.exports.useState(a),[u,m]=c.exports.useState(f),[D,F]=c.exports.useState(1),k=r=>{if(r<0&&D===1)return;F(D+r);const t=r>0?[...u,{name:"",description:"",supplier:"",reference_number:"",cost:0,tax:0,total:0}]:u.splice(0,u.length-1);m(t);const p=t.reduce((o,C)=>o+C.total,0);s({...n,total:p})},[A,{isLoading:v}]=oe(),S=async r=>{r.preventDefault();const t={id:i,purchaseTypes:[...u],total:n.total,purchaseDate:n.date};await A(t)};return c.exports.useEffect(()=>{if(d){s({date:P(d==null?void 0:d.date).format("YYYY-MM-DD"),total:d==null?void 0:d.total});const r=[...d.purchase_types.map(t=>({name:t==null?void 0:t.name,description:t==null?void 0:t.description,supplier:t==null?void 0:t.supplier,reference_number:t==null?void 0:t.reference_number,cost:t==null?void 0:t.cost,tax:t==null?void 0:t.tax,total:t==null?void 0:t.total}))];m(r)}},[d]),c.exports.useEffect(()=>{const r=window.scrollY;window.scrollBy(0,-r)},[]),w?e(I,{}):!d||x?e(B,{}):l("div",{className:"fixed inset-0 z-50  h-screen w-full overflow-y-auto overflow-x-hidden bg-black/75 scrollbar-thin scrollbar-track-transparent  scrollbar-thumb-gray-400 scrollbar-track-rounded-full md:inset-0",children:[l(Y.button,{...he,className:"fixed top-5 right-[5%] inline-flex items-center rounded border border-transparent bg-red-800 px-2  py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-red-800\r hover:bg-white hover:text-red-800 sm:px-3 sm:text-sm",onClick:()=>h(!1),type:"button",children:[e(L,{className:"mr-1",size:20}),"\u0625\u063A\u0644\u0627\u0642"]}),c.exports.createElement(Y.div,{...be,key:"modal",className:"mx-auto my-5 w-full max-w-5xl rounded bg-slate-50 p-6 shadow-lg shadow-black/30"},l("h3",{className:"mb-10 flex items-center justify-center rounded bg-red-800 px-2 py-4 text-center text-xl font-bold text-white shadow ",children:[e(ce,{className:"mr-2 h-16 w-16 drop-shadow"}),e("span",{children:"\u062A\u0639\u062F\u064A\u0644 \u0627\u0644\u0645\u0634\u062A\u0631\u0649"})]}),l("form",{onSubmit:S,children:[e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u062A\u0641\u0640\u0640\u0627\u0635\u064A\u0644 \u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u0649 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 ]"}),u.map((r,t)=>l("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5  font-semibold",children:[e(N,{label:"Supplier",name:"itemSupplier",labeClassNames:y.default,className:g.default,type:"text",value:r.supplier,onChange:p=>{const o=[...u];o[t].supplier=p.target.value,m(o)}}),e(N,{label:"Reference Number",name:"itemReferenceNumber",labeClassNames:y.default,className:g.default,type:"text",value:r.reference_number,onChange:p=>{const o=[...u];o[t].reference_number=p.target.value,m(o)}}),e(N,{label:"\u0634\u0631\u062D \u0627\u0644\u0645\u0634\u062A\u0631\u064A",name:"itemDescription",labeClassNames:y.default,className:g.default,type:"text",value:r.description,onChange:p=>{const o=[...u];o[t].description=p.target.value,m(o)}}),e(N,{label:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0634\u062A\u0631\u064A",name:"itemName",labeClassNames:y.default,className:g.default,type:"text",value:r.name,onChange:p=>{const o=[...u];o[t].name=p.target.value,m(o)}}),e(N,{label:"\u0627\u0644\u0645\u0628\u0644\u063A \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629",name:"itemTotal",labeClassNames:y.default,className:g.default,type:"number",value:r.cost,onChange:p=>{const o=[...u];o[t].cost=+p.target.value,o[t].total=+p.target.value+o[t].tax,m(o);const C=u.reduce((b,j)=>b+j.total,0);s({...n,total:+C.toFixed(2)})},min:0,step:.01}),e(N,{label:"\u0627\u0644\u0636\u0631\u064A\u0628\u0629",name:"itemTotal",labeClassNames:y.default,className:g.default,type:"number",value:r.tax,onChange:p=>{const o=[...u];o[t].tax=+p.target.value,o[t].total=o[t].cost+ +p.target.value,m(o);const C=u.reduce((b,j)=>b+j.total,0);s({...n,total:+C.toFixed(2)})},min:0,step:.01}),e(N,{label:"\u0627\u0644\u0627\u062C\u0645\u0627\u0644\u0649 \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629",name:"itemTotal",labeClassNames:y.default,className:`${g.default} bg-slate-200`,type:"number",value:r.total,disabled:!0,min:0,step:.01})]},t)),l("div",{className:"flex justify-around",children:[l("button",{className:"my-5 flex items-center rounded border bg-blue-800 px-2 py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-blue-800\r hover:bg-white hover:text-blue-800 sm:px-3 sm:text-sm",onClick:()=>k(1),type:"button",children:[e(J,{className:"mr-1",size:20}),"\u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u062C\u062F\u064A\u062F"]}),l("button",{className:"my-5 flex items-center rounded border bg-red-800 px-2 py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-red-800\r hover:bg-white hover:text-red-800 sm:px-3 sm:text-sm",onClick:()=>k(-1),type:"button",children:[e(K,{className:"mr-1",size:20}),"\u062D\u0630\u0641 \u0646\u0648\u0639 \u0645\u0634\u062A\u0631\u0649"]})]}),e("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u062A\u0641\u0640\u0640\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0634\u062A\u0631\u0649 \u0627\u0644\u062D\u0627\u0644\u064A\u0629 ]"}),l("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[e(N,{label:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0640\u0640\u0644\u0649",name:"totalPayment",labeClassNames:y.default,className:`${g.default} bg-slate-200`,type:"number",value:n.total,disabled:!0,min:0,step:.01,required:!0}),e(N,{label:"\u062A\u0640\u0640\u0627\u0631\u064A\u0640\u062E \u0627\u0644\u0645\u0634\u062A\u0631\u0649",name:"paymentDate",labeClassNames:y.default,className:g.default,type:"date",value:n.date,onChange:r=>s({...n,date:r.target.value}),required:!0})]}),e(z,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u062A\u0639\u062F\u064A\u0644\u0627\u062A",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:v,icon:e(W,{className:"mr-1",size:25})})]}))]})};function Be(){const[i,h]=c.exports.useState({day:"",year:"",month:"",type:"",supplier:""}),{year:a,month:f,day:d,supplier:x,type:w}=i,n=c.exports.useDeferredValue(w),s=c.exports.useDeferredValue(x),u=c.exports.useRef(!1),m=c.exports.useRef(null),{onDownload:D}=te.useDownloadExcel({currentTableRef:m.current,filename:"Purchases table",sheet:"Purchases"}),[F,k]=c.exports.useState(50),[A]=_(),v=A.get("page")?+A.get("page"):1;let S={query:{day:+d,month:+f,year:+a,type:n,supplier:s},option:{limit:F,page:v}};const{data:r,isLoading:t,isFetching:p,isSuccess:o,error:C}=ie(S),b=r!=null&&r.docs?r.docs:[],[j,{isLoading:O}]=de(),[H,T]=c.exports.useState(!1),[R,E]=c.exports.useState(!1),[U,$]=c.exports.useState(""),q=c.exports.useCallback(async(V,G)=>{V.preventDefault(),await j(G)},[]);return c.exports.useEffect(()=>{u.current&&o&&!p&&!t?M():u.current=!0},[v,o,p,t,M]),me("filterHeader"),pe("\u0627\u0644\u0645\u0634\u062A\u0640\u0640\u0631\u064A\u0627\u062A"),ue({setIsFilterOpen:E,isFilterOpen:R}),C?e(I,{}):!r||t?e(B,{}):l("main",{className:"w-full",children:[l("h2",{className:"my-4 mb-10 flex items-center justify-center rounded bg-red-700 px-2 py-4 text-3xl font-bold text-white shadow",children:[e("span",{className:"mr-2 flex items-center justify-center",children:e(Fe,{className:"mr-1 h-20 w-20 drop-shadow"})}),"\u0627\u0644\u0645\u0634\u062A\u0640\u0640\u0631\u064A\u0627\u062A"]}),e(De,{searchQuery:i,count:r!=null&&r.totalDocs?r.totalDocs:0,setIsFilterOpen:E,isFilterOpen:R}),e(Ce,{searchQuery:i,setSearchQuery:h,setIsFilterOpen:E,isFilterOpen:R,tableRows:F,setTableRows:k}),!p&&(b==null?void 0:b.length)!==0&&e(ve,{purchases:b}),p&&e(ae,{isFetching:p}),(b==null?void 0:b.length)>0&&l(Q,{children:[l("button",{className:"mx-auto my-5 flex items-center justify-center gap-1 rounded border bg-green-200 px-2 py-2 text-xs font-bold text-green-800 shadow transition-all duration-300 ease-in-out hover:border-green-800 hover:bg-white\r hover:text-green-800 sm:px-3 sm:text-sm",onClick:D,children:[e(ee,{size:20}),e("span",{children:"Export excel"})]}),e(re,{tableRow:ye,tableHeader:we,tableBodyData:b,options:r,handleRemoving:q,setIsOpen:T,setId:$,isDeleting:O,ref:m})]}),!a&&!f&&!d&&!n&&!s&&(b==null?void 0:b.length)===0&&!p&&e(le,{customMsg:["\u0645\u0634\u062A\u0631\u064A\u0627\u062A","\u0627\u0644\u0645\u0634\u062A\u0631\u064A\u0627\u062A"]}),(a||f||d||s||n)&&(b==null?void 0:b.length)===0&&!p&&e(se,{}),e(fe,{initial:!1,children:H&&e(ke,{setIsOpen:T,id:U})})]})}export{Be as default};
