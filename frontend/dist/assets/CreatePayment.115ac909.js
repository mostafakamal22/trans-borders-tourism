import{r as y,a as c,j as a,a8 as D,a9 as T,a6 as _}from"./vendor.c17f1326.js";import{u as S,F as P}from"./index.145ede7a.js";import{F as d}from"./FormInput.53f96b8d.js";import{d as k,S as j}from"./payment-alt.7c0a105d.js";import{u as I}from"./useScroll.40b3b3cf.js";import{i as n,l as o}from"./constants.ffd6e56c.js";import{b as g,p as C}from"./constants.7e1aa417.js";function L(){const[r,i]=y.exports.useState({date:"",total:0}),[s,m]=y.exports.useState([{name:"bank_payments",description:"",method:"bank",company_name:"",company_tax:"",cost:0,tax:0,total:0}]),[f,v]=y.exports.useState(1),x=l=>{if(l<0&&f===1)return;v(f+l);const u=l>0?[...s,{name:"bank_payments",description:"",method:"bank",company_name:"",company_tax:"",cost:0,tax:0,total:0}]:s.splice(0,s.length-1);m(u);const t=u.reduce((e,p)=>e+p.total,0);i({...r,total:t})},[w,{isSuccess:N,isLoading:A}]=k(),F=async l=>{l.preventDefault();const u={paymentTypes:[...s],total:r.total,paymentDate:r.date};await w(u)};return y.exports.useEffect(()=>{N&&(i({date:"",total:0}),m([{name:"bank_payments",description:"",method:"bank",company_name:"",company_tax:"",cost:0,tax:0,total:0}]))},[N]),I("createPayment"),S("\u0625\u0636\u0627\u0641\u0629 \u0645\u0635\u0631\u0648\u0641 \u062C\u062F\u064A\u062F"),c("section",{id:"createPayment",className:"w-full",children:[c("h3",{className:"mb-10 flex items-center justify-center rounded bg-red-800 px-2 py-4 text-center text-xl font-bold text-white shadow ",children:[a(j,{className:"mr-2 h-16 w-16 drop-shadow"}),a("span",{children:"\u0625\u0636\u0627\u0641\u0629 \u0645\u0635\u0631\u0648\u0641 \u062C\u062F\u064A\u062F"})]}),c("form",{onSubmit:F,children:[a("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u062A\u0641\u0640\u0627\u0635\u064A\u0644 \u0646\u0648\u0639 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 ]"}),s.map((l,u)=>c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5  font-semibold",children:[a("select",{name:"itemName",className:n.default,value:l.name,onChange:t=>{const e=[...s];e[u].name=t.target.value,m(e)},children:Object.keys(g).map(t=>a("option",{value:t,children:g[t]},t))}),a("label",{htmlFor:"itemName",className:o.default,children:"\u0646\u0648\u0639 \u0627\u0644\u0645\u0635\u0640\u0631\u0648\u0641"}),a("select",{name:"method",className:n.default,value:l.method,onChange:t=>{const e=[...s];e[u].method=t.target.value,m(e)},children:Object.keys(C).map(t=>a("option",{value:t,children:C[t]},t))}),a("label",{htmlFor:"method",className:o.default,children:"\u0637\u0631\u064A\u0642\u0629 \u062F\u0641\u0639 \u0627\u0644\u0645\u0635\u0640\u0631\u0648\u0641"}),a(d,{label:"\u0634\u0631\u062D \u0627\u0644\u0645\u0635\u0640\u0631\u0648\u0641",name:"itemDescription",labeClassNames:o.default,className:n.default,type:"text",value:l.description,onChange:t=>{const e=[...s];e[u].description=t.target.value,m(e)}}),a(d,{label:"Company name",name:"companyName",labeClassNames:o.default,className:n.default,type:"text",value:l.company_name,onChange:t=>{const e=[...s];e[u].company_name=t.target.value,m(e)}}),a(d,{label:"Company Tax Number",name:"companyTax",labeClassNames:o.default,className:n.default,type:"text",value:l.company_tax,onChange:t=>{const e=[...s];e[u].company_tax=t.target.value,m(e)}}),a(d,{label:"\u0627\u0644\u0645\u0628\u0644\u063A \u0642\u0628\u0644 \u0627\u0644\u0636\u0631\u064A\u0628\u0629",name:"itemTotal",labeClassNames:o.default,className:n.default,type:"number",value:l.cost,onChange:t=>{const e=[...s];e[u].cost=+t.target.value,e[u].total=+t.target.value+e[u].tax,m(e);const p=s.reduce((b,h)=>b+h.total,0);i({...r,total:+p.toFixed(2)})},min:0,step:.01}),a(d,{label:"\u0627\u0644\u0636\u0631\u064A\u0628\u0629",name:"itemTotal",labeClassNames:o.default,className:n.default,type:"number",value:l.tax,onChange:t=>{const e=[...s];e[u].tax=+t.target.value,e[u].total=e[u].cost+ +t.target.value,m(e);const p=s.reduce((b,h)=>b+h.total,0);i({...r,total:+p.toFixed(2)})},min:0,step:.01}),a(d,{label:"\u0627\u0644\u0627\u062C\u0645\u0627\u0644\u0649 \u0628\u0639\u062F \u0627\u0644\u0636\u0631\u064A\u0628\u0629",name:"itemTotal",labeClassNames:o.default,className:`${n.default} bg-slate-200`,type:"number",value:l.total,disabled:!0,min:0,step:.01})]},u)),c("div",{className:"flex justify-around",children:[c("button",{className:"my-5 flex items-center rounded border bg-blue-800 px-2 py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-blue-800\r hover:bg-white hover:text-blue-800 sm:px-3 sm:text-sm",onClick:()=>x(1),type:"button",children:[a(D,{className:"mr-1",size:20}),"\u0625\u0636\u0627\u0641\u0629 \u0646\u0648\u0639 \u062C\u062F\u064A\u062F"]}),c("button",{className:"my-5 flex items-center rounded border bg-red-800 px-2 py-2 text-xs font-bold text-white shadow transition-all duration-300 ease-in-out hover:border-red-800\r hover:bg-white hover:text-red-800 sm:px-3 sm:text-sm",onClick:()=>x(-1),type:"button",children:[a(T,{className:"mr-1",size:20}),"\u062D\u0630\u0641 \u0646\u0648\u0639 \u0645\u0635\u0631\u0648\u0641"]})]}),a("p",{className:"my-4 rounded bg-red-800 p-2 text-lg font-bold text-white",children:"[ \u062A\u0641\u0640\u0640\u0627\u0635\u064A\u0644 \u0627\u0644\u0645\u0635\u0631\u0648\u0641 ]"}),c("div",{className:"flex flex-wrap items-center justify-center gap-4 px-5 py-5 font-semibold",children:[a(d,{label:"\u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0643\u0640\u0640\u0644\u0649",name:"totalPayment",labeClassNames:o.default,className:`${n.default} bg-slate-200`,type:"number",value:r.total,disabled:!0,min:0,step:.01,required:!0}),a(d,{label:"\u062A\u0640\u0640\u0627\u0631\u064A\u0640\u062E \u0627\u0644\u0645\u0635\u0640\u0640\u0631\u0648\u0641",name:"paymentDate",labeClassNames:o.default,className:n.default,type:"date",value:r.date,onChange:l=>i({...r,date:l.target.value}),required:!0})]}),a(P,{text:{default:"\u062D\u0641\u0638 \u0627\u0644\u0645\u0635\u0640\u0640\u0631\u0648\u0641",loading:"\u062C\u0627\u0631\u0649 \u0627\u0644\u062D\u0641\u0638"},isLoading:A,icon:a(_,{className:"mr-1",size:25})})]})]})}export{L as default};
